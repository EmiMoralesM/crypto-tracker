var bT=Object.defineProperty;var ST=(t,e,n)=>e in t?bT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var F=(t,e,n)=>(ST(t,typeof e!="symbol"?e+"":e,n),n);function ET(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function kT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zc={},xT={get exports(){return Zc},set exports(t){Zc=t}},rh={},T={},CT={get exports(){return T},set exports(t){T=t}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),TT=Symbol.for("react.portal"),IT=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),PT=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),NT=Symbol.for("react.context"),AT=Symbol.for("react.forward_ref"),OT=Symbol.for("react.suspense"),MT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),ev=Symbol.iterator;function FT(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var _1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w1=Object.assign,b1={};function Xr(t,e,n){this.props=t,this.context=e,this.refs=b1,this.updater=n||_1}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S1(){}S1.prototype=Xr.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=b1,this.updater=n||_1}var Eg=Sg.prototype=new S1;Eg.constructor=Sg;w1(Eg,Xr.prototype);Eg.isPureReactComponent=!0;var tv=Array.isArray,E1=Object.prototype.hasOwnProperty,kg={current:null},k1={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)E1.call(e,i)&&!k1.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Za,type:t,key:r,ref:o,props:s,_owner:kg.current}}function $T(t,e){return{$$typeof:Za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function UT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nv=/\/+/g;function hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UT(""+t.key):e.toString(36)}function bc(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Za:case TT:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+hd(o,0):i,tv(s)?(n="",t!=null&&(n=t.replace(nv,"$&/")+"/"),bc(s,e,n,"",function(c){return c})):s!=null&&(xg(s)&&(s=$T(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",tv(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+hd(r,a);o+=bc(r,e,n,l,s)}else if(l=FT(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+hd(r,a++),o+=bc(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(t,e,n){if(t==null)return t;var i=[],s=0;return bc(t,i,"","",function(r){return e.call(n,r,s++)}),i}function BT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},Sc={transition:null},zT={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:kg};Z.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Xr;Z.Fragment=IT;Z.Profiler=PT;Z.PureComponent=Sg;Z.StrictMode=DT;Z.Suspense=OT;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=w1({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)E1.call(e,l)&&!k1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Za,type:t.type,key:s,ref:r,props:i,_owner:o}};Z.createContext=function(t){return t={$$typeof:NT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RT,_context:t},t.Consumer=t};Z.createElement=x1;Z.createFactory=function(t){var e=x1.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:AT,render:t}};Z.isValidElement=xg;Z.lazy=function(t){return{$$typeof:LT,_payload:{_status:-1,_result:t},_init:BT}};Z.memo=function(t,e){return{$$typeof:MT,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return Tt.current.useCallback(t,e)};Z.useContext=function(t){return Tt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Tt.current.useEffect(t,e)};Z.useId=function(){return Tt.current.useId()};Z.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Tt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};Z.useRef=function(t){return Tt.current.useRef(t)};Z.useState=function(t){return Tt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Tt.current.useTransition()};Z.version="18.2.0";(function(t){t.exports=Z})(CT);const Cg=kT(T),Cf=ET({__proto__:null,default:Cg},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=T,jT=Symbol.for("react.element"),HT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,qT=VT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KT={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)WT.call(e,i)&&!KT.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:jT,type:t,key:r,ref:o,props:s,_owner:qT.current}}rh.Fragment=HT;rh.jsx=C1;rh.jsxs=C1;(function(t){t.exports=rh})(xT);const w=Zc.jsx,C=Zc.jsxs;var Tf={},If={},GT={get exports(){return If},set exports(t){If=t}},qt={},Df={},YT={get exports(){return Df},set exports(t){Df=t}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,B){var W=O.length;O.push(B);e:for(;0<W;){var ue=W-1>>>1,me=O[ue];if(0<s(me,B))O[ue]=B,O[W]=me,W=ue;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var B=O[0],W=O.pop();if(W!==B){O[0]=W;e:for(var ue=0,me=O.length,yn=me>>>1;ue<yn;){var Lt=2*(ue+1)-1,$n=O[Lt],Ft=Lt+1,Nl=O[Ft];if(0>s($n,W))Ft<me&&0>s(Nl,$n)?(O[ue]=Nl,O[Ft]=W,ue=Ft):(O[ue]=$n,O[Lt]=W,ue=Lt);else if(Ft<me&&0>s(Nl,W))O[ue]=Nl,O[Ft]=W,ue=Ft;else break e}}return B}function s(O,B){var W=O.sortIndex-B.sortIndex;return W!==0?W:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=O)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function b(O){if(g=!1,_(O),!p)if(n(l)!==null)p=!0,ce(S);else{var B=n(c);B!==null&&ge(b,B.startTime-O)}}function S(O,B){p=!1,g&&(g=!1,y(k),k=-1),f=!0;var W=d;try{for(_(B),h=n(l);h!==null&&(!(h.expirationTime>B)||O&&!M());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,d=h.priorityLevel;var me=ue(h.expirationTime<=B);B=t.unstable_now(),typeof me=="function"?h.callback=me:h===n(l)&&i(l),_(B)}else i(l);h=n(l)}if(h!==null)var yn=!0;else{var Lt=n(c);Lt!==null&&ge(b,Lt.startTime-B),yn=!1}return yn}finally{h=null,d=W,f=!1}}var x=!1,E=null,k=-1,P=5,D=-1;function M(){return!(t.unstable_now()-D<P)}function H(){if(E!==null){var O=t.unstable_now();D=O;var B=!0;try{B=E(!0,O)}finally{B?pe():(x=!1,E=null)}}else x=!1}var pe;if(typeof m=="function")pe=function(){m(H)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,re=Xe.port2;Xe.port1.onmessage=H,pe=function(){re.postMessage(null)}}else pe=function(){v(H,0)};function ce(O){E=O,x||(x=!0,pe())}function ge(O,B){k=v(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ce(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return O()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=d;d=O;try{return B()}finally{d=W}},t.unstable_scheduleCallback=function(O,B,W){var ue=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,O){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=W+me,O={id:u++,callback:B,priorityLevel:O,startTime:W,expirationTime:me,sortIndex:-1},W>ue?(O.sortIndex=W,e(c,O),n(l)===null&&O===n(c)&&(g?(y(k),k=-1):g=!0,ge(b,W-ue))):(O.sortIndex=me,e(l,O),p||f||(p=!0,ce(S))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var B=d;return function(){var W=d;d=B;try{return O.apply(this,arguments)}finally{d=W}}}})(T1);(function(t){t.exports=T1})(YT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=T,Ht=Df;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D1=new Set,ha={};function Ws(t,e){Dr(t,e),Dr(t+"Capture",e)}function Dr(t,e){for(ha[t]=e,t=0;t<e.length;t++)D1.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},sv={};function QT(t){return Pf.call(sv,t)?!0:Pf.call(iv,t)?!1:XT.test(t)?sv[t]=!0:(iv[t]=!0,!1)}function JT(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZT(t,e,n,i){if(e===null||typeof e>"u"||JT(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function Ig(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tg,Ig);ot[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tg,Ig);ot[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tg,Ig);ot[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dg(t,e,n,i){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZT(e,n,s,i)&&(n=null),i||s===null?QT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ui=I1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),sr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),R1=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),N1=Symbol.for("react.offscreen"),rv=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=rv&&t[rv]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,dd;function Do(t){if(dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dd=e&&e[1]||""}return`
`+dd+t}var fd=!1;function pd(t,e){if(!t||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Do(t):""}function eI(t){switch(t.tag){case 5:return Do(t.type);case 16:return Do("Lazy");case 13:return Do("Suspense");case 19:return Do("SuspenseList");case 0:case 2:case 15:return t=pd(t.type,!1),t;case 11:return t=pd(t.type.render,!1),t;case 1:return t=pd(t.type,!0),t;default:return""}}function Of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rr:return"Fragment";case sr:return"Portal";case Rf:return"Profiler";case Pg:return"StrictMode";case Nf:return"Suspense";case Af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R1:return(t.displayName||"Context")+".Consumer";case P1:return(t._context.displayName||"Context")+".Provider";case Rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}function tI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(e);case 8:return e===Pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nI(t){var e=A1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=nI(t))}function O1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=A1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mf(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ov(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M1(t,e){e=e.checked,e!=null&&Dg(t,"checked",e,!1)}function Lf(t,e){M1(t,e);var n=Wi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function av(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function vr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $f(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Po(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function L1(t,e){var n=Wi(e.value),i=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ll,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iI=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){iI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function U1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=U1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var sI=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(t,e){if(e){if(sI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jf=null,_r=null,wr=null;function uv(t){if(t=nl(t)){if(typeof jf!="function")throw Error(R(280));var e=t.stateNode;e&&(e=uh(e),jf(t.stateNode,t.type,e))}}function z1(t){_r?wr?wr.push(t):wr=[t]:_r=t}function V1(){if(_r){var t=_r,e=wr;if(wr=_r=null,uv(t),e)for(t=0;t<e.length;t++)uv(e[t])}}function j1(t,e){return t(e)}function H1(){}var gd=!1;function W1(t,e,n){if(gd)return t(e,n);gd=!0;try{return j1(t,e,n)}finally{gd=!1,(_r!==null||wr!==null)&&(H1(),V1())}}function fa(t,e){var n=t.stateNode;if(n===null)return null;var i=uh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Hf=!1;if(ti)try{var po={};Object.defineProperty(po,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Hf=!1}function rI(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ho=!1,tu=null,nu=!1,Wf=null,oI={onError:function(t){Ho=!0,tu=t}};function aI(t,e,n,i,s,r,o,a,l){Ho=!1,tu=null,rI.apply(oI,arguments)}function lI(t,e,n,i,s,r,o,a,l){if(aI.apply(this,arguments),Ho){if(Ho){var c=tu;Ho=!1,tu=null}else throw Error(R(198));nu||(nu=!0,Wf=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hv(t){if(qs(t)!==t)throw Error(R(188))}function cI(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return hv(s),t;if(r===i)return hv(s),e;r=r.sibling}throw Error(R(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function K1(t){return t=cI(t),t!==null?G1(t):null}function G1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G1(t);if(e!==null)return e;t=t.sibling}return null}var Y1=Ht.unstable_scheduleCallback,dv=Ht.unstable_cancelCallback,uI=Ht.unstable_shouldYield,hI=Ht.unstable_requestPaint,Me=Ht.unstable_now,dI=Ht.unstable_getCurrentPriorityLevel,Og=Ht.unstable_ImmediatePriority,X1=Ht.unstable_UserBlockingPriority,iu=Ht.unstable_NormalPriority,fI=Ht.unstable_LowPriority,Q1=Ht.unstable_IdlePriority,oh=null,Tn=null;function pI(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:yI,gI=Math.log,mI=Math.LN2;function yI(t){return t>>>=0,t===0?32:31-(gI(t)/mI|0)|0}var Fl=64,$l=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function su(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=Ro(a):(r&=o,r!==0&&(i=Ro(r)))}else o=n&~s,o!==0?i=Ro(o):r!==0&&(i=Ro(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-hn(e),s=1<<n,i|=t[n],e&=~s;return i}function vI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _I(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-hn(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=vI(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J1(){var t=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),t}function md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function wI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hn(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-hn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var le=0;function Z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eb,Lg,tb,nb,ib,Kf=!1,Ul=[],Ni=null,Ai=null,Oi=null,pa=new Map,ga=new Map,vi=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(e.pointerId)}}function go(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=nl(e),e!==null&&Lg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SI(t,e,n,i,s){switch(e){case"focusin":return Ni=go(Ni,t,e,n,i,s),!0;case"dragenter":return Ai=go(Ai,t,e,n,i,s),!0;case"mouseover":return Oi=go(Oi,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return pa.set(r,go(pa.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,ga.set(r,go(ga.get(r)||null,t,e,n,i,s)),!0}return!1}function sb(t){var e=ms(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=q1(n),e!==null){t.blockedOn=e,ib(t.priority,function(){tb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Vf=i,n.target.dispatchEvent(i),Vf=null}else return e=nl(n),e!==null&&Lg(e),t.blockedOn=n,!1;e.shift()}return!0}function pv(t,e,n){Ec(t)&&n.delete(e)}function EI(){Kf=!1,Ni!==null&&Ec(Ni)&&(Ni=null),Ai!==null&&Ec(Ai)&&(Ai=null),Oi!==null&&Ec(Oi)&&(Oi=null),pa.forEach(pv),ga.forEach(pv)}function mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Kf||(Kf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,EI)))}function ma(t){function e(s){return mo(s,t)}if(0<Ul.length){mo(Ul[0],t);for(var n=1;n<Ul.length;n++){var i=Ul[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ni!==null&&mo(Ni,t),Ai!==null&&mo(Ai,t),Oi!==null&&mo(Oi,t),pa.forEach(e),ga.forEach(e),n=0;n<vi.length;n++)i=vi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)sb(n),n.blockedOn===null&&vi.shift()}var br=ui.ReactCurrentBatchConfig,ru=!0;function kI(t,e,n,i){var s=le,r=br.transition;br.transition=null;try{le=1,Fg(t,e,n,i)}finally{le=s,br.transition=r}}function xI(t,e,n,i){var s=le,r=br.transition;br.transition=null;try{le=4,Fg(t,e,n,i)}finally{le=s,br.transition=r}}function Fg(t,e,n,i){if(ru){var s=Gf(t,e,n,i);if(s===null)Cd(t,e,i,ou,n),fv(t,i);else if(SI(s,t,e,n,i))i.stopPropagation();else if(fv(t,i),e&4&&-1<bI.indexOf(t)){for(;s!==null;){var r=nl(s);if(r!==null&&eb(r),r=Gf(t,e,n,i),r===null&&Cd(t,e,i,ou,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Cd(t,e,i,null,n)}}var ou=null;function Gf(t,e,n,i){if(ou=null,t=Ag(i),t=ms(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function rb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dI()){case Og:return 1;case X1:return 4;case iu:case fI:return 16;case Q1:return 536870912;default:return 16}default:return 16}}var xi=null,$g=null,kc=null;function ob(){if(kc)return kc;var t,e=$g,n=e.length,i,s="value"in xi?xi.value:xi.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return kc=s.slice(t,1<i?1-i:void 0)}function xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function gv(){return!1}function Kt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bl:gv,this.isPropagationStopped=gv,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ug=Kt(Qr),tl=Te({},Qr,{view:0,detail:0}),CI=Kt(tl),yd,vd,yo,ah=Te({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(yd=t.screenX-yo.screenX,vd=t.screenY-yo.screenY):vd=yd=0,yo=t),yd)},movementY:function(t){return"movementY"in t?t.movementY:vd}}),mv=Kt(ah),TI=Te({},ah,{dataTransfer:0}),II=Kt(TI),DI=Te({},tl,{relatedTarget:0}),_d=Kt(DI),PI=Te({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=Kt(PI),NI=Te({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AI=Kt(NI),OI=Te({},Qr,{data:0}),yv=Kt(OI),MI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function Bg(){return $I}var UI=Te({},tl,{key:function(t){if(t.key){var e=MI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BI=Kt(UI),zI=Te({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=Kt(zI),VI=Te({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),jI=Kt(VI),HI=Te({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=Kt(HI),qI=Te({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=Kt(qI),GI=[9,13,27,32],zg=ti&&"CompositionEvent"in window,Wo=null;ti&&"documentMode"in document&&(Wo=document.documentMode);var YI=ti&&"TextEvent"in window&&!Wo,ab=ti&&(!zg||Wo&&8<Wo&&11>=Wo),_v=String.fromCharCode(32),wv=!1;function lb(t,e){switch(t){case"keyup":return GI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function XI(t,e){switch(t){case"compositionend":return cb(e);case"keypress":return e.which!==32?null:(wv=!0,_v);case"textInput":return t=e.data,t===_v&&wv?null:t;default:return null}}function QI(t,e){if(or)return t==="compositionend"||!zg&&lb(t,e)?(t=ob(),kc=$g=xi=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ab&&e.locale!=="ko"?null:e.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JI[t.type]:e==="textarea"}function ub(t,e,n,i){z1(i),e=au(e,"onChange"),0<e.length&&(n=new Ug("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qo=null,ya=null;function ZI(t){bb(t,0)}function lh(t){var e=cr(t);if(O1(e))return t}function eD(t,e){if(t==="change")return e}var hb=!1;if(ti){var wd;if(ti){var bd="oninput"in document;if(!bd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),bd=typeof Sv.oninput=="function"}wd=bd}else wd=!1;hb=wd&&(!document.documentMode||9<document.documentMode)}function Ev(){qo&&(qo.detachEvent("onpropertychange",db),ya=qo=null)}function db(t){if(t.propertyName==="value"&&lh(ya)){var e=[];ub(e,ya,t,Ag(t)),W1(ZI,e)}}function tD(t,e,n){t==="focusin"?(Ev(),qo=e,ya=n,qo.attachEvent("onpropertychange",db)):t==="focusout"&&Ev()}function nD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(ya)}function iD(t,e){if(t==="click")return lh(e)}function sD(t,e){if(t==="input"||t==="change")return lh(e)}function rD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:rD;function va(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Pf.call(e,s)||!pn(t[s],e[s]))return!1}return!0}function kv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xv(t,e){var n=kv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kv(n)}}function fb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pb(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oD(t){var e=pb(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fb(n.ownerDocument.documentElement,n)){if(i!==null&&Vg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=xv(n,r);var o=xv(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aD=ti&&"documentMode"in document&&11>=document.documentMode,ar=null,Yf=null,Ko=null,Xf=!1;function Cv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xf||ar==null||ar!==eu(i)||(i=ar,"selectionStart"in i&&Vg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ko&&va(Ko,i)||(Ko=i,i=au(Yf,"onSelect"),0<i.length&&(e=new Ug("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ar)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lr={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Sd={},gb={};ti&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function ch(t){if(Sd[t])return Sd[t];if(!lr[t])return t;var e=lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gb)return Sd[t]=e[n];return t}var mb=ch("animationend"),yb=ch("animationiteration"),vb=ch("animationstart"),_b=ch("transitionend"),wb=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){wb.set(t,e),Ws(e,[t])}for(var Ed=0;Ed<Tv.length;Ed++){var kd=Tv[Ed],lD=kd.toLowerCase(),cD=kd[0].toUpperCase()+kd.slice(1);es(lD,"on"+cD)}es(mb,"onAnimationEnd");es(yb,"onAnimationIteration");es(vb,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(_b,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Iv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,lI(i,e,void 0,t),t.currentTarget=null}function bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Iv(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Iv(s,a,c),r=l}}}if(nu)throw t=Wf,nu=!1,Wf=null,t}function ye(t,e){var n=e[tp];n===void 0&&(n=e[tp]=new Set);var i=t+"__bubble";n.has(i)||(Sb(e,t,2,!1),n.add(i))}function xd(t,e,n){var i=0;e&&(i|=4),Sb(n,t,i,e)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[Vl]){t[Vl]=!0,D1.forEach(function(n){n!=="selectionchange"&&(uD.has(n)||xd(n,!1,t),xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vl]||(e[Vl]=!0,xd("selectionchange",!1,e))}}function Sb(t,e,n,i){switch(rb(e)){case 1:var s=kI;break;case 4:s=xI;break;default:s=Fg}n=s.bind(null,e,n,t),s=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cd(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}W1(function(){var c=r,u=Ag(n),h=[];e:{var d=wb.get(t);if(d!==void 0){var f=Ug,p=t;switch(t){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":f=BI;break;case"focusin":p="focus",f=_d;break;case"focusout":p="blur",f=_d;break;case"beforeblur":case"afterblur":f=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=II;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jI;break;case mb:case yb:case vb:f=RI;break;case _b:f=WI;break;case"scroll":f=CI;break;case"wheel":f=KI;break;case"copy":case"cut":case"paste":f=AI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vv}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var m=c,_;m!==null;){_=m;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,y!==null&&(b=fa(m,y),b!=null&&g.push(wa(m,b,_)))),v)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Vf&&(p=n.relatedTarget||n.fromElement)&&(ms(p)||p[ni]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ms(p):null,p!==null&&(v=qs(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=mv,b="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=vv,b="onPointerLeave",y="onPointerEnter",m="pointer"),v=f==null?d:cr(f),_=p==null?d:cr(p),d=new g(b,m+"leave",f,n,u),d.target=v,d.relatedTarget=_,b=null,ms(u)===c&&(g=new g(y,m+"enter",p,n,u),g.target=_,g.relatedTarget=v,b=g),v=b,f&&p)t:{for(g=f,y=p,m=0,_=g;_;_=Zs(_))m++;for(_=0,b=y;b;b=Zs(b))_++;for(;0<m-_;)g=Zs(g),m--;for(;0<_-m;)y=Zs(y),_--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Zs(g),y=Zs(y)}g=null}else g=null;f!==null&&Dv(h,d,f,g,!1),p!==null&&v!==null&&Dv(h,v,p,g,!0)}}e:{if(d=c?cr(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=eD;else if(bv(d))if(hb)S=sD;else{S=nD;var x=tD}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=iD);if(S&&(S=S(t,c))){ub(h,S,n,u);break e}x&&x(t,d,c),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Ff(d,"number",d.value)}switch(x=c?cr(c):window,t){case"focusin":(bv(x)||x.contentEditable==="true")&&(ar=x,Yf=c,Ko=null);break;case"focusout":Ko=Yf=ar=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Cv(h,n,u);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":Cv(h,n,u)}var E;if(zg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else or?lb(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ab&&n.locale!=="ko"&&(or||k!=="onCompositionStart"?k==="onCompositionEnd"&&or&&(E=ob()):(xi=u,$g="value"in xi?xi.value:xi.textContent,or=!0)),x=au(c,k),0<x.length&&(k=new yv(k,t,null,n,u),h.push({event:k,listeners:x}),E?k.data=E:(E=cb(n),E!==null&&(k.data=E)))),(E=YI?XI(t,n):QI(t,n))&&(c=au(c,"onBeforeInput"),0<c.length&&(u=new yv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}bb(h,e)})}function wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function au(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=fa(t,n),r!=null&&i.unshift(wa(t,r,s)),r=fa(t,e),r!=null&&i.push(wa(t,r,s))),t=t.return}return i}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dv(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=fa(n,r),l!=null&&o.unshift(wa(n,l,a))):s||(l=fa(n,r),l!=null&&o.push(wa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hD=/\r\n?/g,dD=/\u0000|\uFFFD/g;function Pv(t){return(typeof t=="string"?t:""+t).replace(hD,`
`).replace(dD,"")}function jl(t,e,n){if(e=Pv(e),Pv(t)!==e&&n)throw Error(R(425))}function lu(){}var Qf=null,Jf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(gD)}:ep;function gD(t){setTimeout(function(){throw t})}function Td(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ma(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ma(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),En="__reactFiber$"+Jr,ba="__reactProps$"+Jr,ni="__reactContainer$"+Jr,tp="__reactEvents$"+Jr,mD="__reactListeners$"+Jr,yD="__reactHandles$"+Jr;function ms(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nv(t);t!==null;){if(n=t[En])return n;t=Nv(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[En]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function uh(t){return t[ba]||null}var np=[],ur=-1;function ts(t){return{current:t}}function _e(t){0>ur||(t.current=np[ur],np[ur]=null,ur--)}function fe(t,e){ur++,np[ur]=t.current,t.current=e}var qi={},_t=ts(qi),At=ts(!1),Rs=qi;function Pr(t,e){var n=t.type.contextTypes;if(!n)return qi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(t){return t=t.childContextTypes,t!=null}function cu(){_e(At),_e(_t)}function Av(t,e,n){if(_t.current!==qi)throw Error(R(168));fe(_t,e),fe(At,n)}function Eb(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(R(108,tI(t)||"Unknown",s));return Te({},n,i)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Rs=_t.current,fe(_t,t),fe(At,At.current),!0}function Ov(t,e,n){var i=t.stateNode;if(!i)throw Error(R(169));n?(t=Eb(t,e,Rs),i.__reactInternalMemoizedMergedChildContext=t,_e(At),_e(_t),fe(_t,t)):_e(At),fe(At,n)}var Hn=null,hh=!1,Id=!1;function kb(t){Hn===null?Hn=[t]:Hn.push(t)}function vD(t){hh=!0,kb(t)}function ns(){if(!Id&&Hn!==null){Id=!0;var t=0,e=le;try{var n=Hn;for(le=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Hn=null,hh=!1}catch(s){throw Hn!==null&&(Hn=Hn.slice(t+1)),Y1(Og,ns),s}finally{le=e,Id=!1}}return null}var hr=[],dr=0,hu=null,du=0,Yt=[],Xt=0,Ns=null,qn=1,Kn="";function hs(t,e){hr[dr++]=du,hr[dr++]=hu,hu=t,du=e}function xb(t,e,n){Yt[Xt++]=qn,Yt[Xt++]=Kn,Yt[Xt++]=Ns,Ns=t;var i=qn;t=Kn;var s=32-hn(i)-1;i&=~(1<<s),n+=1;var r=32-hn(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,qn=1<<32-hn(e)+s|n<<s|i,Kn=r+t}else qn=1<<r|n<<s|i,Kn=t}function jg(t){t.return!==null&&(hs(t,1),xb(t,1,0))}function Hg(t){for(;t===hu;)hu=hr[--dr],hr[dr]=null,du=hr[--dr],hr[dr]=null;for(;t===Ns;)Ns=Yt[--Xt],Yt[Xt]=null,Kn=Yt[--Xt],Yt[Xt]=null,qn=Yt[--Xt],Yt[Xt]=null}var jt=null,zt=null,Se=!1,ln=null;function Cb(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,zt=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ns!==null?{id:qn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,zt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sp(t){if(Se){var e=zt;if(e){var n=e;if(!Mv(t,e)){if(ip(t))throw Error(R(418));e=Mi(n.nextSibling);var i=jt;e&&Mv(t,e)?Cb(i,n):(t.flags=t.flags&-4097|2,Se=!1,jt=t)}}else{if(ip(t))throw Error(R(418));t.flags=t.flags&-4097|2,Se=!1,jt=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Hl(t){if(t!==jt)return!1;if(!Se)return Lv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=zt)){if(ip(t))throw Tb(),Error(R(418));for(;e;)Cb(t,e),e=Mi(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=jt?Mi(t.stateNode.nextSibling):null;return!0}function Tb(){for(var t=zt;t;)t=Mi(t.nextSibling)}function Rr(){zt=jt=null,Se=!1}function Wg(t){ln===null?ln=[t]:ln.push(t)}var _D=ui.ReactCurrentBatchConfig;function on(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var fu=ts(null),pu=null,fr=null,qg=null;function Kg(){qg=fr=pu=null}function Gg(t){var e=fu.current;_e(fu),t._currentValue=e}function rp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Sr(t,e){pu=t,qg=fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(qg!==t)if(t={context:t,memoizedValue:e,next:null},fr===null){if(pu===null)throw Error(R(308));fr=t,pu.dependencies={lanes:0,firstContext:t}}else fr=fr.next=t;return e}var ys=null;function Yg(t){ys===null?ys=[t]:ys.push(t)}function Ib(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Yg(e)):(n.next=s.next,s.next=n),e.interleaved=n,ii(t,i)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Db(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ne&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,ii(t,n)}return s=i.interleaved,s===null?(e.next=e,Yg(i)):(e.next=s.next,s.next=e),i.interleaved=e,ii(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mg(t,n)}}function Fv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,i){var s=t.updateQueue;yi=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Te({},h,d);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Os|=o,t.lanes=o,t.memoizedState=h}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(R(191,s));s.call(i)}}}var Pb=new I1.Component().refs;function op(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dh={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ct(),s=$i(t),r=Zn(i,s);r.payload=e,n!=null&&(r.callback=n),e=Li(t,r,s),e!==null&&(dn(e,t,s,i),Cc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ct(),s=$i(t),r=Zn(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Li(t,r,s),e!==null&&(dn(e,t,s,i),Cc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),i=$i(t),s=Zn(n,i);s.tag=2,e!=null&&(s.callback=e),e=Li(t,s,i),e!==null&&(dn(e,t,i,n),Cc(e,t,i))}};function Uv(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!va(n,i)||!va(s,r):!0}function Rb(t,e,n){var i=!1,s=qi,r=e.contextType;return typeof r=="object"&&r!==null?r=tn(r):(s=Ot(e)?Rs:_t.current,i=e.contextTypes,r=(i=i!=null)?Pr(t,s):qi),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Bv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function ap(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Pb,Xg(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=tn(r):(r=Ot(e)?Rs:_t.current,s.context=Pr(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(op(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dh.enqueueReplaceState(s,s.state,null),gu(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var i=n.stateNode}if(!i)throw Error(R(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;a===Pb&&(a=s.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Wl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zv(t){var e=t._init;return e(t._payload)}function Nb(t){function e(y,m){if(t){var _=y.deletions;_===null?(y.deletions=[m],y.flags|=16):_.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ui(y,m),y.index=0,y.sibling=null,y}function r(y,m,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<m?(y.flags|=2,m):_):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,_,b){return m===null||m.tag!==6?(m=Md(_,y.mode,b),m.return=y,m):(m=s(m,_),m.return=y,m)}function l(y,m,_,b){var S=_.type;return S===rr?u(y,m,_.props.children,b,_.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mi&&zv(S)===m.type)?(b=s(m,_.props),b.ref=vo(y,m,_),b.return=y,b):(b=Nc(_.type,_.key,_.props,null,y.mode,b),b.ref=vo(y,m,_),b.return=y,b)}function c(y,m,_,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=Ld(_,y.mode,b),m.return=y,m):(m=s(m,_.children||[]),m.return=y,m)}function u(y,m,_,b,S){return m===null||m.tag!==7?(m=ks(_,y.mode,b,S),m.return=y,m):(m=s(m,_),m.return=y,m)}function h(y,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Md(""+m,y.mode,_),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ol:return _=Nc(m.type,m.key,m.props,null,y.mode,_),_.ref=vo(y,null,m),_.return=y,_;case sr:return m=Ld(m,y.mode,_),m.return=y,m;case mi:var b=m._init;return h(y,b(m._payload),_)}if(Po(m)||fo(m))return m=ks(m,y.mode,_,null),m.return=y,m;Wl(y,m)}return null}function d(y,m,_,b){var S=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(y,m,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:return _.key===S?l(y,m,_,b):null;case sr:return _.key===S?c(y,m,_,b):null;case mi:return S=_._init,d(y,m,S(_._payload),b)}if(Po(_)||fo(_))return S!==null?null:u(y,m,_,b,null);Wl(y,_)}return null}function f(y,m,_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(_)||null,a(m,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ol:return y=y.get(b.key===null?_:b.key)||null,l(m,y,b,S);case sr:return y=y.get(b.key===null?_:b.key)||null,c(m,y,b,S);case mi:var x=b._init;return f(y,m,_,x(b._payload),S)}if(Po(b)||fo(b))return y=y.get(_)||null,u(m,y,b,S,null);Wl(m,b)}return null}function p(y,m,_,b){for(var S=null,x=null,E=m,k=m=0,P=null;E!==null&&k<_.length;k++){E.index>k?(P=E,E=null):P=E.sibling;var D=d(y,E,_[k],b);if(D===null){E===null&&(E=P);break}t&&E&&D.alternate===null&&e(y,E),m=r(D,m,k),x===null?S=D:x.sibling=D,x=D,E=P}if(k===_.length)return n(y,E),Se&&hs(y,k),S;if(E===null){for(;k<_.length;k++)E=h(y,_[k],b),E!==null&&(m=r(E,m,k),x===null?S=E:x.sibling=E,x=E);return Se&&hs(y,k),S}for(E=i(y,E);k<_.length;k++)P=f(E,y,k,_[k],b),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?k:P.key),m=r(P,m,k),x===null?S=P:x.sibling=P,x=P);return t&&E.forEach(function(M){return e(y,M)}),Se&&hs(y,k),S}function g(y,m,_,b){var S=fo(_);if(typeof S!="function")throw Error(R(150));if(_=S.call(_),_==null)throw Error(R(151));for(var x=S=null,E=m,k=m=0,P=null,D=_.next();E!==null&&!D.done;k++,D=_.next()){E.index>k?(P=E,E=null):P=E.sibling;var M=d(y,E,D.value,b);if(M===null){E===null&&(E=P);break}t&&E&&M.alternate===null&&e(y,E),m=r(M,m,k),x===null?S=M:x.sibling=M,x=M,E=P}if(D.done)return n(y,E),Se&&hs(y,k),S;if(E===null){for(;!D.done;k++,D=_.next())D=h(y,D.value,b),D!==null&&(m=r(D,m,k),x===null?S=D:x.sibling=D,x=D);return Se&&hs(y,k),S}for(E=i(y,E);!D.done;k++,D=_.next())D=f(E,y,k,D.value,b),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?k:D.key),m=r(D,m,k),x===null?S=D:x.sibling=D,x=D);return t&&E.forEach(function(H){return e(y,H)}),Se&&hs(y,k),S}function v(y,m,_,b){if(typeof _=="object"&&_!==null&&_.type===rr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:e:{for(var S=_.key,x=m;x!==null;){if(x.key===S){if(S=_.type,S===rr){if(x.tag===7){n(y,x.sibling),m=s(x,_.props.children),m.return=y,y=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mi&&zv(S)===x.type){n(y,x.sibling),m=s(x,_.props),m.ref=vo(y,x,_),m.return=y,y=m;break e}n(y,x);break}else e(y,x);x=x.sibling}_.type===rr?(m=ks(_.props.children,y.mode,b,_.key),m.return=y,y=m):(b=Nc(_.type,_.key,_.props,null,y.mode,b),b.ref=vo(y,m,_),b.return=y,y=b)}return o(y);case sr:e:{for(x=_.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(y,m.sibling),m=s(m,_.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Ld(_,y.mode,b),m.return=y,y=m}return o(y);case mi:return x=_._init,v(y,m,x(_._payload),b)}if(Po(_))return p(y,m,_,b);if(fo(_))return g(y,m,_,b);Wl(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,_),m.return=y,y=m):(n(y,m),m=Md(_,y.mode,b),m.return=y,y=m),o(y)):n(y,m)}return v}var Nr=Nb(!0),Ab=Nb(!1),il={},In=ts(il),Sa=ts(il),Ea=ts(il);function vs(t){if(t===il)throw Error(R(174));return t}function Qg(t,e){switch(fe(Ea,e),fe(Sa,t),fe(In,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}_e(In),fe(In,e)}function Ar(){_e(In),_e(Sa),_e(Ea)}function Ob(t){vs(Ea.current);var e=vs(In.current),n=Uf(e,t.type);e!==n&&(fe(Sa,t),fe(In,n))}function Jg(t){Sa.current===t&&(_e(In),_e(Sa))}var xe=ts(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dd=[];function Zg(){for(var t=0;t<Dd.length;t++)Dd[t]._workInProgressVersionPrimary=null;Dd.length=0}var Tc=ui.ReactCurrentDispatcher,Pd=ui.ReactCurrentBatchConfig,As=0,Ce=null,Ve=null,Je=null,yu=!1,Go=!1,ka=0,wD=0;function lt(){throw Error(R(321))}function em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function tm(t,e,n,i,s,r){if(As=r,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?kD:xD,t=n(i,s),Go){r=0;do{if(Go=!1,ka=0,25<=r)throw Error(R(301));r+=1,Je=Ve=null,e.updateQueue=null,Tc.current=CD,t=n(i,s)}while(Go)}if(Tc.current=vu,e=Ve!==null&&Ve.next!==null,As=0,Je=Ve=Ce=null,yu=!1,e)throw Error(R(300));return t}function nm(){var t=ka!==0;return ka=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ce.memoizedState=Je=t:Je=Je.next=t,Je}function nn(){if(Ve===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=Je===null?Ce.memoizedState:Je.next;if(e!==null)Je=e,Ve=t;else{if(t===null)throw Error(R(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Je===null?Ce.memoizedState=Je=t:Je=Je.next=t}return Je}function xa(t,e){return typeof e=="function"?e(t):e}function Rd(t){var e=nn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=Ve,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((As&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ce.lanes|=u,Os|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,pn(i,e.memoizedState)||(Nt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,Ce.lanes|=r,Os|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nd(t){var e=nn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);pn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Mb(){}function Lb(t,e){var n=Ce,i=nn(),s=e(),r=!pn(i.memoizedState,s);if(r&&(i.memoizedState=s,Nt=!0),i=i.queue,im(Ub.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Ca(9,$b.bind(null,n,i,s,e),void 0,null),et===null)throw Error(R(349));As&30||Fb(n,e,s)}return s}function Fb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $b(t,e,n,i){e.value=n,e.getSnapshot=i,Bb(e)&&zb(t)}function Ub(t,e,n){return n(function(){Bb(e)&&zb(t)})}function Bb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function zb(t){var e=ii(t,1);e!==null&&dn(e,t,1,-1)}function Vv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},e.queue=t,t=t.dispatch=ED.bind(null,Ce,t),[e.memoizedState,t]}function Ca(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Vb(){return nn().memoizedState}function Ic(t,e,n,i){var s=bn();Ce.flags|=t,s.memoizedState=Ca(1|e,n,void 0,i===void 0?null:i)}function fh(t,e,n,i){var s=nn();i=i===void 0?null:i;var r=void 0;if(Ve!==null){var o=Ve.memoizedState;if(r=o.destroy,i!==null&&em(i,o.deps)){s.memoizedState=Ca(e,n,r,i);return}}Ce.flags|=t,s.memoizedState=Ca(1|e,n,r,i)}function jv(t,e){return Ic(8390656,8,t,e)}function im(t,e){return fh(2048,8,t,e)}function jb(t,e){return fh(4,2,t,e)}function Hb(t,e){return fh(4,4,t,e)}function Wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qb(t,e,n){return n=n!=null?n.concat([t]):null,fh(4,4,Wb.bind(null,e,t),n)}function sm(){}function Kb(t,e){var n=nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&em(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Gb(t,e){var n=nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&em(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Yb(t,e,n){return As&21?(pn(n,e)||(n=J1(),Ce.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function bD(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var i=Pd.transition;Pd.transition={};try{t(!1),e()}finally{le=n,Pd.transition=i}}function Xb(){return nn().memoizedState}function SD(t,e,n){var i=$i(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Qb(t))Jb(e,n);else if(n=Ib(t,e,n,i),n!==null){var s=Ct();dn(n,t,i,s),Zb(n,e,i)}}function ED(t,e,n){var i=$i(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qb(t))Jb(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,pn(a,o)){var l=e.interleaved;l===null?(s.next=s,Yg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ib(t,e,s,i),n!==null&&(s=Ct(),dn(n,t,i,s),Zb(n,e,i))}}function Qb(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function Jb(t,e){Go=yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zb(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mg(t,n)}}var vu={readContext:tn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},kD={readContext:tn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:jv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,Wb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=bn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=SD.bind(null,Ce,t),[i.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Vv,useDebugValue:sm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Vv(!1),e=t[0];return t=bD.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ce,s=bn();if(Se){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),et===null)throw Error(R(349));As&30||Fb(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,jv(Ub.bind(null,i,r,t),[t]),i.flags|=2048,Ca(9,$b.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=bn(),e=et.identifierPrefix;if(Se){var n=Kn,i=qn;n=(i&~(1<<32-hn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:tn,useCallback:Kb,useContext:tn,useEffect:im,useImperativeHandle:qb,useInsertionEffect:jb,useLayoutEffect:Hb,useMemo:Gb,useReducer:Rd,useRef:Vb,useState:function(){return Rd(xa)},useDebugValue:sm,useDeferredValue:function(t){var e=nn();return Yb(e,Ve.memoizedState,t)},useTransition:function(){var t=Rd(xa)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Mb,useSyncExternalStore:Lb,useId:Xb,unstable_isNewReconciler:!1},CD={readContext:tn,useCallback:Kb,useContext:tn,useEffect:im,useImperativeHandle:qb,useInsertionEffect:jb,useLayoutEffect:Hb,useMemo:Gb,useReducer:Nd,useRef:Vb,useState:function(){return Nd(xa)},useDebugValue:sm,useDeferredValue:function(t){var e=nn();return Ve===null?e.memoizedState=t:Yb(e,Ve.memoizedState,t)},useTransition:function(){var t=Nd(xa)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Mb,useSyncExternalStore:Lb,useId:Xb,unstable_isNewReconciler:!1};function Or(t,e){try{var n="",i=e;do n+=eI(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Ad(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TD=typeof WeakMap=="function"?WeakMap:Map;function eS(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){wu||(wu=!0,vp=i),lp(t,e)},n}function tS(t,e,n){n=Zn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){lp(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){lp(t,e),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new TD;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=zD.bind(null,t,e,n),e.then(t,t))}function Wv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var ID=ui.ReactCurrentOwner,Nt=!1;function kt(t,e,n,i){e.child=t===null?Ab(e,null,n,i):Nr(e,t.child,n,i)}function Kv(t,e,n,i,s){n=n.render;var r=e.ref;return Sr(e,s),i=tm(t,e,n,i,r,s),n=nm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(Se&&n&&jg(e),e.flags|=1,kt(t,e,i,s),e.child)}function Gv(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!dm(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,nS(t,e,r,i,s)):(t=Nc(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(o,i)&&t.ref===e.ref)return si(t,e,s)}return e.flags|=1,t=Ui(r,i),t.ref=e.ref,t.return=e,e.child=t}function nS(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(va(r,i)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,si(t,e,s)}return cp(t,e,n,i,s)}function iS(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(gr,Ut),Ut|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(gr,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,fe(gr,Ut),Ut|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,fe(gr,Ut),Ut|=i;return kt(t,e,s,n),e.child}function sS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cp(t,e,n,i,s){var r=Ot(n)?Rs:_t.current;return r=Pr(e,r),Sr(e,s),n=tm(t,e,n,i,r,s),i=nm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(Se&&i&&jg(e),e.flags|=1,kt(t,e,n,s),e.child)}function Yv(t,e,n,i,s){if(Ot(n)){var r=!0;uu(e)}else r=!1;if(Sr(e,s),e.stateNode===null)Dc(t,e),Rb(e,n,i),ap(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tn(c):(c=Ot(n)?Rs:_t.current,c=Pr(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Bv(e,o,i,c),yi=!1;var d=e.memoizedState;o.state=d,gu(e,i,o,s),l=e.memoizedState,a!==i||d!==l||At.current||yi?(typeof u=="function"&&(op(e,n,u,i),l=e.memoizedState),(a=yi||Uv(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Db(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:on(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Ot(n)?Rs:_t.current,l=Pr(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Bv(e,o,i,l),yi=!1,d=e.memoizedState,o.state=d,gu(e,i,o,s);var p=e.memoizedState;a!==h||d!==p||At.current||yi?(typeof f=="function"&&(op(e,n,f,i),p=e.memoizedState),(c=yi||Uv(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return up(t,e,n,i,r,s)}function up(t,e,n,i,s,r){sS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Ov(e,n,!1),si(t,e,r);i=e.stateNode,ID.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Nr(e,t.child,null,r),e.child=Nr(e,null,a,r)):kt(t,e,a,r),e.memoizedState=i.state,s&&Ov(e,n,!0),e.child}function rS(t){var e=t.stateNode;e.pendingContext?Av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Av(t,e.context,!1),Qg(t,e.containerInfo)}function Xv(t,e,n,i,s){return Rr(),Wg(s),e.flags|=256,kt(t,e,n,i),e.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function oS(t,e,n){var i=e.pendingProps,s=xe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(xe,s&1),t===null)return sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=mh(o,i,0,null),t=ks(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=dp(n),e.memoizedState=hp,t):rm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return DD(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ui(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Ui(a,r):(r=ks(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=hp,i}return r=t.child,t=r.sibling,i=Ui(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function rm(t,e){return e=mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ql(t,e,n,i){return i!==null&&Wg(i),Nr(e,t.child,null,n),t=rm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DD(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Ad(Error(R(422))),ql(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=mh({mode:"visible",children:i.children},s,0,null),r=ks(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Nr(e,t.child,null,o),e.child.memoizedState=dp(o),e.memoizedState=hp,r);if(!(e.mode&1))return ql(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(R(419)),i=Ad(r,i,void 0),ql(t,e,o,i)}if(a=(o&t.childLanes)!==0,Nt||a){if(i=et,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,ii(t,s),dn(i,t,s,-1))}return hm(),i=Ad(Error(R(421))),ql(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VD.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,zt=Mi(s.nextSibling),jt=e,Se=!0,ln=null,t!==null&&(Yt[Xt++]=qn,Yt[Xt++]=Kn,Yt[Xt++]=Ns,qn=t.id,Kn=t.overflow,Ns=e),e=rm(e,i.children),e.flags|=4096,e)}function Qv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),rp(t.return,e,n)}function Od(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function aS(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(kt(t,e,i.children,n),i=xe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qv(t,n,e);else if(t.tag===19)Qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(fe(xe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Od(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Od(e,!0,n,null,r);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PD(t,e,n){switch(e.tag){case 3:rS(e),Rr();break;case 5:Ob(e);break;case 1:Ot(e.type)&&uu(e);break;case 4:Qg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;fe(fu,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(fe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?oS(t,e,n):(fe(xe,xe.current&1),t=si(t,e,n),t!==null?t.sibling:null);fe(xe,xe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return aS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(xe,xe.current),i)break;return null;case 22:case 23:return e.lanes=0,iS(t,e,n)}return si(t,e,n)}var lS,fp,cS,uS;lS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};cS=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,vs(In.current);var r=null;switch(n){case"input":s=Mf(t,s),i=Mf(t,i),r=[];break;case"select":s=Te({},s,{value:void 0}),i=Te({},i,{value:void 0}),r=[];break;case"textarea":s=$f(t,s),i=$f(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=lu)}Bf(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ha.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ha.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};uS=function(t,e,n,i){n!==i&&(e.flags|=4)};function _o(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function RD(t,e,n){var i=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Ot(e.type)&&cu(),ct(e),null;case 3:return i=e.stateNode,Ar(),_e(At),_e(_t),Zg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Hl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(bp(ln),ln=null))),fp(t,e),ct(e),null;case 5:Jg(e);var s=vs(Ea.current);if(n=e.type,t!==null&&e.stateNode!=null)cS(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ct(e),null}if(t=vs(In.current),Hl(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[En]=e,i[ba]=r,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(s=0;s<No.length;s++)ye(No[s],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":ov(i,r),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ye("invalid",i);break;case"textarea":lv(i,r),ye("invalid",i)}Bf(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&jl(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&jl(i.textContent,a,t),s=["children",""+a]):ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",i)}switch(n){case"input":Ml(i),av(i,r,!0);break;case"textarea":Ml(i),cv(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=lu)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[En]=e,t[ba]=i,lS(t,e,!1,!1),e.stateNode=t;e:{switch(o=zf(n,i),n){case"dialog":ye("cancel",t),ye("close",t),s=i;break;case"iframe":case"object":case"embed":ye("load",t),s=i;break;case"video":case"audio":for(s=0;s<No.length;s++)ye(No[s],t);s=i;break;case"source":ye("error",t),s=i;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=i;break;case"details":ye("toggle",t),s=i;break;case"input":ov(t,i),s=Mf(t,i),ye("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Te({},i,{value:void 0}),ye("invalid",t);break;case"textarea":lv(t,i),s=$f(t,i),ye("invalid",t);break;default:s=i}Bf(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?B1(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$1(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&da(t,l):typeof l=="number"&&da(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ha.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ye("scroll",t):l!=null&&Dg(t,r,l,o))}switch(n){case"input":Ml(t),av(t,i,!1);break;case"textarea":Ml(t),cv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Wi(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?vr(t,!!i.multiple,r,!1):i.defaultValue!=null&&vr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)uS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(n=vs(Ea.current),vs(In.current),Hl(e)){if(i=e.stateNode,n=e.memoizedProps,i[En]=e,(r=i.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:jl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[En]=e,e.stateNode=i}return ct(e),null;case 13:if(_e(xe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&zt!==null&&e.mode&1&&!(e.flags&128))Tb(),Rr(),e.flags|=98560,r=!1;else if(r=Hl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(R(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(R(317));r[En]=e}else Rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),r=!1}else ln!==null&&(bp(ln),ln=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?He===0&&(He=3):hm())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Ar(),fp(t,e),t===null&&_a(e.stateNode.containerInfo),ct(e),null;case 10:return Gg(e.type._context),ct(e),null;case 17:return Ot(e.type)&&cu(),ct(e),null;case 19:if(_e(xe),r=e.memoizedState,r===null)return ct(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)_o(r,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,_o(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),e.child}t=t.sibling}r.tail!==null&&Me()>Mr&&(e.flags|=128,i=!0,_o(r,!1),e.lanes=4194304)}else{if(!i)if(t=mu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_o(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Se)return ct(e),null}else 2*Me()-r.renderingStartTime>Mr&&n!==1073741824&&(e.flags|=128,i=!0,_o(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Me(),e.sibling=null,n=xe.current,fe(xe,i?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return um(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ut&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function ND(t,e){switch(Hg(e),e.tag){case 1:return Ot(e.type)&&cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ar(),_e(At),_e(_t),Zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jg(e),null;case 13:if(_e(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(xe),null;case 4:return Ar(),null;case 10:return Gg(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Kl=!1,ft=!1,AD=typeof WeakSet=="function"?WeakSet:Set,L=null;function pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ie(t,e,i)}else n.current=null}function pp(t,e,n){try{n()}catch(i){Ie(t,e,i)}}var Jv=!1;function OD(t,e){if(Qf=ru,t=pb(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===s&&(a=o),d===r&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:t,selectionRange:n},ru=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){Ie(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Jv,Jv=!1,p}function Yo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&pp(e,n,r)}s=s.next}while(s!==i)}}function ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hS(t){var e=t.alternate;e!==null&&(t.alternate=null,hS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[ba],delete e[tp],delete e[mD],delete e[yD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dS(t){return t.tag===5||t.tag===3||t.tag===4}function Zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(i!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function yp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}var nt=null,an=!1;function di(t,e,n){for(n=n.child;n!==null;)fS(t,e,n),n=n.sibling}function fS(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:ft||pr(n,e);case 6:var i=nt,s=an;nt=null,di(t,e,n),nt=i,an=s,nt!==null&&(an?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(an?(t=nt,n=n.stateNode,t.nodeType===8?Td(t.parentNode,n):t.nodeType===1&&Td(t,n),ma(t)):Td(nt,n.stateNode));break;case 4:i=nt,s=an,nt=n.stateNode.containerInfo,an=!0,di(t,e,n),nt=i,an=s;break;case 0:case 11:case 14:case 15:if(!ft&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&pp(n,e,o),s=s.next}while(s!==i)}di(t,e,n);break;case 1:if(!ft&&(pr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ie(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(ft=(i=ft)||n.memoizedState!==null,di(t,e,n),ft=i):di(t,e,n);break;default:di(t,e,n)}}function e0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AD),e.forEach(function(i){var s=jD.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,an=!1;break e;case 3:nt=a.stateNode.containerInfo,an=!0;break e;case 4:nt=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(nt===null)throw Error(R(160));fS(r,o,s),nt=null,an=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ie(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pS(e,t),e=e.sibling}function pS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),vn(t),i&4){try{Yo(3,t,t.return),ph(3,t)}catch(g){Ie(t,t.return,g)}try{Yo(5,t,t.return)}catch(g){Ie(t,t.return,g)}}break;case 1:rn(e,t),vn(t),i&512&&n!==null&&pr(n,n.return);break;case 5:if(rn(e,t),vn(t),i&512&&n!==null&&pr(n,n.return),t.flags&32){var s=t.stateNode;try{da(s,"")}catch(g){Ie(t,t.return,g)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&M1(s,r),zf(a,o);var c=zf(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?B1(s,h):u==="dangerouslySetInnerHTML"?$1(s,h):u==="children"?da(s,h):Dg(s,u,h,c)}switch(a){case"input":Lf(s,r);break;case"textarea":L1(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?vr(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?vr(s,!!r.multiple,r.defaultValue,!0):vr(s,!!r.multiple,r.multiple?[]:"",!1))}s[ba]=r}catch(g){Ie(t,t.return,g)}}break;case 6:if(rn(e,t),vn(t),i&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(g){Ie(t,t.return,g)}}break;case 3:if(rn(e,t),vn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(e.containerInfo)}catch(g){Ie(t,t.return,g)}break;case 4:rn(e,t),vn(t);break;case 13:rn(e,t),vn(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(lm=Me())),i&4&&e0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||u,rn(e,t),ft=c):rn(e,t),vn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(h=L=u;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:Yo(4,d,d.return);break;case 1:pr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ie(i,n,g)}}break;case 5:pr(d,d.return);break;case 22:if(d.memoizedState!==null){n0(h);continue}}f!==null?(f.return=d,L=f):n0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=U1("display",o))}catch(g){Ie(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Ie(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rn(e,t),vn(t),i&4&&e0(t);break;case 21:break;default:rn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dS(n)){var i=n;break e}n=n.return}throw Error(R(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(da(s,""),i.flags&=-33);var r=Zv(t);yp(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Zv(t);mp(t,a,o);break;default:throw Error(R(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MD(t,e,n){L=t,gS(t)}function gS(t,e,n){for(var i=(t.mode&1)!==0;L!==null;){var s=L,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Kl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ft;a=Kl;var c=ft;if(Kl=o,(ft=l)&&!c)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?i0(s):l!==null?(l.return=o,L=l):i0(s);for(;r!==null;)L=r,gS(r),r=r.sibling;L=s,Kl=a,ft=c}t0(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,L=r):t0(t)}}function t0(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||ph(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ft)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&$v(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ft||e.flags&512&&gp(e)}catch(d){Ie(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function n0(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function i0(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ph(4,e)}catch(l){Ie(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){Ie(e,s,l)}}var r=e.return;try{gp(e)}catch(l){Ie(e,r,l)}break;case 5:var o=e.return;try{gp(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var LD=Math.ceil,_u=ui.ReactCurrentDispatcher,om=ui.ReactCurrentOwner,Zt=ui.ReactCurrentBatchConfig,ne=0,et=null,Be=null,st=0,Ut=0,gr=ts(0),He=0,Ta=null,Os=0,gh=0,am=0,Xo=null,Pt=null,lm=0,Mr=1/0,jn=null,wu=!1,vp=null,Fi=null,Gl=!1,Ci=null,bu=0,Qo=0,_p=null,Pc=-1,Rc=0;function Ct(){return ne&6?Me():Pc!==-1?Pc:Pc=Me()}function $i(t){return t.mode&1?ne&2&&st!==0?st&-st:_D.transition!==null?(Rc===0&&(Rc=J1()),Rc):(t=le,t!==0||(t=window.event,t=t===void 0?16:rb(t.type)),t):1}function dn(t,e,n,i){if(50<Qo)throw Qo=0,_p=null,Error(R(185));el(t,n,i),(!(ne&2)||t!==et)&&(t===et&&(!(ne&2)&&(gh|=n),He===4&&_i(t,st)),Mt(t,i),n===1&&ne===0&&!(e.mode&1)&&(Mr=Me()+500,hh&&ns()))}function Mt(t,e){var n=t.callbackNode;_I(t,e);var i=su(t,t===et?st:0);if(i===0)n!==null&&dv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&dv(n),e===1)t.tag===0?vD(s0.bind(null,t)):kb(s0.bind(null,t)),pD(function(){!(ne&6)&&ns()}),n=null;else{switch(Z1(i)){case 1:n=Og;break;case 4:n=X1;break;case 16:n=iu;break;case 536870912:n=Q1;break;default:n=iu}n=ES(n,mS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mS(t,e){if(Pc=-1,Rc=0,ne&6)throw Error(R(327));var n=t.callbackNode;if(Er()&&t.callbackNode!==n)return null;var i=su(t,t===et?st:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Su(t,i);else{e=i;var s=ne;ne|=2;var r=vS();(et!==t||st!==e)&&(jn=null,Mr=Me()+500,Es(t,e));do try{UD();break}catch(a){yS(t,a)}while(1);Kg(),_u.current=r,ne=s,Be!==null?e=0:(et=null,st=0,e=He)}if(e!==0){if(e===2&&(s=qf(t),s!==0&&(i=s,e=wp(t,s))),e===1)throw n=Ta,Es(t,0),_i(t,i),Mt(t,Me()),n;if(e===6)_i(t,i);else{if(s=t.current.alternate,!(i&30)&&!FD(s)&&(e=Su(t,i),e===2&&(r=qf(t),r!==0&&(i=r,e=wp(t,r))),e===1))throw n=Ta,Es(t,0),_i(t,i),Mt(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(R(345));case 2:ds(t,Pt,jn);break;case 3:if(_i(t,i),(i&130023424)===i&&(e=lm+500-Me(),10<e)){if(su(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ep(ds.bind(null,t,Pt,jn),e);break}ds(t,Pt,jn);break;case 4:if(_i(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-hn(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=Me()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*LD(i/1960))-i,10<i){t.timeoutHandle=ep(ds.bind(null,t,Pt,jn),i);break}ds(t,Pt,jn);break;case 5:ds(t,Pt,jn);break;default:throw Error(R(329))}}}return Mt(t,Me()),t.callbackNode===n?mS.bind(null,t):null}function wp(t,e){var n=Xo;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=Su(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&bp(e)),t}function bp(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function FD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!pn(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~am,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),i=1<<n;t[n]=-1,e&=~i}}function s0(t){if(ne&6)throw Error(R(327));Er();var e=su(t,0);if(!(e&1))return Mt(t,Me()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var i=qf(t);i!==0&&(e=i,n=wp(t,i))}if(n===1)throw n=Ta,Es(t,0),_i(t,e),Mt(t,Me()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,Pt,jn),Mt(t,Me()),null}function cm(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Mr=Me()+500,hh&&ns())}}function Ms(t){Ci!==null&&Ci.tag===0&&!(ne&6)&&Er();var e=ne;ne|=1;var n=Zt.transition,i=le;try{if(Zt.transition=null,le=1,t)return t()}finally{le=i,Zt.transition=n,ne=e,!(ne&6)&&ns()}}function um(){Ut=gr.current,_e(gr)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fD(n)),Be!==null)for(n=Be.return;n!==null;){var i=n;switch(Hg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&cu();break;case 3:Ar(),_e(At),_e(_t),Zg();break;case 5:Jg(i);break;case 4:Ar();break;case 13:_e(xe);break;case 19:_e(xe);break;case 10:Gg(i.type._context);break;case 22:case 23:um()}n=n.return}if(et=t,Be=t=Ui(t.current,null),st=Ut=e,He=0,Ta=null,am=gh=Os=0,Pt=Xo=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}ys=null}return t}function yS(t,e){do{var n=Be;try{if(Kg(),Tc.current=vu,yu){for(var i=Ce.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}yu=!1}if(As=0,Je=Ve=Ce=null,Go=!1,ka=0,om.current=null,n===null||n.return===null){He=1,Ta=e,Be=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Wv(o);if(f!==null){f.flags&=-257,qv(f,o,a,r,e),f.mode&1&&Hv(r,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Hv(r,c,e),hm();break e}l=Error(R(426))}}else if(Se&&a.mode&1){var v=Wv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qv(v,o,a,r,e),Wg(Or(l,a));break e}}r=l=Or(l,a),He!==4&&(He=2),Xo===null?Xo=[r]:Xo.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=eS(r,l,e);Fv(r,y);break e;case 1:a=l;var m=r.type,_=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=tS(r,a,e);Fv(r,b);break e}}r=r.return}while(r!==null)}wS(n)}catch(S){e=S,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function vS(){var t=_u.current;return _u.current=vu,t===null?vu:t}function hm(){(He===0||He===3||He===2)&&(He=4),et===null||!(Os&268435455)&&!(gh&268435455)||_i(et,st)}function Su(t,e){var n=ne;ne|=2;var i=vS();(et!==t||st!==e)&&(jn=null,Es(t,e));do try{$D();break}catch(s){yS(t,s)}while(1);if(Kg(),ne=n,_u.current=i,Be!==null)throw Error(R(261));return et=null,st=0,He}function $D(){for(;Be!==null;)_S(Be)}function UD(){for(;Be!==null&&!uI();)_S(Be)}function _S(t){var e=SS(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?wS(t):Be=e,om.current=null}function wS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ND(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Be=null;return}}else if(n=RD(n,e,Ut),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);He===0&&(He=5)}function ds(t,e,n){var i=le,s=Zt.transition;try{Zt.transition=null,le=1,BD(t,e,n,i)}finally{Zt.transition=s,le=i}return null}function BD(t,e,n,i){do Er();while(Ci!==null);if(ne&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(wI(t,r),t===et&&(Be=et=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,ES(iu,function(){return Er(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Zt.transition,Zt.transition=null;var o=le;le=1;var a=ne;ne|=4,om.current=null,OD(t,n),pS(n,t),oD(Jf),ru=!!Qf,Jf=Qf=null,t.current=n,MD(n),hI(),ne=a,le=o,Zt.transition=r}else t.current=n;if(Gl&&(Gl=!1,Ci=t,bu=s),r=t.pendingLanes,r===0&&(Fi=null),pI(n.stateNode),Mt(t,Me()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(wu)throw wu=!1,t=vp,vp=null,t;return bu&1&&t.tag!==0&&Er(),r=t.pendingLanes,r&1?t===_p?Qo++:(Qo=0,_p=t):Qo=0,ns(),null}function Er(){if(Ci!==null){var t=Z1(bu),e=Zt.transition,n=le;try{if(Zt.transition=null,le=16>t?16:t,Ci===null)var i=!1;else{if(t=Ci,Ci=null,bu=0,ne&6)throw Error(R(331));var s=ne;for(ne|=4,L=t.current;L!==null;){var r=L,o=r.child;if(L.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Yo(8,u,r)}var h=u.child;if(h!==null)h.return=u,L=h;else for(;L!==null;){u=L;var d=u.sibling,f=u.return;if(hS(u),u===c){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var p=r.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}L=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,L=o;else e:for(;L!==null;){if(r=L,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Yo(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,L=y;break e}L=r.return}}var m=t.current;for(L=m;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ph(9,a)}}catch(S){Ie(a,a.return,S)}if(a===o){L=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,L=b;break e}L=a.return}}if(ne=s,ns(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(oh,t)}catch{}i=!0}return i}finally{le=n,Zt.transition=e}}return!1}function r0(t,e,n){e=Or(n,e),e=eS(t,e,1),t=Li(t,e,1),e=Ct(),t!==null&&(el(t,1,e),Mt(t,e))}function Ie(t,e,n){if(t.tag===3)r0(t,t,n);else for(;e!==null;){if(e.tag===3){r0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){t=Or(n,t),t=tS(e,t,1),e=Li(e,t,1),t=Ct(),e!==null&&(el(e,1,t),Mt(e,t));break}}e=e.return}}function zD(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(st&n)===n&&(He===4||He===3&&(st&130023424)===st&&500>Me()-lm?Es(t,0):am|=n),Mt(t,e)}function bS(t,e){e===0&&(t.mode&1?(e=$l,$l<<=1,!($l&130023424)&&($l=4194304)):e=1);var n=Ct();t=ii(t,e),t!==null&&(el(t,e,n),Mt(t,n))}function VD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bS(t,n)}function jD(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(R(314))}i!==null&&i.delete(e),bS(t,n)}var SS;SS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,PD(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Se&&e.flags&1048576&&xb(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Dc(t,e),t=e.pendingProps;var s=Pr(e,_t.current);Sr(e,n),s=tm(null,e,i,t,s,n);var r=nm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(i)?(r=!0,uu(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xg(e),s.updater=dh,e.stateNode=s,s._reactInternals=e,ap(e,i,t,n),e=up(null,e,i,!0,r,n)):(e.tag=0,Se&&r&&jg(e),kt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=WD(i),t=on(i,t),s){case 0:e=cp(null,e,i,t,n);break e;case 1:e=Yv(null,e,i,t,n);break e;case 11:e=Kv(null,e,i,t,n);break e;case 14:e=Gv(null,e,i,on(i.type,t),n);break e}throw Error(R(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:on(i,s),cp(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:on(i,s),Yv(t,e,i,s,n);case 3:e:{if(rS(e),t===null)throw Error(R(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Db(t,e),gu(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Or(Error(R(423)),e),e=Xv(t,e,i,n,s);break e}else if(i!==s){s=Or(Error(R(424)),e),e=Xv(t,e,i,n,s);break e}else for(zt=Mi(e.stateNode.containerInfo.firstChild),jt=e,Se=!0,ln=null,n=Ab(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),i===s){e=si(t,e,n);break e}kt(t,e,i,n)}e=e.child}return e;case 5:return Ob(e),t===null&&sp(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Zf(i,s)?o=null:r!==null&&Zf(i,r)&&(e.flags|=32),sS(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&sp(e),null;case 13:return oS(t,e,n);case 4:return Qg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Nr(e,null,i,n):kt(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:on(i,s),Kv(t,e,i,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,fe(fu,i._currentValue),i._currentValue=o,r!==null)if(pn(r.value,o)){if(r.children===s.children&&!At.current){e=si(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Zn(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),rp(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rp(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Sr(e,n),s=tn(s),i=i(s),e.flags|=1,kt(t,e,i,n),e.child;case 14:return i=e.type,s=on(i,e.pendingProps),s=on(i.type,s),Gv(t,e,i,s,n);case 15:return nS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:on(i,s),Dc(t,e),e.tag=1,Ot(i)?(t=!0,uu(e)):t=!1,Sr(e,n),Rb(e,i,s),ap(e,i,s,n),up(null,e,i,!0,t,n);case 19:return aS(t,e,n);case 22:return iS(t,e,n)}throw Error(R(156,e.tag))};function ES(t,e){return Y1(t,e)}function HD(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,i){return new HD(t,e,n,i)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WD(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rg)return 11;if(t===Ng)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rr:return ks(n.children,s,r,e);case Pg:o=8,s|=8;break;case Rf:return t=Jt(12,n,e,s|2),t.elementType=Rf,t.lanes=r,t;case Nf:return t=Jt(13,n,e,s),t.elementType=Nf,t.lanes=r,t;case Af:return t=Jt(19,n,e,s),t.elementType=Af,t.lanes=r,t;case N1:return mh(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P1:o=10;break e;case R1:o=9;break e;case Rg:o=11;break e;case Ng:o=14;break e;case mi:o=16,i=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function ks(t,e,n,i){return t=Jt(7,t,i,e),t.lanes=n,t}function mh(t,e,n,i){return t=Jt(22,t,i,e),t.elementType=N1,t.lanes=n,t.stateNode={isHidden:!1},t}function Md(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function Ld(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qD(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fm(t,e,n,i,s,r,o,a,l){return t=new qD(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Jt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(r),t}function KD(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function kS(t){if(!t)return qi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Ot(n))return Eb(t,n,e)}return e}function xS(t,e,n,i,s,r,o,a,l){return t=fm(n,i,!0,t,s,r,o,a,l),t.context=kS(null),n=t.current,i=Ct(),s=$i(n),r=Zn(i,s),r.callback=e??null,Li(n,r,s),t.current.lanes=s,el(t,s,i),Mt(t,i),t}function yh(t,e,n,i){var s=e.current,r=Ct(),o=$i(s);return n=kS(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Li(s,e,o),t!==null&&(dn(t,s,o,r),Cc(t,s,o)),o}function Eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){o0(t,e),(t=t.alternate)&&o0(t,e)}function GD(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}vh.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));yh(t,e,null,null)};vh.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){yh(null,t,null,null)}),e[ni]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=nb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&sb(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a0(){}function YD(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Eu(o);r.call(c)}}var o=xS(e,i,t,0,null,!1,!1,"",a0);return t._reactRootContainer=o,t[ni]=o.current,_a(t.nodeType===8?t.parentNode:t),Ms(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Eu(l);a.call(c)}}var l=fm(t,0,!1,null,null,!1,!1,"",a0);return t._reactRootContainer=l,t[ni]=l.current,_a(t.nodeType===8?t.parentNode:t),Ms(function(){yh(e,l,n,i)}),l}function wh(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Eu(o);a.call(l)}}yh(e,o,t,s)}else o=YD(n,e,t,s,i);return Eu(o)}eb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(Mg(e,n|1),Mt(e,Me()),!(ne&6)&&(Mr=Me()+500,ns()))}break;case 13:Ms(function(){var i=ii(t,1);if(i!==null){var s=Ct();dn(i,t,1,s)}}),pm(t,1)}};Lg=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=Ct();dn(e,t,134217728,n)}pm(t,134217728)}};tb=function(t){if(t.tag===13){var e=$i(t),n=ii(t,e);if(n!==null){var i=Ct();dn(n,t,e,i)}pm(t,e)}};nb=function(){return le};ib=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};jf=function(t,e,n){switch(e){case"input":if(Lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=uh(i);if(!s)throw Error(R(90));O1(i),Lf(i,s)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&vr(t,!!n.multiple,e,!1)}};j1=cm;H1=Ms;var XD={usingClientEntryPoint:!1,Events:[nl,cr,uh,z1,V1,cm]},wo={findFiberByHostInstance:ms,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QD={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K1(t),t===null?null:t.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||GD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{oh=Yl.inject(QD),Tn=Yl}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(R(200));return KD(t,e,null,n)};qt.createRoot=function(t,e){if(!mm(t))throw Error(R(299));var n=!1,i="",s=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fm(t,1,!1,null,null,n,!1,i,s),t[ni]=e.current,_a(t.nodeType===8?t.parentNode:t),new gm(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=K1(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return Ms(t)};qt.hydrate=function(t,e,n){if(!_h(e))throw Error(R(200));return wh(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(R(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xS(e,null,t,1,n??null,s,!1,r,o),t[ni]=e.current,_a(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vh(e)};qt.render=function(t,e,n){if(!_h(e))throw Error(R(200));return wh(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!_h(t))throw Error(R(40));return t._reactRootContainer?(Ms(function(){wh(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};qt.unstable_batchedUpdates=cm;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!_h(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return wh(t,e,n,!1,i)};qt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=qt})(GT);var l0=If;Tf.createRoot=l0.createRoot,Tf.hydrateRoot=l0.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ia.apply(this,arguments)}var Ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ti||(Ti={}));const c0="popstate";function JD(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return Sp("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ku(s)}return eP(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ym(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function u0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sp(t,e,n,i){return n===void 0&&(n=null),Ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zr(e):e,{state:n,key:e&&e.key||i||ZD()})}function ku(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function eP(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=Ti.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ia({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ti.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:y})}function d(v,y){a=Ti.Push;let m=Sp(g.location,v,y);n&&n(m,v),c=u()+1;let _=u0(m,c),b=g.createHref(m);try{o.pushState(_,"",b)}catch{s.location.assign(b)}r&&l&&l({action:a,location:g.location,delta:1})}function f(v,y){a=Ti.Replace;let m=Sp(g.location,v,y);n&&n(m,v),c=u();let _=u0(m,c),b=g.createHref(m);o.replaceState(_,"",b),r&&l&&l({action:a,location:g.location,delta:0})}function p(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof v=="string"?v:ku(v);return ze(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(c0,h),l=v,()=>{s.removeEventListener(c0,h),l=null}},createHref(v){return e(s,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(v){return o.go(v)}};return g}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function tP(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Zr(e):e,s=vm(i.pathname||"/",n);if(s==null)return null;let r=TS(t);nP(r);let o=null;for(let a=0;o==null&&a<r.length;++a)o=hP(r[a],pP(s));return o}function TS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Bi([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(ze(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),TS(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:cP(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of IS(r.path))s(r,o,l)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=IS(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const iP=/^:\w+$/,sP=3,rP=2,oP=1,aP=10,lP=-2,d0=t=>t==="*";function cP(t,e){let n=t.split("/"),i=n.length;return n.some(d0)&&(i+=lP),e&&(i+=rP),n.filter(s=>!d0(s)).reduce((s,r)=>s+(iP.test(r)?sP:r===""?oP:aP),i)}function uP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function hP(t,e){let{routesMeta:n}=t,i={},s="/",r=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=dP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;r.push({params:i,pathname:Bi([s,u.pathname]),pathnameBase:vP(Bi([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Bi([s,u.pathnameBase]))}return r}function dP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=r.slice(0,r.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=gP(a[h]||"",u),c},{}),pathname:r,pathnameBase:o,pattern:t}}function fP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ym(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function pP(t){try{return decodeURI(t)}catch(e){return ym(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gP(t,e){try{return decodeURIComponent(t)}catch(n){return ym(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function mP(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Zr(t):t;return{pathname:n?n.startsWith("/")?n:yP(n,e):e,search:_P(i),hash:wP(s)}}function yP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PS(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Zr(t):(s=Ia({},t),ze(!s.pathname||!s.pathname.includes("?"),Fd("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),Fd("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),Fd("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(i||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=mP(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),vP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const EP=typeof Object.is=="function"?Object.is:SP,{useState:kP,useEffect:xP,useLayoutEffect:CP,useDebugValue:TP}=Cf;function IP(t,e,n){const i=e(),[{inst:s},r]=kP({inst:{value:i,getSnapshot:e}});return CP(()=>{s.value=i,s.getSnapshot=e,$d(s)&&r({inst:s})},[t,i,e]),xP(()=>($d(s)&&r({inst:s}),t(()=>{$d(s)&&r({inst:s})})),[t]),TP(i),i}function $d(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!EP(n,i)}catch{return!0}}function DP(t,e,n){return e()}const PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RP=!PP,NP=RP?DP:IP;"useSyncExternalStore"in Cf&&(t=>t.useSyncExternalStore)(Cf);const RS=T.createContext(null),_m=T.createContext(null),sl=T.createContext(null),bh=T.createContext(null),Ks=T.createContext({outlet:null,matches:[]}),NS=T.createContext(null);function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ep.apply(this,arguments)}function AP(t,e){let{relative:n}=e===void 0?{}:e;eo()||ze(!1);let{basename:i,navigator:s}=T.useContext(sl),{hash:r,pathname:o,search:a}=AS(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Bi([i,o])),s.createHref({pathname:l,search:a,hash:r})}function eo(){return T.useContext(bh)!=null}function Sh(){return eo()||ze(!1),T.useContext(bh).location}function to(){eo()||ze(!1);let{basename:t,navigator:e}=T.useContext(sl),{matches:n}=T.useContext(Ks),{pathname:i}=Sh(),s=JSON.stringify(DS(n).map(a=>a.pathnameBase)),r=T.useRef(!1);return T.useEffect(()=>{r.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!r.current)return;if(typeof a=="number"){e.go(a);return}let c=PS(a,JSON.parse(s),i,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Bi([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,s,i])}function wm(){let{matches:t}=T.useContext(Ks),e=t[t.length-1];return e?e.params:{}}function AS(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=T.useContext(Ks),{pathname:s}=Sh(),r=JSON.stringify(DS(i).map(o=>o.pathnameBase));return T.useMemo(()=>PS(t,JSON.parse(r),s,n==="path"),[t,r,s,n])}function OP(t,e){eo()||ze(!1);let{navigator:n}=T.useContext(sl),i=T.useContext(_m),{matches:s}=T.useContext(Ks),r=s[s.length-1],o=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=Sh(),c;if(e){var u;let g=typeof e=="string"?Zr(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ze(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=tP(t,{pathname:d}),p=$P(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Bi([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Bi([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,i||void 0);return e&&p?T.createElement(bh.Provider,{value:{location:Ep({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ti.Pop}},p):p}function MP(){let t=VP(),e=bP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,r)}class LP extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Ks.Provider,{value:this.props.routeContext},T.createElement(NS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FP(t){let{routeContext:e,match:n,children:i}=t,s=T.useContext(RS);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ks.Provider,{value:e},i)}function $P(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let i=t,s=n==null?void 0:n.errors;if(s!=null){let r=i.findIndex(o=>o.route.id&&(s==null?void 0:s[o.route.id]));r>=0||ze(!1),i=i.slice(0,Math.min(i.length,r+1))}return i.reduceRight((r,o,a)=>{let l=o.route.id?s==null?void 0:s[o.route.id]:null,c=null;n&&(o.route.ErrorBoundary?c=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?c=o.route.errorElement:c=T.createElement(MP,null));let u=e.concat(i.slice(0,a+1)),h=()=>{let d=r;return l?d=c:o.route.Component?d=T.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),T.createElement(FP,{match:o,routeContext:{outlet:r,matches:u},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(LP,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var f0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(f0||(f0={}));var xu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(xu||(xu={}));function UP(t){let e=T.useContext(_m);return e||ze(!1),e}function BP(t){let e=T.useContext(Ks);return e||ze(!1),e}function zP(t){let e=BP(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function VP(){var t;let e=T.useContext(NS),n=UP(xu.UseRouteError),i=zP(xu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function OS(t){let{to:e,replace:n,state:i,relative:s}=t;eo()||ze(!1);let r=T.useContext(_m),o=to();return T.useEffect(()=>{r&&r.navigation.state!=="idle"||o(e,{replace:n,state:i,relative:s})}),null}function Bn(t){ze(!1)}function jP(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Ti.Pop,navigator:r,static:o=!1}=t;eo()&&ze(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:r,static:o}),[a,r,o]);typeof i=="string"&&(i=Zr(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,p=T.useMemo(()=>{let g=vm(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:d,key:f},navigationType:s}},[a,c,u,h,d,f,s]);return p==null?null:T.createElement(sl.Provider,{value:l},T.createElement(bh.Provider,{children:n,value:p}))}function HP(t){let{children:e,location:n}=t,i=T.useContext(RS),s=i&&!e?i.router.routes:kp(e);return OP(s,n)}var p0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(p0||(p0={}));new Promise(()=>{});function kp(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(i,s)=>{if(!T.isValidElement(i))return;let r=[...e,s];if(i.type===T.Fragment){n.push.apply(n,kp(i.props.children,r));return}i.type!==Bn&&ze(!1),!i.props.index||!i.props.children||ze(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=kp(i.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xp.apply(this,arguments)}function WP(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KP(t,e){return t.button===0&&(!e||e==="_self")&&!qP(t)}const GP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function YP(t){let{basename:e,children:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=JD({window:i,v5Compat:!0}));let r=s.current,[o,a]=T.useState({action:r.action,location:r.location});return T.useLayoutEffect(()=>r.listen(a),[r]),T.createElement(jP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:r})}const XP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=T.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=WP(e,GP),{basename:d}=T.useContext(sl),f,p=!1;if(typeof c=="string"&&QP.test(c)&&(f=c,XP)){let m=new URL(window.location.href),_=c.startsWith("//")?new URL(m.protocol+c):new URL(c),b=vm(_.pathname,d);_.origin===m.origin&&b!=null?c=b+_.search+_.hash:p=!0}let g=AP(c,{relative:s}),v=JP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function y(m){i&&i(m),m.defaultPrevented||v(m)}return T.createElement("a",xp({},h,{href:f||g,onClick:p||r?i:y,ref:n,target:l}))});var g0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(g0||(g0={}));var m0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m0||(m0={}));function JP(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o}=e===void 0?{}:e,a=to(),l=Sh(),c=AS(t,{relative:o});return T.useCallback(u=>{if(KP(u,n)){u.preventDefault();let h=i!==void 0?i:ku(l)===ku(c);a(t,{replace:h,state:s,preventScrollReset:r,relative:o})}},[l,a,c,i,s,n,t,r,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new eR;const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(t){const e=MS(t);return LS.encodeByteArray(e,!0)},Cu=function(t){return tR(t).replace(/\./g,"")},FS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FS(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return iR()||sR()||rR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$S=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},US=t=>{const e=$S(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},oR=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},BS=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function cR(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FirebaseError";class Fn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gR,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?mR(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Fn(s,a,i)}}function mR(t,e){return t.replace(yR,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const yR=/\{\$([^}]+)}/g;function vR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(y0(r)&&y0(o)){if(!Tu(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function y0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ao(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _R(t,e){const n=new wR(t,e);return n.subscribe.bind(n)}class wR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Ud),s.error===void 0&&(s.error=Ud),s.complete===void 0&&(s.complete=Ud);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(t){return t===fs?void 0:t}function kR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const CR={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},TR=se.INFO,IR={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},DR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=IR[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const PR=(t,e)=>e.some(n=>t instanceof n);let v0,_0;function RR(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,Cp=new WeakMap,jS=new WeakMap,Bd=new WeakMap,Sm=new WeakMap;function AR(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(zi(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function OR(t){if(Cp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}let Tp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MR(t){Tp=t(Tp)}function LR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(zd(this),e,...n);return jS.set(i,e.sort?e.sort():[e]),zi(i)}:NR().includes(t)?function(...e){return t.apply(zd(this),e),zi(VS.get(this))}:function(...e){return zi(t.apply(zd(this),e))}}function FR(t){return typeof t=="function"?LR(t):(t instanceof IDBTransaction&&OR(t),PR(t,RR())?new Proxy(t,Tp):t)}function zi(t){if(t instanceof IDBRequest)return AR(t);if(Bd.has(t))return Bd.get(t);const e=FR(t);return e!==t&&(Bd.set(t,e),Sm.set(e,t)),e}const zd=t=>Sm.get(t);function $R(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=zi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const UR=["get","getKey","getAll","getAllKeys","count"],BR=["put","add","delete","clear"],Vd=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=BR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||UR.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Vd.set(e,r),r}MR(t=>({...t,get:(e,n,i)=>w0(e,n)||t.get(e,n,i),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function VR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",b0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new bm("@firebase/app"),jR="@firebase/app-compat",HR="@firebase/analytics-compat",WR="@firebase/analytics",qR="@firebase/app-check-compat",KR="@firebase/app-check",GR="@firebase/auth",YR="@firebase/auth-compat",XR="@firebase/database",QR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",iN="@firebase/messaging-compat",sN="@firebase/performance",rN="@firebase/performance-compat",oN="@firebase/remote-config",aN="@firebase/remote-config-compat",lN="@firebase/storage",cN="@firebase/storage-compat",uN="@firebase/firestore",hN="@firebase/firestore-compat",dN="firebase",fN="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",pN={[Ip]:"fire-core",[jR]:"fire-core-compat",[WR]:"fire-analytics",[HR]:"fire-analytics-compat",[KR]:"fire-app-check",[qR]:"fire-app-check-compat",[GR]:"fire-auth",[YR]:"fire-auth-compat",[XR]:"fire-rtdb",[QR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[iN]:"fire-fcm-compat",[sN]:"fire-perf",[rN]:"fire-perf-compat",[oN]:"fire-rc",[aN]:"fire-rc-compat",[lN]:"fire-gcs",[cN]:"fire-gcs-compat",[uN]:"fire-fst",[hN]:"fire-fst-compat","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,Pp=new Map;function gN(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Pp.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(const n of Iu.values())gN(n,t);return!0}function kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vi=new rl("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=fN;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Dp,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Vi.create("bad-app-name",{appName:String(s)});if(n||(n=oR()),!n)throw Vi.create("no-options");const r=Iu.get(s);if(r){if(Tu(n,r.options)&&Tu(i,r.config))return r;throw Vi.create("duplicate-app",{appName:s})}const o=new xR(s);for(const l of Pp.values())o.addComponent(l);const a=new yN(n,i,o);return Iu.set(s,a),a}function Em(t=Dp){const e=Iu.get(t);if(!e&&t===Dp)return HS();if(!e)throw Vi.create("no-app",{appName:t});return e}function Dn(t,e,n){var i;let s=(i=pN[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}Fs(new Ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",_N=1,Da="firebase-heartbeat-store";let jd=null;function WS(){return jd||(jd=$R(vN,_N,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Da)}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),jd}async function wN(t){try{return(await WS()).transaction(Da).objectStore(Da).get(qS(t))}catch(e){if(e instanceof Fn)Ls.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function S0(t,e){try{const i=(await WS()).transaction(Da,"readwrite");return await i.objectStore(Da).put(e,qS(t)),i.done}catch(n){if(n instanceof Fn)Ls.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(i.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1024,SN=30*24*60*60*1e3;class EN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=E0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=SN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E0(),{heartbeatsToSend:n,unsentEntries:i}=kN(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function E0(){return new Date().toISOString().substring(0,10)}function kN(t,e=bN){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),k0(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),k0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k0(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){Fs(new Ki("platform-logger",e=>new zR(e),"PRIVATE")),Fs(new Ki("heartbeat",e=>new EN(e),"PRIVATE")),Dn(Ip,b0,t),Dn(Ip,b0,"esm2017"),Dn("fire-js","")}CN("");function km(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function KS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=KS,GS=new rl("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new bm("@firebase/auth");function Ac(t,...e){x0.logLevel<=se.ERROR&&x0.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw xm(t,...e)}function Pn(t,...e){return xm(t,...e)}function IN(t,e,n){const i=Object.assign(Object.assign({},TN()),{[e]:n});return new rl("auth","Firebase",i).create(e,{appName:t.name})}function xm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return GS.create(t,...e)}function z(t,e,...n){if(!t)throw xm(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function ri(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function Yn(t){ri(t instanceof Function,"Expected a class definition");let e=C0.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C0.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){const n=kh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Tu(r,e??{}))return s;gn(s,"already-initialized")}return n.initialize({options:e})}function PN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RN(){return T0()==="http:"||T0()==="https:"}function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RN()||uR()||"connection"in navigator)?navigator.onLine:!0}function AN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=lR()||hR()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new al(3e4,6e4);function io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gs(t,e,n,i,s={}){return XS(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=ol(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),YS.fetch()(QS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function XS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ON),e);try{const s=new LN(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Xl(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xl(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw IN(t,u,c);gn(t,u)}}catch(s){if(s instanceof Fn)throw s;gn(t,"network-request-failed",{message:String(s)})}}async function ll(t,e,n,i,s={}){const r=await Gs(t,e,n,i,s);return"mfaPendingCredential"in r&&gn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function QS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Cm(t.config,s):`${t.config.apiScheme}://${s}`}class LN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Pn(this.auth,"network-request-failed")),MN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Pn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e){return Gs(t,"POST","/v1/accounts:delete",e)}async function $N(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UN(t,e=!1){const n=Fe(t),i=await n.getIdToken(e),s=Tm(i);z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Jo(Hd(s.auth_time)),issuedAtTime:Jo(Hd(s.iat)),expirationTime:Jo(Hd(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function Tm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const s=FS(n);return s?JSON.parse(s):(Ac("Failed to decode base64 JWT payload"),null)}catch(s){return Ac("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function BN(t){const e=Tm(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fn&&zN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function zN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Lr(t,$N(n,{idToken:i}));z(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?WN(r.providerUserInfo):[],a=HN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new JS(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function jN(t){const e=Fe(t);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HN(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function WN(t){return t.map(e=>{var{providerId:n}=e,i=km(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e){const n=await XS(t,{},async()=>{const i=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=QS(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await qN(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Pa;return i&&(z(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(z(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new JS(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Lr(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UN(this,e)}reload(){return jN(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Du(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Lr(this,FN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:b,isAnonymous:S,providerData:x,stsTokenManager:E}=n;z(_&&E,e,"internal-error");const k=Pa.fromJSON(this.name,E);z(typeof _=="string",e,"internal-error"),fi(h,e.name),fi(d,e.name),z(typeof b=="boolean",e,"internal-error"),z(typeof S=="boolean",e,"internal-error"),fi(f,e.name),fi(p,e.name),fi(g,e.name),fi(v,e.name),fi(y,e.name),fi(m,e.name);const P=new xs({uid:_,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:y,lastLoginAt:m});return x&&Array.isArray(x)&&(P.providerData=x.map(D=>Object.assign({},D))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new Pa;s.updateFromServerResponse(n);const r=new xs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Du(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const I0=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class kr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Oc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Oc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new kr(Yn(I0),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Yn(I0);const o=Oc(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=xs._fromJSON(e,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new kr(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new kr(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(rE(e))return"Webos";if(Im(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(iE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eE(t=wt()){return/firefox\//i.test(t)}function Im(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(t=wt()){return/crios\//i.test(t)}function nE(t=wt()){return/iemobile/i.test(t)}function iE(t=wt()){return/android/i.test(t)}function sE(t=wt()){return/blackberry/i.test(t)}function rE(t=wt()){return/webos/i.test(t)}function xh(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KN(t=wt()){var e;return xh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GN(){return dR()&&document.documentMode===10}function oE(t=wt()){return xh(t)||iE(t)||rE(t)||sE(t)||/windows phone/i.test(t)||nE(t)}function YN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e=[]){let n;switch(t){case"Browser":n=D0(wt());break;case"Worker":n=`${D0(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fe(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return z(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function cl(t){return Fe(t)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function JN(t,e,n){const i=cl(t);z(i._canInitEmulator,i,"emulator-config-failed"),z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=lE(e),{host:o,port:a}=ZN(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||eA()}function lE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZN(t){const e=lE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:R0(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:R0(o)}}}function R0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function tA(t,e){return Gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e){return ll(t,"POST","/v1/accounts:signInWithPassword",io(t,e))}async function iA(t,e){return Gs(t,"POST","/v1/accounts:sendOobCode",io(t,e))}async function sA(t,e){return iA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",io(t,e))}async function oA(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Dm{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ra(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ra(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return nA(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return rA(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return tA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oA(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xr(t,e){return ll(t,"POST","/v1/accounts:signInWithIdp",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="http://localhost";class $s extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=km(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new $s(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xr(e,n)}buildRequest(){const e={requestUri:aA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cA(t){const e=Ao(Oo(t)).link,n=e?Ao(Oo(e)).deep_link_id:null,i=Ao(Oo(t)).deep_link_id;return(i?Ao(Oo(i)).link:null)||i||n||e||t}class Pm{constructor(e){var n,i,s,r,o,a;const l=Ao(Oo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=lA((s=l.mode)!==null&&s!==void 0?s:null);z(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cA(e);try{return new Pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Ra._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Pm.parseLink(n);return z(i,"argument-error"),Ra._fromEmailAndCode(e,i.code,i.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends ul{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return bi.credential(n,i)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends ul{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends ul{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ei.credential(n,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e){return ll(t,"POST","/v1/accounts:signUp",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await xs._fromIdTokenResponse(e,i,s),o=N0(i);return new Us({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=N0(i);return new Us({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function N0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Fn{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Pu(e,n,i,s)}}function uE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Pu._fromErrorAndOperation(t,r,e,i):r})}async function hA(t,e,n=!1){const i=await Lr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const r=await Lr(t,uE(i,s,e,t),n);z(r.idToken,i,"internal-error");const o=Tm(r.idToken);z(o,i,"internal-error");const{sub:a}=o;return z(t.uid===a,i,"user-mismatch"),Us._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&gn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t,e,n=!1){const i="signIn",s=await uE(t,i,e),r=await Us._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function fA(t,e){return hE(cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e,n){var i;z(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e,n){const i=Fe(t),s={requestType:"PASSWORD_RESET",email:e};n&&pA(i,s,n),await sA(i,s)}async function mA(t,e,n){const i=cl(t),s=await uA(i,{returnSecureToken:!0,email:e,password:n}),r=await Us._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(r.user),r}function yA(t,e,n){return fA(Fe(t),so.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e){return Gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Fe(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Lr(i,vA(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function _A(t,e,n,i){return Fe(t).onIdTokenChanged(e,n,i)}function wA(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function bA(t,e,n,i){return Fe(t).onAuthStateChanged(e,n,i)}function SA(t){return Fe(t).signOut()}async function EA(t){return Fe(t).delete()}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){const t=wt();return Im(t)||xh(t)}const xA=1e3,CA=10;class fE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kA()&&YN(),this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);GN()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CA):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},xA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const TA=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pE.type="SESSION";const gE=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Ch(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await IA(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Rm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function PA(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function RA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AA(){return mE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firebaseLocalStorageDb",OA=1,Nu="firebaseLocalStorage",vE="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(t,e){return t.transaction([Nu],e?"readwrite":"readonly").objectStore(Nu)}function MA(){const t=indexedDB.deleteDatabase(yE);return new hl(t).toPromise()}function Np(){const t=indexedDB.open(yE,OA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Nu,{keyPath:vE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Nu)?e(i):(i.close(),await MA(),e(await Np()))})})}async function A0(t,e,n){const i=Th(t,!0).put({[vE]:e,value:n});return new hl(i).toPromise()}async function LA(t,e){const n=Th(t,!1).get(e),i=await new hl(n).toPromise();return i===void 0?null:i.value}function O0(t,e){const n=Th(t,!0).delete(e);return new hl(n).toPromise()}const FA=800,$A=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>$A)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(AA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RA(),!this.activeServiceWorker)return;this.sender=new DA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await A0(e,Ru,"1"),await O0(e,Ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>A0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>LA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Th(s,!1).getAll();return new hl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const UA=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zA(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Pn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",BA().appendChild(i)})}function VA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){return e?Yn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends Dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HA(t){return hE(t.auth,new Nm(t),t.bypassAuthState)}function WA(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),dA(n,new Nm(t),t.bypassAuthState)}async function qA(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),hA(n,new Nm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HA;case"linkViaPopup":case"linkViaRedirect":return qA;case"reauthViaPopup":case"reauthViaRedirect":return WA;default:gn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new al(2e3,1e4);class mr extends wE{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,mr.currentPopupAction&&mr.currentPopupAction.cancel(),mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,KA.get())};e()}}mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="pendingRedirect",Mc=new Map;class YA extends wE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const i=await XA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XA(t,e){const n=ZA(e),i=JA(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function QA(t,e){Mc.set(t._key(),e)}function JA(t){return Yn(t._redirectPersistence)}function ZA(t){return Oc(GA,t.config.apiKey,t.name)}async function eO(t,e,n=!1){const i=cl(t),s=jA(i,e),o=await new YA(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=10*60*1e3;class nO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!bE(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tO&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e={}){return Gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oO=/^https?/;async function aO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sO(t);for(const n of e)try{if(lO(n))return}catch{}gn(t,"unauthorized-domain")}function lO(t){const e=Rp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!oO.test(n))return!1;if(rO.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new al(3e4,6e4);function L0(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uO(t){return new Promise((e,n)=>{var i,s,r;function o(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),n(Pn(t,"network-request-failed"))},timeout:cO.get()})}if(!((s=(i=Rn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Rn().gapi)===null||r===void 0)&&r.load)o();else{const a=VA("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},zA(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function hO(t){return Lc=Lc||uO(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new al(5e3,15e3),fO="__/auth/iframe",pO="emulator/auth/iframe",gO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yO(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cm(e,pO):`https://${t.config.authDomain}/${fO}`,i={apiKey:e.apiKey,appName:t.name,v:no},s=mO.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ol(i).slice(1)}`}async function vO(t){const e=await hO(t),n=Rn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:yO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gO,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Rn().setTimeout(()=>{r(o)},dO.get());function l(){Rn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wO=500,bO=600,SO="_blank",EO="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kO(t,e,n,i=wO,s=bO){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_O),{width:i.toString(),height:s.toString(),top:r,left:o}),c=wt().toLowerCase();n&&(a=tE(c)?SO:n),eE(c)&&(e=e||EO,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(KN(c)&&a!=="_self")return xO(e||"",a),new F0(null);const h=window.open(e||"",a,u);z(h,t,"popup-blocked");try{h.focus()}catch{}return new F0(h)}function xO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="__/auth/handler",TO="emulator/auth/handler";function $0(t,e,n,i,s,r){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:no,eventId:s};if(e instanceof cE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(r||{}))o[l]=c}if(e instanceof ul){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${IO(t)}?${ol(a).slice(1)}`}function IO({config:t}){return t.emulator?Cm(t,TO):`https://${t.authDomain}/${CO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class DO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=eO,this._overrideRedirectResult=QA}async _openPopup(e,n,i,s){var r;ri((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=$0(e,n,i,Rp(),s);return kO(e,o,Rm())}async _openRedirect(e,n,i,s){return await this._originValidation(e),PA($0(e,n,i,Rp(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ri(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await vO(e),i=new nO(e);return n.register("authEvent",s=>(z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wd,{type:Wd},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Wd];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oE()||Im()||xh()}}const PO=DO;var U0="@firebase/auth",B0="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function AO(t){Fs(new Ki("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=i.options;return((a,l)=>{z(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),z(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(t)},u=new QN(a,l,c);return PN(u,n),u})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fs(new Ki("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(i=>new RO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(U0,B0,NO(t)),Dn(U0,B0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=5*60,MO=BS("authIdTokenMaxAge")||OO;let z0=null;const LO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>MO)return;const s=n==null?void 0:n.token;z0!==s&&(z0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FO(t=Em()){const e=kh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DN(t,{popupRedirectResolver:PO,persistence:[UA,TA,gE]}),i=BS("authTokenSyncURL");if(i){const r=LO(i);wA(n,r,()=>r(n.currentUser)),_A(n,o=>r(o))}const s=$S("auth");return s&&JN(n,`http://${s}`),n}AO("Browser");var $O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,Am=Am||{},q=$O||self;function Au(){}function Ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function dl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function UO(t){return Object.prototype.hasOwnProperty.call(t,qd)&&t[qd]||(t[qd]=++BO)}var qd="closure_uid_"+(1e9*Math.random()>>>0),BO=0;function zO(t,e,n){return t.call.apply(t.bind,arguments)}function VO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt=zO:yt=VO,yt.apply(null,arguments)}function Jl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function at(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function is(){this.s=this.s,this.o=this.o}var jO=0;is.prototype.s=!1;is.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jO!=0)&&UO(this)};is.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Om(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function V0(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Ih(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var HO=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{q.addEventListener("test",Au,e),q.removeEventListener("test",Au,e)}catch{}return t}();function Ou(t){return/^[\s\xa0]*$/.test(t)}var j0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Kd(t,e){return t<e?-1:t>e?1:0}function Dh(){var t=q.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return Dh().indexOf(t)!=-1}function Mm(t){return Mm[" "](t),t}Mm[" "]=Au;function WO(t){var e=GO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var qO=kn("Opera"),Fr=kn("Trident")||kn("MSIE"),EE=kn("Edge"),Ap=EE||Fr,kE=kn("Gecko")&&!(Dh().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),KO=Dh().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function xE(){var t=q.document;return t?t.documentMode:void 0}var Mu;e:{var Gd="",Yd=function(){var t=Dh();if(kE)return/rv:([^\);]+)(\)|;)/.exec(t);if(EE)return/Edge\/([\d\.]+)/.exec(t);if(Fr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KO)return/WebKit\/(\S+)/.exec(t);if(qO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yd&&(Gd=Yd?Yd[1]:""),Fr){var Xd=xE();if(Xd!=null&&Xd>parseFloat(Gd)){Mu=String(Xd);break e}}Mu=Gd}var GO={};function YO(){return WO(function(){let t=0;const e=j0(String(Mu)).split("."),n=j0("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s[0].length==0&&r[0].length==0)break;t=Kd(s[1].length==0?0:parseInt(s[1],10),r[1].length==0?0:parseInt(r[1],10))||Kd(s[2].length==0,r[2].length==0)||Kd(s[2],r[2]),s=s[3],r=r[3]}while(t==0)}return 0<=t})}var Op;if(q.document&&Fr){var H0=xE();Op=H0||parseInt(Mu,10)||void 0}else Op=void 0;var XO=Op;function Na(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kE){e:{try{Mm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:QO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.X.h.call(this)}}at(Na,vt);var QO={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fl="closure_listenable_"+(1e6*Math.random()|0),JO=0;function ZO(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=s,this.key=++JO,this.ba=this.ea=!1}function Ph(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Lm(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function CE(t){const e={};for(const n in t)e[n]=t[n];return e}const W0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TE(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<W0.length;r++)n=W0[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Rh(t){this.src=t,this.g={},this.h=0}Rh.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=Lp(t,e,i,s);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ZO(e,this.src,r,!!i,s),e.ea=n,t.push(e)),e};function Mp(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=SE(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ph(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lp(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ba&&r.listener==e&&r.capture==!!n&&r.ha==i)return s}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),Qd={};function IE(t,e,n,i,s){if(i&&i.once)return PE(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)IE(t,e[r],n,i,s);return null}return n=Bm(n),t&&t[fl]?t.N(e,n,dl(i)?!!i.capture:!!i,s):DE(t,e,n,!1,i,s)}function DE(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=dl(s)?!!s.capture:!!s,a=Um(t);if(a||(t[Fm]=a=new Rh(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=eM(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)HO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(NE(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eM(){function t(n){return e.call(t.src,t.listener,n)}const e=tM;return t}function PE(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)PE(t,e[r],n,i,s);return null}return n=Bm(n),t&&t[fl]?t.O(e,n,dl(i)?!!i.capture:!!i,s):DE(t,e,n,!0,i,s)}function RE(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)RE(t,e[r],n,i,s);else i=dl(i)?!!i.capture:!!i,n=Bm(n),t&&t[fl]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Lp(r,n,i,s),-1<n&&(Ph(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=Um(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lp(e,n,i,s)),(n=-1<t?e[t]:null)&&$m(n))}function $m(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[fl])Mp(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(NE(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Um(e))?(Mp(n,t),n.h==0&&(n.src=null,e[Fm]=null)):Ph(t)}}}function NE(t){return t in Qd?Qd[t]:Qd[t]="on"+t}function tM(t,e){if(t.ba)t=!0;else{e=new Na(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&$m(t),t=n.call(i,e)}return t}function Um(t){return t=t[Fm],t instanceof Rh?t:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bm(t){return typeof t=="function"?t:(t[Jd]||(t[Jd]=function(e){return t.handleEvent(e)}),t[Jd])}function tt(){is.call(this),this.i=new Rh(this),this.P=this,this.I=null}at(tt,is);tt.prototype[fl]=!0;tt.prototype.removeEventListener=function(t,e,n,i){RE(this,t,e,n,i)};function rt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var s=e;e=new vt(i,t),TE(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=Zl(o,i,!0,e)&&s}if(o=e.g=t,s=Zl(o,i,!0,e)&&s,s=Zl(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=Zl(o,i,!1,e)&&s}tt.prototype.M=function(){if(tt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Ph(n[i]);delete t.g[e],t.h--}}this.I=null};tt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};tt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Zl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Mp(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var zm=q.JSON.stringify;function nM(){var t=ME;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class iM{constructor(){this.h=this.g=null}add(e,n){const i=AE.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var AE=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new sM,t=>t.reset());class sM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rM(t){q.setTimeout(()=>{throw t},0)}function OE(t,e){Fp||oM(),$p||(Fp(),$p=!0),ME.add(t,e)}var Fp;function oM(){var t=q.Promise.resolve(void 0);Fp=function(){t.then(aM)}}var $p=!1,ME=new iM;function aM(){for(var t;t=nM();){try{t.h.call(t.g)}catch(n){rM(n)}var e=AE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$p=!1}function Nh(t,e){tt.call(this),this.h=t||1,this.g=e||q,this.j=yt(this.lb,this),this.l=Date.now()}at(Nh,tt);$=Nh.prototype;$.ca=!1;$.R=null;$.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rt(this,"tick"),this.ca&&(Vm(this),this.start()))}};$.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vm(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}$.M=function(){Nh.X.M.call(this),Vm(this),delete this.g};function jm(t,e,n){if(typeof t=="function")n&&(t=yt(t,n));else if(t&&typeof t.handleEvent=="function")t=yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function LE(t){t.g=jm(()=>{t.g=null,t.i&&(t.i=!1,LE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class lM extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LE(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(t){is.call(this),this.h=t,this.g={}}at(Aa,is);var q0=[];function FE(t,e,n,i){Array.isArray(n)||(n&&(q0[0]=n.toString()),n=q0);for(var s=0;s<n.length;s++){var r=IE(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function $E(t){Lm(t.g,function(e,n){this.g.hasOwnProperty(n)&&$m(e)},t),t.g={}}Aa.prototype.M=function(){Aa.X.M.call(this),$E(this)};Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ah(){this.g=!0}Ah.prototype.Aa=function(){this.g=!1};function cM(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function uM(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function yr(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dM(t,n)+(i?" "+i:"")})}function hM(t,e){t.info(function(){return"TIMEOUT: "+e})}Ah.prototype.info=function(){};function dM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return zm(n)}catch{return e}}var Ys={},K0=null;function Oh(){return K0=K0||new tt}Ys.Pa="serverreachability";function UE(t){vt.call(this,Ys.Pa,t)}at(UE,vt);function Oa(t){const e=Oh();rt(e,new UE(e))}Ys.STAT_EVENT="statevent";function BE(t,e){vt.call(this,Ys.STAT_EVENT,t),this.stat=e}at(BE,vt);function xt(t){const e=Oh();rt(e,new BE(e,t))}Ys.Qa="timingevent";function zE(t,e){vt.call(this,Ys.Qa,t),this.size=e}at(zE,vt);function pl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}var Mh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},VE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Hm(){}Hm.prototype.h=null;function G0(t){return t.h||(t.h=t.i())}function jE(){}var gl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wm(){vt.call(this,"d")}at(Wm,vt);function qm(){vt.call(this,"c")}at(qm,vt);var Up;function Lh(){}at(Lh,Hm);Lh.prototype.g=function(){return new XMLHttpRequest};Lh.prototype.i=function(){return{}};Up=new Lh;function ml(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new Aa(this),this.O=fM,t=Ap?125:void 0,this.T=new Nh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HE}function HE(){this.i=null,this.g="",this.h=!1}var fM=45e3,Bp={},Lu={};$=ml.prototype;$.setTimeout=function(t){this.O=t};function zp(t,e,n){t.K=1,t.v=$h(oi(e)),t.s=n,t.P=!0,WE(t,null)}function WE(t,e){t.F=Date.now(),yl(t),t.A=oi(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),ZE(n.i,"t",i),t.C=0,n=t.l.H,t.h=new HE,t.g=wk(t.l,n?e:null,!t.s),0<t.N&&(t.L=new lM(yt(t.La,t,t.g),t.N)),FE(t.S,t.g,"readystatechange",t.ib),e=t.H?CE(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Oa(),cM(t.j,t.u,t.A,t.m,t.U,t.s)}$.ib=function(t){t=t.target;const e=this.L;e&&Xn(t)==3?e.l():this.La(t)};$.La=function(t){try{if(t==this.g)e:{const u=Xn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Ap||this.g&&(this.h.h||this.g.fa()||J0(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Oa(3):Oa(2)),Fh(this);var n=this.g.aa();this.Y=n;t:if(qE(this)){var i=J0(this.g);t="";var s=i.length,r=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),Zo(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,uM(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ou(a)){var c=a;break t}}c=null}if(n=c)yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vp(this,n);else{this.i=!1,this.o=3,xt(12),_s(this),Zo(this);break e}}this.P?(KE(this,u,o),Ap&&this.i&&u==3&&(FE(this.S,this.T,"tick",this.hb),this.T.start())):(yr(this.j,this.m,o,null),Vp(this,o)),u==4&&_s(this),this.i&&!this.I&&(u==4?mk(this.l,this):(this.i=!1,yl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),_s(this),Zo(this)}}}catch{}finally{}};function qE(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function KE(t,e,n){let i=!0,s;for(;!t.I&&t.C<n.length;)if(s=pM(t,n),s==Lu){e==4&&(t.o=4,xt(14),i=!1),yr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Bp){t.o=4,xt(15),yr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else yr(t.j,t.m,s,null),Vp(t,s);qE(t)&&s!=Lu&&s!=Bp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zm(e),e.K=!0,xt(11))):(yr(t.j,t.m,n,"[Invalid Chunked Response]"),_s(t),Zo(t))}$.hb=function(){if(this.g){var t=Xn(this.g),e=this.g.fa();this.C<e.length&&(Fh(this),KE(this,t,e),this.i&&t!=4&&yl(this))}};function pM(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Lu:(n=Number(e.substring(n,i)),isNaN(n)?Bp:(i+=1,i+n>e.length?Lu:(e=e.substr(i,n),t.C=i+n,e)))}$.cancel=function(){this.I=!0,_s(this)};function yl(t){t.V=Date.now()+t.O,GE(t,t.O)}function GE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=pl(yt(t.gb,t),e)}function Fh(t){t.B&&(q.clearTimeout(t.B),t.B=null)}$.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(hM(this.j,this.A),this.K!=2&&(Oa(),xt(17)),_s(this),this.o=2,Zo(this)):GE(this,this.V-t)};function Zo(t){t.l.G==0||t.I||mk(t.l,t)}function _s(t){Fh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Vm(t.T),$E(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Vp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||jp(n.h,t))){if(!t.J&&jp(n.h,t)&&n.G==3){try{var i=n.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Uu(n),zh(n);else break e;Jm(n),xt(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=pl(yt(n.cb,n),6e3));if(1>=nk(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ws(n,11)}else if((t.J||n.g==t)&&Uu(n),!Ou(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.h;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Km(r,r.h),r.h=null))}if(i.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,Ee(i.F,i.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=t;if(i.sa=_k(i,i.H?i.ka:null,i.V),o.J){ik(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Fh(a),yl(a)),i.g=o}else pk(i);0<n.i.length&&Vh(n)}else c[0]!="stop"&&c[0]!="close"||ws(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ws(n,7):Qm(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Oa(4)}catch{}}function gM(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ih(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function mM(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function YE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mM(t),i=gM(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Cs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=e!==void 0?e:t.h,Fu(this,t.j),this.s=t.s,this.g=t.g,$u(this,t.m),this.l=t.l,e=t.i;var n=new Ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Y0(this,n),this.o=t.o}else t&&(n=String(t).match(XE))?(this.h=!!e,Fu(this,n[1]||"",!0),this.s=Mo(n[2]||""),this.g=Mo(n[3]||"",!0),$u(this,n[4]),this.l=Mo(n[5]||"",!0),Y0(this,n[6]||"",!0),this.o=Mo(n[7]||"")):(this.h=!!e,this.i=new Ma(null,this.h))}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lo(e,X0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lo(e,X0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lo(n,n.charAt(0)=="/"?wM:_M,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lo(n,SM)),t.join("")};function oi(t){return new Cs(t)}function Fu(t,e,n){t.j=n?Mo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $u(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Y0(t,e,n){e instanceof Ma?(t.i=e,EM(t.i,t.h)):(n||(e=Lo(e,bM)),t.i=new Ma(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function $h(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var X0=/[#\/\?@]/g,_M=/[#\?:]/g,wM=/[#\?]/g,bM=/[#\?@]/g,SM=/#/g;function Ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&yM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=Ma.prototype;$.add=function(t,e){ss(this),this.i=null,t=ro(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QE(t,e){ss(t),e=ro(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JE(t,e){return ss(t),e=ro(t,e),t.g.has(e)}$.forEach=function(t,e){ss(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};$.oa=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};$.W=function(t){ss(this);let e=[];if(typeof t=="string")JE(this,t)&&(e=e.concat(this.g.get(ro(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return ss(this),this.i=null,t=ro(this,t),JE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function ZE(t,e,n){QE(t,e),0<n.length&&(t.i=null,t.g.set(ro(t,e),Om(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function ro(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EM(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(QE(this,i),ZE(this,s,n))},t)),t.j=e}var kM=class{constructor(e,n){this.h=e,this.g=n}};function ek(t){this.l=t||xM,q.PerformanceNavigationTiming?(t=q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xM=10;function tk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nk(t){return t.h?1:t.g?t.g.size:0}function jp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Km(t,e){t.g?t.g.add(e):t.h=e}function ik(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ek.prototype.cancel=function(){if(this.i=sk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Om(t.i)}function Gm(){}Gm.prototype.stringify=function(t){return q.JSON.stringify(t,void 0)};Gm.prototype.parse=function(t){return q.JSON.parse(t,void 0)};function CM(){this.g=new Gm}function TM(t,e,n){const i=n||"";try{YE(t,function(s,r){let o=s;dl(s)&&(o=zm(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function IM(t,e){const n=new Ah;if(q.Image){const i=new Image;i.onload=Jl(ec,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Jl(ec,n,i,"TestLoadImage: error",!1,e),i.onabort=Jl(ec,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Jl(ec,n,i,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ec(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function vl(t){this.l=t.ac||null,this.j=t.jb||!1}at(vl,Hm);vl.prototype.g=function(){return new Uh(this.l,this.j)};vl.prototype.i=function(t){return function(){return t}}({});function Uh(t,e){tt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}at(Uh,tt);var Ym=0;$=Uh.prototype;$.open=function(t,e){if(this.readyState!=Ym)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,La(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=Ym};$.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rk(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function rk(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}$.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_l(this):La(this),this.readyState==3&&rk(this)}};$.Va=function(t){this.g&&(this.response=this.responseText=t,_l(this))};$.Ua=function(t){this.g&&(this.response=t,_l(this))};$.ga=function(){this.g&&_l(this)};function _l(t){t.readyState=4,t.l=null,t.j=null,t.A=null,La(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function La(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DM=q.JSON.parse;function Ne(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ok,this.K=this.L=!1}at(Ne,tt);var ok="",PM=/^https?$/i,RM=["POST","PUT"];$=Ne.prototype;$.Ka=function(t){this.L=t};$.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Up.g(),this.C=this.u?G0(this.u):G0(Up),this.g.onreadystatechange=yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){Q0(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=q.FormData&&t instanceof q.FormData,!(0<=SE(RM,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ck(this),0<this.B&&((this.K=NM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yt(this.qa,this)):this.A=jm(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Q0(this,r)}};function NM(t){return Fr&&YO()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.qa=function(){typeof Am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function Q0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ak(t),Bh(t)}function ak(t){t.D||(t.D=!0,rt(t,"complete"),rt(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),Bh(this))};$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bh(this,!0)),Ne.X.M.call(this)};$.Ha=function(){this.s||(this.F||this.v||this.l?lk(this):this.fb())};$.fb=function(){lk(this)};function lk(t){if(t.h&&typeof Am<"u"&&(!t.C[1]||Xn(t)!=4||t.aa()!=2)){if(t.v&&Xn(t)==4)jm(t.Ha,0,t);else if(rt(t,"readystatechange"),Xn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var s=String(t.H).match(XE)[1]||null;if(!s&&q.self&&q.self.location){var r=q.self.location.protocol;s=r.substr(0,r.length-1)}i=!PM.test(s?s.toLowerCase():"")}n=i}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var o=2<Xn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",ak(t)}}finally{Bh(t)}}}}function Bh(t,e){if(t.g){ck(t);const n=t.g,i=t.C[0]?Au:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=i}catch{}}}function ck(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}function Xn(t){return t.g?t.g.readyState:0}$.aa=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}};$.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DM(e)}};function J0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ok:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}$.Ea=function(){return this.m};$.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uk(t){let e="";return Lm(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Xm(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=uk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hk(t){this.Ca=0,this.i=[],this.j=new Ah,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bo("baseRetryDelayMs",5e3,t),this.bb=bo("retryDelaySeedMs",1e4,t),this.$a=bo("forwardChannelMaxRetries",2,t),this.ta=bo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new ek(t&&t.concurrentRequestLimit),this.Fa=new CM,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}$=hk.prototype;$.ma=8;$.G=1;function Qm(t){if(dk(t),t.G==3){var e=t.U++,n=oi(t.F);Ee(n,"SID",t.I),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),wl(t,n),e=new ml(t,t.j,e,void 0),e.K=2,e.v=$h(oi(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(e.v.toString(),"")),!n&&q.Image&&(new Image().src=e.v,n=!0),n||(e.g=wk(e.l,null),e.g.da(e.v)),e.F=Date.now(),yl(e)}vk(t)}function zh(t){t.g&&(Zm(t),t.g.cancel(),t.g=null)}function dk(t){zh(t),t.u&&(q.clearTimeout(t.u),t.u=null),Uu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&q.clearTimeout(t.m),t.m=null)}function Vh(t){tk(t.h)||t.m||(t.m=!0,OE(t.Ja,t),t.C=0)}function AM(t,e){return nk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=pl(yt(t.Ja,t,e),yk(t,t.C)),t.C++,!0)}$.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new ml(this,this.j,t,void 0);let r=this.s;if(this.S&&(r?(r=CE(r),TE(r,this.S)):r=this.S),this.o!==null||this.N||(s.H=r,r=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fk(this,s,e),n=oi(this.F),Ee(n,"RID",t),Ee(n,"CVER",22),this.D&&Ee(n,"X-HTTP-Session-Id",this.D),wl(this,n),r&&(this.N?e="headers="+encodeURIComponent(String(uk(r)))+"&"+e:this.o&&Xm(n,this.o,r)),Km(this.h,s),this.Ya&&Ee(n,"TYPE","init"),this.O?(Ee(n,"$req",e),Ee(n,"SID","null"),s.Z=!0,zp(s,n,null)):zp(s,n,e),this.G=2}}else this.G==3&&(t?Z0(this,t):this.i.length==0||tk(this.h)||Z0(this))};function Z0(t,e){var n;e?n=e.m:n=t.U++;const i=oi(t.F);Ee(i,"SID",t.I),Ee(i,"RID",n),Ee(i,"AID",t.T),wl(t,i),t.o&&t.s&&Xm(i,t.o,t.s),n=new ml(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=fk(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Km(t.h,n),zp(n,i,e)}function wl(t,e){t.ia&&Lm(t.ia,function(n,i){Ee(e,i,n)}),t.l&&YE({},function(n,i){Ee(e,i,n)})}function fk(t,e,n){n=Math.min(t.i.length,n);var i=t.l?yt(t.l.Ra,t.l,t):null;e:{var s=t.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].h;const u=s[l].g;if(c-=r,0>c)r=Math.max(0,s[l].h-100),a=!1;else try{TM(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,i}function pk(t){t.g||t.u||(t.Z=1,OE(t.Ia,t),t.A=0)}function Jm(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=pl(yt(t.Ia,t),yk(t,t.A)),t.A++,!0)}$.Ia=function(){if(this.u=null,gk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=pl(yt(this.eb,this),t)}};$.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xt(10),zh(this),gk(this))};function Zm(t){t.B!=null&&(q.clearTimeout(t.B),t.B=null)}function gk(t){t.g=new ml(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=oi(t.sa);Ee(e,"RID","rpc"),Ee(e,"SID",t.I),Ee(e,"CI",t.L?"0":"1"),Ee(e,"AID",t.T),Ee(e,"TYPE","xmlhttp"),wl(t,e),t.o&&t.s&&Xm(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=$h(oi(e)),n.s=null,n.P=!0,WE(n,t)}$.cb=function(){this.v!=null&&(this.v=null,zh(this),Jm(this),xt(19))};function Uu(t){t.v!=null&&(q.clearTimeout(t.v),t.v=null)}function mk(t,e){var n=null;if(t.g==e){Uu(t),Zm(t),t.g=null;var i=2}else if(jp(t.h,e))n=e.D,ik(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=Oh(),rt(i,new zE(i,n)),Vh(t)}else pk(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(i==1&&AM(t,e)||i==2&&Jm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:ws(t,5);break;case 4:ws(t,10);break;case 3:ws(t,6);break;default:ws(t,2)}}}function yk(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ws(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var i=yt(t.kb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||Fu(n,"https"),$h(n)),IM(n.toString(),i)}else xt(2);t.G=0,t.l&&t.l.va(e),vk(t),dk(t)}$.kb=function(t){t?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function vk(t){if(t.G=0,t.la=[],t.l){const e=sk(t.h);(e.length!=0||t.i.length!=0)&&(V0(t.la,e),V0(t.la,t.i),t.h.i.length=0,Om(t.i),t.i.length=0),t.l.ua()}}function _k(t,e,n){var i=n instanceof Cs?oi(n):new Cs(n,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),$u(i,i.m);else{var s=q.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new Cs(null,void 0);i&&Fu(r,i),e&&(r.g=e),s&&$u(r,s),n&&(r.l=n),i=r}return n=t.D,e=t.za,n&&e&&Ee(i,n,e),Ee(i,"VER",t.ma),wl(t,i),i}function wk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ne(new vl({jb:!0})):new Ne(t.ra),e.Ka(t.H),e}function bk(){}$=bk.prototype;$.xa=function(){};$.wa=function(){};$.va=function(){};$.ua=function(){};$.Ra=function(){};function Bu(){if(Fr&&!(10<=Number(XO)))throw Error("Environmental error: no available transport.")}Bu.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){tt.call(this),this.g=new hk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Ou(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ou(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new oo(this)}at(Wt,tt);Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=_k(t,null,t.V),Vh(t)};Wt.prototype.close=function(){Qm(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zm(t),t=n);e.i.push(new kM(e.ab++,t)),e.G==3&&Vh(e)};Wt.prototype.M=function(){this.g.l=null,delete this.j,Qm(this.g),delete this.g,Wt.X.M.call(this)};function Sk(t){Wm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}at(Sk,Wm);function Ek(){qm.call(this),this.status=1}at(Ek,qm);function oo(t){this.g=t}at(oo,bk);oo.prototype.xa=function(){rt(this.g,"a")};oo.prototype.wa=function(t){rt(this.g,new Sk(t))};oo.prototype.va=function(t){rt(this.g,new Ek)};oo.prototype.ua=function(){rt(this.g,"b")};Bu.prototype.createWebChannel=Bu.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Mh.NO_ERROR=0;Mh.TIMEOUT=8;Mh.HTTP_ERROR=6;VE.COMPLETE="complete";jE.EventType=gl;gl.OPEN="a";gl.CLOSE="b";gl.ERROR="c";gl.MESSAGE="d";tt.prototype.listen=tt.prototype.N;Ne.prototype.listenOnce=Ne.prototype.O;Ne.prototype.getLastError=Ne.prototype.Oa;Ne.prototype.getLastErrorCode=Ne.prototype.Ea;Ne.prototype.getStatus=Ne.prototype.aa;Ne.prototype.getResponseJson=Ne.prototype.Sa;Ne.prototype.getResponseText=Ne.prototype.fa;Ne.prototype.send=Ne.prototype.da;Ne.prototype.setWithCredentials=Ne.prototype.Ka;var OM=function(){return new Bu},MM=function(){return Oh()},Zd=Mh,LM=VE,FM=Ys,e_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$M=vl,tc=jE,UM=Ne;const t_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new bm("@firebase/firestore");function n_(){return Bs.logLevel}function U(t,...e){if(Bs.logLevel<=se.DEBUG){const n=e.map(ey);Bs.debug(`Firestore (${ao}): ${t}`,...n)}}function ai(t,...e){if(Bs.logLevel<=se.ERROR){const n=e.map(ey);Bs.error(`Firestore (${ao}): ${t}`,...n)}}function zu(t,...e){if(Bs.logLevel<=se.WARN){const n=e.map(ey);Bs.warn(`Firestore (${ao}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function be(t,e){t||K()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class zM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ji,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string"),new kk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new dt(e)}}class jM{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class HM{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new jM(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=r=>{r.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?s(r):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.T=n.token,new WM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=KM(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function $r(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new qe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new qe(0,0))}static max(){return new G(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(),i===void 0?i=e.length-n:i>e.length-n&&K(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Fa{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new j(A.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const GM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Fa{construct(e,n,i){return new gt(e,n,i)}static isValidIdentifier(e){return GM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new j(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new j(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new j(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.path=e}static fromPath(e){return new V(De.fromString(e))}static fromName(e){return new V(De.fromString(e).popFirst(5))}static empty(){return new V(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new De(e.slice()))}}function YM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=G.fromTimestamp(i===1e9?new qe(n+1,0):new qe(n,i));return new Gi(s,V.empty(),e)}function XM(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Gi(G.min(),V.empty(),-1)}static max(){return new Gi(G.max(),V.empty(),-1)}}function QM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==JM)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,i)=>{n(e)})}static reject(e){return new N((n,i)=>{i(e)})}static waitFor(e){return new N((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=N.resolve(!1);for(const i of e)n=n.next(s=>s?N.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new N((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(e,n){return new N((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}ty.ct=-1;function jh(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function eL(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??it.RED,this.left=s??it.EMPTY,this.right=r??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new it(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,i,s){return this}insert(t,e,n){return new it(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Ke(gt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $r(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tL("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const nL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(be(!!t),typeof t=="string"){let e=0;const n=nL.exec(t);if(be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ik(t){const e=t.mapValue.fields.__previous_value__;return Tk(e)?Ik(e):e}function $a(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,i,s,r,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tk(t)?4:sL(t)?9007199254740991:10:K()}function Mn(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=Yi(i.timestampValue),o=Yi(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ur(i.bytesValue).isEqual(Ur(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Ue(i.doubleValue),o=Ue(s.doubleValue);return r===o?Vu(r)===Vu(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return $r(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(i_(r)!==i_(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!Mn(r[a],o[a])))return!1;return!0}(t,e);default:return K()}}function Ba(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Br(t,e){if(t===e)return 0;const n=zs(t),i=zs(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=Ue(s.integerValue||s.doubleValue),a=Ue(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_($a(t),$a(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,r){const o=Ur(s),a=Ur(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=oe(o[l],a[l]);if(c!==0)return c}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=oe(Ue(s.latitude),Ue(r.latitude));return o!==0?o:oe(Ue(s.longitude),Ue(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Br(o[l],a[l]);if(c)return c}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===ic.mapValue&&r===ic.mapValue)return 0;if(s===ic.mapValue)return 1;if(r===ic.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=oe(a[u],c[u]);if(h!==0)return h;const d=Br(o[a[u]],l[c[u]]);if(d!==0)return d}return oe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Yi(t),i=Yi(e),s=oe(n.seconds,i.seconds);return s!==0?s:oe(n.nanos,i.nanos)}function zr(t){return Hp(t)}function Hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=Yi(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ur(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,V.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=Hp(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${Hp(i.fields[a])}`;return r+"}"}(t.mapValue):K();var e,n}function Wp(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ea(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=gt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=ea(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Fc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){lo(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Qt(ea(this.value))}}function Dk(t){const e=[];return lo(t.fields,(n,i)=>{const s=new gt([n]);if(Fc(i)){const r=Dk(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,G.min(),G.min(),G.min(),Qt.empty(),0)}static newFoundDocument(e,n,i,s){return new pt(e,1,n,G.min(),i,s,0)}static newNoDocument(e,n){return new pt(e,2,n,G.min(),G.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,G.min(),G.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function l_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=V.comparator(V.fromName(o.referenceValue),n.key):i=Br(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function c_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n="asc"){this.field=e,this.dir=n}}function rL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{}class je extends Pk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new aL(e,n,i):n==="array-contains"?new uL(e,i):n==="in"?new hL(e,i):n==="not-in"?new dL(e,i):n==="array-contains-any"?new fL(e,i):new je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lL(e,i):new cL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Br(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Br(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ln extends Pk{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ln(e,n)}matches(e){return Rk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Rk(t){return t.op==="and"}function Nk(t){return oL(t)&&Rk(t)}function oL(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function qp(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+zr(t.value);if(Nk(t))return t.filters.map(e=>qp(e)).join(",");{const e=t.filters.map(n=>qp(n)).join(",");return`${t.op}(${e})`}}function Ak(t,e){return t instanceof je?function(n,i){return i instanceof je&&n.op===i.op&&n.field.isEqual(i.field)&&Mn(n.value,i.value)}(t,e):t instanceof Ln?function(n,i){return i instanceof Ln&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,r,o)=>s&&Ak(r,i.filters[o]),!0):!1}(t,e):void K()}function Ok(t){return t instanceof je?function(e){return`${e.field.canonicalString()} ${e.op} ${zr(e.value)}`}(t):t instanceof Ln?function(e){return e.op.toString()+" {"+e.getFilters().map(Ok).join(" ,")+"}"}(t):"Filter"}class aL extends je{constructor(e,n,i){super(e,n,i),this.key=V.fromName(i.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class lL extends je{constructor(e,n){super(e,"in",n),this.keys=Mk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cL extends je{constructor(e,n){super(e,"not-in",n),this.keys=Mk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>V.fromName(i.referenceValue))}class uL extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ny(n)&&Ba(n.arrayValue,this.value)}}class hL extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class dL extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class fL extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ba(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ft=null}}function u_(t,e=null,n=[],i=[],s=null,r=null,o=null){return new pL(t,e,n,i,s,r,o)}function iy(t){const e=X(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>qp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zr(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zr(i)).join(",")),e.ft=n}return e.ft}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ak(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c_(t.startAt,e.startAt)&&c_(t.endAt,e.endAt)}function Kp(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function gL(t,e,n,i,s,r,o,a){return new Hh(t,e,n,i,s,r,o,a)}function ry(t){return new Hh(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yL(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function vL(t){return t.collectionGroup!==null}function Cr(t){const e=X(t);if(e.dt===null){e.dt=[];const n=yL(e),i=mL(e);if(n!==null&&i===null)n.isKeyField()||e.dt.push(new ta(n)),e.dt.push(new ta(gt.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e.dt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ta(gt.keyField(),r))}}}return e.dt}function li(t){const e=X(t);if(!e.wt)if(e.limitType==="F")e.wt=u_(e.path,e.collectionGroup,Cr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of Cr(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new ta(r.field,o))}const i=e.endAt?new ju(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ju(e.startAt.position,e.startAt.inclusive):null;e.wt=u_(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e.wt}function Gp(t,e,n){return new Hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wh(t,e){return sy(li(t),li(e))&&t.limitType===e.limitType}function Lk(t){return`${iy(li(t))}|lt:${t.limitType}`}function Yp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>Ok(i)).join(", ")}]`),jh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zr(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zr(i)).join(",")),`Target(${n})`}(li(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):V.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Cr(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=l_(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,Cr(n),i)||n.endAt&&!function(s,r,o){const a=l_(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,Cr(n),i))}(t,e)}function _L(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fk(t){return(e,n)=>{let i=!1;for(const s of Cr(t)){const r=wL(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function wL(t,e,n){const i=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Br(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return Ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Ge(V.comparator);function ci(){return bL}const $k=new Ge(V.comparator);function Fo(...t){let e=$k;for(const n of t)e=e.insert(n.key,n);return e}function Uk(t){let e=$k;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function bs(){return na()}function Bk(){return na()}function na(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const SL=new Ge(V.comparator),EL=new Ke(V.comparator);function Q(...t){let e=EL;for(const n of t)e=e.add(n);return e}const kL=new Ke(oe);function zk(){return kL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function jk(t){return{integerValue:""+t}}function xL(t,e){return eL(e)?jk(e):Vk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function CL(t,e,n){return t instanceof Hu?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof za?Wk(t,e):t instanceof Va?qk(t,e):function(i,s){const r=Hk(i,s),o=d_(r)+d_(i._t);return Wp(r)&&Wp(i._t)?jk(o):Vk(i.serializer,o)}(t,e)}function TL(t,e,n){return t instanceof za?Wk(t,e):t instanceof Va?qk(t,e):n}function Hk(t,e){return t instanceof Wu?Wp(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Hu extends Kh{}class za extends Kh{constructor(e){super(),this.elements=e}}function Wk(t,e){const n=Kk(e);for(const i of t.elements)n.some(s=>Mn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Va extends Kh{constructor(e){super(),this.elements=e}}function qk(t,e){let n=Kk(e);for(const i of t.elements)n=n.filter(s=>!Mn(s,i));return{arrayValue:{values:n}}}class Wu extends Kh{constructor(e,n){super(),this.serializer=e,this._t=n}}function d_(t){return Ue(t.integerValue||t.doubleValue)}function Kk(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IL(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof za&&i instanceof za||n instanceof Va&&i instanceof Va?$r(n.elements,i.elements,Mn):n instanceof Wu&&i instanceof Wu?Mn(n._t,i._t):n instanceof Hu&&i instanceof Hu}(t.transform,e.transform)}class DL{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gh{}function Gk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oy(t.key,Nn.none()):new El(t.key,t.data,Nn.none());{const n=t.data,i=Qt.empty();let s=new Ke(gt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Xs(t.key,i,new cn(s.toArray()),Nn.none())}}function PL(t,e,n){t instanceof El?function(i,s,r){const o=i.value.clone(),a=p_(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(i,s,r){if(!$c(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=p_(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(Yk(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n,i){return t instanceof El?function(s,r,o,a){if(!$c(s.precondition,r))return o;const l=s.value.clone(),c=g_(s.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Xs?function(s,r,o,a){if(!$c(s.precondition,r))return o;const l=g_(s.fieldTransforms,a,r),c=r.data;return c.setAll(Yk(s)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(s,r,o){return $c(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function RL(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=Hk(i.transform,s||null);r!=null&&(n===null&&(n=Qt.empty()),n.set(i.field,r))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$r(n,i,(s,r)=>IL(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends Gh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends Gh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Yk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function p_(t,e,n){const i=new Map;be(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,TL(o,a,n[s]))}return i}function g_(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,CL(r,o,e))}return i}class oy extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NL extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&PL(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ia(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ia(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Bk();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=Gk(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(G.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&$r(this.mutations,e.mutations,(n,i)=>f_(n,i))&&$r(this.baseMutations,e.baseMutations,(n,i)=>f_(n,i))}}class ay{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){be(e.mutations.length===i.length);let s=SL;const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new ay(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ee;function LL(t){switch(t){default:return K();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function Xk(t){if(t===void 0)return ai("GRPC error has no .code"),A.UNKNOWN;switch(t){case $e.OK:return A.OK;case $e.CANCELLED:return A.CANCELLED;case $e.UNKNOWN:return A.UNKNOWN;case $e.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case $e.INTERNAL:return A.INTERNAL;case $e.UNAVAILABLE:return A.UNAVAILABLE;case $e.UNAUTHENTICATED:return A.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case $e.NOT_FOUND:return A.NOT_FOUND;case $e.ALREADY_EXISTS:return A.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return A.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case $e.ABORTED:return A.ABORTED;case $e.OUT_OF_RANGE:return A.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return A.UNIMPLEMENTED;case $e.DATA_LOSS:return A.DATA_LOSS;default:return K()}}(ee=$e||($e={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sc}static getOrCreateInstance(){return sc===null&&(sc=new ly),sc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Yh(G.min(),s,zk(),ci(),Q())}}class kl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new kl(i,n,Q(),Q(),Q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,i,s){this.It=e,this.removedTargetIds=n,this.key=i,this.Tt=s}}class Qk{constructor(e,n){this.targetId=e,this.Et=n}}class Jk{constructor(e,n,i=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class m_{constructor(){this.At=0,this.Rt=v_(),this.vt=bt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Q(),n=Q(),i=Q();return this.Rt.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:K()}}),new kl(this.vt,this.bt,e,n,i)}xt(){this.Pt=!1,this.Rt=v_()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class FL{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=ci(),this.qt=y_(),this.Ut=new Ke(oe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const i=this.jt(n);switch(e.state){case 0:this.Wt(n)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),i.Dt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((i,s)=>{this.Wt(s)&&n(s)})}Jt(e){var n;const i=e.targetId,s=e.Et.count,r=this.Yt(i);if(r){const o=r.target;if(Kp(o))if(s===0){const a=new V(o.path);this.Qt(i,a,pt.newNoDocument(a,G.min()))}else be(s===1);else{const a=this.Zt(i);a!==s&&(this.Ht(i),this.Ut=this.Ut.add(i),(n=ly.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((r,o)=>{const a=this.Yt(o);if(a){if(r.current&&Kp(a.target)){const l=new V(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,pt.newNoDocument(l,e))}r.St&&(n.set(o,r.Ct()),r.xt())}});let i=Q();this.qt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(r))}),this.Lt.forEach((r,o)=>o.setReadTime(e));const s=new Yh(e,n,this.Ut,this.Lt,i);return this.Lt=ci(),this.qt=y_(),this.Ut=new Ke(oe),s}Gt(e,n){if(!this.Wt(e))return;const i=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,i){if(!this.Wt(e))return;const s=this.jt(e);this.te(e,n)?s.Nt(n,1):s.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new m_,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ke(oe),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new m_),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function y_(){return new Ge(V.comparator)}function v_(){return new Ge(V.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),UL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),BL=(()=>({and:"AND",or:"OR"}))();class zL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VL(t,e){return qu(t,e.toTimestamp())}function An(t){return be(!!t),G.fromTimestamp(function(e){const n=Yi(e);return new qe(n.seconds,n.nanos)}(t))}function cy(t,e){return function(n){return new De(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ex(t){const e=De.fromString(t);return be(sx(e)),e}function Xp(t,e){return cy(t.databaseId,e.path)}function ef(t,e){const n=ex(e);if(n.get(1)!==t.databaseId.projectId)throw new j(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(tx(n))}function Qp(t,e){return cy(t.databaseId,e)}function jL(t){const e=ex(t);return e.length===4?De.emptyPath():tx(e)}function Jp(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tx(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __(t,e,n){return{name:Xp(t,e),fields:n.value.mapValue.fields}}function HL(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,c){return l.useProto3Json?(be(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?A.UNKNOWN:Xk(l.code);return new j(c,l.message||"")}(o);n=new Jk(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=ef(t,i.document.name),r=An(i.document.updateTime),o=i.document.createTime?An(i.document.createTime):G.min(),a=new Qt({mapValue:{fields:i.document.fields}}),l=pt.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Uc(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=ef(t,i.document),r=i.readTime?An(i.readTime):G.min(),o=pt.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=ef(t,i.document),r=i.removedTargetIds||[];n=new Uc([],r,s,null)}else{if(!("filter"in e))return K();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,r=new ML(s),o=i.targetId;n=new Qk(o,r)}}return n}function WL(t,e){let n;if(e instanceof El)n={update:__(t,e.key,e.value)};else if(e instanceof oy)n={delete:Xp(t,e.key)};else if(e instanceof Xs)n={update:__(t,e.key,e.data),updateMask:e2(e.fieldMask)};else{if(!(e instanceof NL))return K();n={verify:Xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof Hu)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof za)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Va)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wu)return{fieldPath:r.field.canonicalString(),increment:o._t};throw K()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:VL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function qL(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let r=i.updateTime?An(i.updateTime):An(s);return r.isEqual(G.min())&&(r=An(s)),new DL(r,i.transformResults||[])}(n,e))):[]}function KL(t,e){return{documents:[Qp(t,e.path)]}}function GL(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Qp(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qp(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return ix(Ln.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:nr(u.field),direction:QL(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,c){return l.useProto3Json||jh(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function YL(t){let e=jL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){be(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(u){const h=nx(u);return h instanceof Ln&&Nk(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new ta(ir(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,jh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new ju(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new ju(d,h)}(n.endAt)),gL(e,s,o,r,a,"F",l,c)}function XL(t,e){const n=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function nx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ir(e.unaryFilter.field);return je.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ir(e.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ir(e.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ir(e.unaryFilter.field);return je.create(r,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return je.create(ir(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ln.create(e.compositeFilter.filters.map(n=>nx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function QL(t){return $L[t]}function JL(t){return UL[t]}function ZL(t){return BL[t]}function nr(t){return{fieldPath:t.canonicalString()}}function ir(t){return gt.fromServerFormat(t.fieldPath)}function ix(t){return t instanceof je?function(e){if(e.op==="=="){if(a_(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NAN"}};if(o_(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(a_(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NOT_NAN"}};if(o_(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nr(e.field),op:JL(e.op),value:e.value}}}(t):t instanceof Ln?function(e){const n=e.getFilters().map(i=>ix(i));return n.length===1?n[0]:{compositeFilter:{op:ZL(e.op),filters:n}}}(t):K()}function e2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,i,s,r=G.min(),o=G.min(),a=bt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.se=e}}function n2(t){const e=YL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.He=new s2}addToCollectionParentIndex(e,n){return this.He.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Gi.min())}updateCollectionGroup(e,n,i){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class s2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ke(De.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ke(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Vr(0)}static bn(){return new Vr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ia(i.mutation,s,cn.empty(),qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Q()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Q()){const s=bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Fo();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Q()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=ci();const o=na(),a=na();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Xs)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ia(u.mutation,c,u.mutation.getFieldMask(),qe.now())):o.set(c.key,cn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new o2(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=na();let s=new Ge((o,a)=>o-a),r=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||cn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||Q()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Bk();u.forEach(d=>{if(!r.has(d)){const f=Gk(n.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return N.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return V.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):N.resolve(bs());let a=-1,l=r;return o.next(c=>N.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?N.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,Q())).next(u=>({batchId:a,changes:Uk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(i=>{let s=Fo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=Fo();return this.indexManager.getCollectionParents(e,s).next(o=>N.forEach(o,a=>{const l=function(c,u){return new Hh(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,pt.newInvalidDocument(c)))});let o=Fo();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&ia(c.mutation,l,cn.empty(),qe.now()),qh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:An(i.createTime)}),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(i){return{name:i.name,query:n2(i.bundledQuery),readTime:An(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.overlays=new Ge(V.comparator),this.ts=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const i=bs();return N.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.re(e,n,r)}),N.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.ts.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.ts.delete(i)),N.resolve()}getOverlaysForCollection(e,n,i){const s=bs(),r=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return N.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ge((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=bs(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=bs(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return N.resolve(a)}re(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.ts.get(s.largestBatchId).delete(i.key);this.ts.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new OL(n,i));let r=this.ts.get(n);r===void 0&&(r=Q(),this.ts.set(n,r)),this.ts.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.es=new Ke(Qe.ns),this.ss=new Ke(Qe.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const i=new Qe(e,n);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.us(new Qe(e,n))}cs(e,n){e.forEach(i=>this.removeReference(i,n))}hs(e){const n=new V(new De([])),i=new Qe(n,e),s=new Qe(n,e+1),r=[];return this.ss.forEachInRange([i,s],o=>{this.us(o),r.push(o.key)}),r}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new V(new De([])),i=new Qe(n,e),s=new Qe(n,e+1);let r=Q();return this.ss.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Qe(e,0),i=this.es.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qe{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return V.comparator(e.key,n.key)||oe(e.ds,n.ds)}static rs(e,n){return oe(e.ds,n.ds)||V.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ke(Qe.ns)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AL(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this._s=this._s.add(new Qe(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ys(i),r=s<0?0:s;return N.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qe(n,0),s=new Qe(n,Number.POSITIVE_INFINITY),r=[];return this._s.forEachInRange([i,s],o=>{const a=this.gs(o.ds);r.push(a)}),N.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ke(oe);return n.forEach(s=>{const r=new Qe(s,0),o=new Qe(s,Number.POSITIVE_INFINITY);this._s.forEachInRange([r,o],a=>{i=i.add(a.ds)})}),N.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;V.isDocumentKey(r)||(r=r.child(""));const o=new Qe(new V(r),0);let a=new Ke(oe);return this._s.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.ds)),!0)},o),N.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(i=>{const s=this.gs(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){be(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this._s;return N.forEach(n.mutations,s=>{const r=new Qe(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,n){const i=new Qe(n,0),s=this._s.firstAfterOrEqual(i);return N.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.Ts=e,this.docs=new Ge(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let i=ci();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():pt.newInvalidDocument(s))}),N.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=ci();const o=n.path,a=new V(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||QM(XM(u),i)<=0||(s.has(u.key)||qh(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return N.resolve(r)}getAllFromCollectionGroup(e,n,i,s){K()}Es(e,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new d2(this)}getSize(e){return N.resolve(this.size)}}class d2 extends r2{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Jn.addEntry(e,s)):this.Jn.removeEntry(i)}),N.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.persistence=e,this.As=new co(n=>iy(n),sy),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Rs=0,this.vs=new uy,this.targetCount=0,this.bs=Vr.vn()}forEachTarget(e,n){return this.As.forEach((i,s)=>n(s)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Rs&&(this.Rs=n),N.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Vr(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Sn(n),N.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.As.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),N.waitFor(r).next(()=>s)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const i=this.As.get(n)||null;return N.resolve(i)}addMatchingKeys(e,n,i){return this.vs.os(n,i),N.resolve()}removeMatchingKeys(e,n,i){this.vs.cs(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),N.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),N.resolve()}getMatchingKeysForTargetId(e,n){const i=this.vs.fs(n);return N.resolve(i)}containsKey(e,n){return N.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new ty(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new f2(this),this.indexManager=new i2,this.remoteDocumentCache=function(i){return new h2(i)}(i=>this.referenceDelegate.Cs(i)),this.serializer=new t2(n),this.xs=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Ps[e.toKey()];return i||(i=new u2(n,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,i){U("MemoryPersistence","Starting transaction:",e);const s=new g2(this.Vs.next());return this.referenceDelegate.Ns(),i(s).next(r=>this.referenceDelegate.ks(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Os(e,n){return N.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,n)))}}class g2 extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.$s=new uy,this.Ms=null}static Fs(e){return new hy(e)}get Bs(){if(this.Ms)return this.Ms;throw K()}addReference(e,n,i){return this.$s.addReference(i,n),this.Bs.delete(i.toString()),N.resolve()}removeReference(e,n,i){return this.$s.removeReference(i,n),this.Bs.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),N.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(s=>this.Bs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Bs.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Bs,i=>{const s=V.fromPath(i);return this.Ls(e,s).next(r=>{r||n.removeEntry(s,G.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(i=>{i?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return N.or([()=>N.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Vi=i,this.Si=s}static Di(e,n){let i=Q(),s=Q();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new dy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,i,s){return this.Ni(e,n).next(r=>r||this.ki(e,n,s,i)).next(r=>r||this.Oi(e,n))}Ni(e,n){if(h_(n))return N.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gp(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Q(...r);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.$i(n,a);return this.Mi(n,c,o,l.readTime)?this.Ni(e,Gp(n,null,"F")):this.Fi(e,c,n,l)}))})))}ki(e,n,i,s){return h_(n)||s.isEqual(G.min())?this.Oi(e,n):this.xi.getDocuments(e,i).next(r=>{const o=this.$i(n,r);return this.Mi(n,o,i,s)?this.Oi(e,n):(n_()<=se.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yp(n)),this.Fi(e,o,n,YM(s,-1)))})}$i(e,n){let i=new Ke(Fk(e));return n.forEach((s,r)=>{qh(e,r)&&(i=i.add(r))}),i}Mi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Oi(e,n){return n_()<=se.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Yp(n)),this.xi.getDocumentsMatchingQuery(e,n,Gi.min())}Fi(e,n,i,s){return this.xi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,i,s){this.persistence=e,this.Bi=n,this.serializer=s,this.Li=new Ge(oe),this.qi=new co(r=>iy(r),sy),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a2(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function v2(t,e,n,i){return new y2(t,e,n,i)}async function rx(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Gi(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Q();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:a}))})})}function _2(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let d=N.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);be(g!==null),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Q();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function ox(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function w2(t,e){const n=X(t),i=e.snapshotVersion;let s=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});s=n.Li;const a=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Ds.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(r,u.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),s=s.insert(h,f),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Ds.updateTargetData(r,f))});let l=ci(),c=Q();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(b2(r,o,e.documentUpdates).next(u=>{l=u.zi,c=u.ji})),!i.isEqual(G.min())){const u=n.Ds.getLastRemoteSnapshotVersion(r).next(h=>n.Ds.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return N.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Li=s,r))}function b2(t,e,n){let i=Q(),s=Q();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=ci();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:s}})}function S2(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function E2(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ds.getTargetData(i,e).next(r=>r?(s=r,N.resolve(s)):n.Ds.allocateTargetId(i).next(o=>(s=new Ts(e,o,0,i.currentSequenceNumber),n.Ds.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Li.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Li=n.Li.insert(i.targetId,i),n.qi.set(e,i.targetId)),i})}async function Zp(t,e,n){const i=X(t),s=i.Li.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Sl(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Li=i.Li.remove(e),i.qi.delete(s.target)}function w_(t,e,n){const i=X(t);let s=G.min(),r=Q();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=X(a),h=u.qi.get(c);return h!==void 0?N.resolve(u.Li.get(h)):u.Ds.getTargetData(l,c)}(i,o,li(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Bi.getDocumentsMatchingQuery(o,e,n?s:G.min(),n?r:Q())).next(a=>(k2(i,_L(e),a),{documents:a,Wi:r})))}function k2(t,e,n){let i=t.Ui.get(e)||G.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ui.set(e,i)}class b_{constructor(){this.activeTargetIds=zk()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x2{constructor(){this.Br=new b_,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,i){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new b_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function tf(){return rc===null?rc=268435456+Math.round(2147483648*Math.random()):rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class D2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,i,s,r){const o=tf(),a=this.ao(e,n);U("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.ho(l,s,r),this.lo(e,a,l,i).then(c=>(U("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw zu("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}fo(e,n,i,s,r,o){return this.co(e,n,i,s,r)}ho(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}ao(e,n){const i=T2[e];return`${this.ro}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,i,s){const r=tf();return new Promise((o,a)=>{const l=new UM;l.setWithCredentials(!0),l.listenOnce(LM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zd.NO_ERROR:const u=l.getResponseJson();U(ut,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case Zd.TIMEOUT:U(ut,`RPC '${e}' ${r} timed out`),a(new j(A.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const h=l.getStatus();if(U(ut,`RPC '${e}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(v)>=0?v:A.UNKNOWN}(f.status);a(new j(p,f.message))}else a(new j(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(A.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{U(ut,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(s);U(ut,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(e,n,i){const s=tf(),r=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OM(),a=MM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new $M({})),this.ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=r.join("");U(ut,`Creating RPC '${e}' stream ${s}: ${c}`,l);const u=o.createWebChannel(c,l);let h=!1,d=!1;const f=new I2({Wr:g=>{d?U(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,g):(h||(U(ut,`Opening RPC '${e}' stream ${s} transport.`),u.open(),h=!0),U(ut,`RPC '${e}' stream ${s} sending:`,g),u.send(g))},Hr:()=>u.close()}),p=(g,v,y)=>{g.listen(v,m=>{try{y(m)}catch(_){setTimeout(()=>{throw _},0)}})};return p(u,tc.EventType.OPEN,()=>{d||U(ut,`RPC '${e}' stream ${s} transport opened.`)}),p(u,tc.EventType.CLOSE,()=>{d||(d=!0,U(ut,`RPC '${e}' stream ${s} transport closed`),f.so())}),p(u,tc.EventType.ERROR,g=>{d||(d=!0,zu(ut,`RPC '${e}' stream ${s} transport errored:`,g),f.so(new j(A.UNAVAILABLE,"The operation could not be completed")))}),p(u,tc.EventType.MESSAGE,g=>{var v;if(!d){const y=g.data[0];be(!!y);const m=y,_=m.error||((v=m[0])===null||v===void 0?void 0:v.error);if(_){U(ut,`RPC '${e}' stream ${s} received error:`,_);const b=_.status;let S=function(E){const k=$e[E];if(k!==void 0)return Xk(k)}(b),x=_.message;S===void 0&&(S=A.INTERNAL,x="Unknown error status: "+b+" with message "+_.message),d=!0,f.so(new j(S,x)),u.close()}else U(ut,`RPC '${e}' stream ${s} received:`,y),f.io(y)}}),p(a,FM.STAT_EVENT,g=>{g.stat===e_.PROXY?U(ut,`RPC '${e}' stream ${s} detected buffering proxy`):g.stat===e_.NOPROXY&&U(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return new zL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Ws=e,this.timerId=n,this._o=i,this.mo=s,this.yo=r,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),s=Math.max(0,n-i);s>0&&U("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,s,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,i,s,r,o,a,l){this.Ws=e,this.bo=i,this.Po=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new ax(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Vo===n&&this.Ko(i,s)},i=>{e(()=>{const s=new j(A.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(s)})})}Ko(e,n){const i=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(s=>{i(()=>this.Go(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P2 extends lx{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=HL(this.serializer,e),i=function(s){if(!("targetChange"in s))return G.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?G.min():r.readTime?An(r.readTime):G.min()}(e);return this.listener.zo(n,i)}jo(e){const n={};n.database=Jp(this.serializer),n.addTarget=function(s,r){let o;const a=r.target;return o=Kp(a)?{documents:KL(s,a)}:{query:GL(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=Zk(s,r.resumeToken):r.snapshotVersion.compareTo(G.min())>0&&(o.readTime=qu(s,r.snapshotVersion.toTimestamp())),o}(this.serializer,e);const i=XL(this.serializer,e);i&&(n.labels=i),this.Fo(n)}Wo(e){const n={};n.database=Jp(this.serializer),n.removeTarget=e,this.Fo(n)}}class R2 extends lx{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=qL(e.writeResults,e.commitTime),i=An(e.commitTime);return this.listener.Zo(i,n)}return be(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Jp(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>WL(this.serializer,i))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.eu=!1}nu(){if(this.eu)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.co(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(A.UNKNOWN,s.toString())})}fo(e,n,i,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.fo(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(A.UNKNOWN,r.toString())})}terminate(){this.eu=!0}}class A2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(ai(n),this.ru=!1):U("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=r,this._u.qr(o=>{i.enqueueAndForget(async()=>{Qs(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=X(a);l.du.add(4),await xl(l),l.mu.set("Unknown"),l.du.delete(4),await Qh(l)}(this))})}),this.mu=new A2(i,s)}}async function Qh(t){if(Qs(t))for(const e of t.wu)await e(!0)}async function xl(t){for(const e of t.wu)await e(!1)}function cx(t,e){const n=X(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),gy(n)?py(n):uo(n).No()&&fy(n,e))}function ux(t,e){const n=X(t),i=uo(n);n.fu.delete(e),i.No()&&hx(n,e),n.fu.size===0&&(i.No()?i.$o():Qs(n)&&n.mu.set("Unknown"))}function fy(t,e){t.gu.Ot(e.targetId),uo(t).jo(e)}function hx(t,e){t.gu.Ot(e),uo(t).Wo(e)}function py(t){t.gu=new FL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),uo(t).start(),t.mu.ou()}function gy(t){return Qs(t)&&!uo(t).xo()&&t.fu.size>0}function Qs(t){return X(t).du.size===0}function dx(t){t.gu=void 0}async function M2(t){t.fu.forEach((e,n)=>{fy(t,e)})}async function L2(t,e){dx(t),gy(t)?(t.mu.au(e),py(t)):t.mu.set("Unknown")}async function F2(t,e,n){if(t.mu.set("Online"),e instanceof Jk&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.fu.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.fu.delete(o),i.gu.removeTarget(o))}(t,e)}catch(i){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ku(t,i)}else if(e instanceof Uc?t.gu.Kt(e):e instanceof Qk?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(G.min()))try{const i=await ox(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.gu.Xt(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.fu.get(l);c&&s.fu.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=s.fu.get(a);if(!l)return;s.fu.set(a,l.withResumeToken(bt.EMPTY_BYTE_STRING,l.snapshotVersion)),hx(s,a);const c=new Ts(l.target,a,1,l.sequenceNumber);fy(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){U("RemoteStore","Failed to raise snapshot:",i),await Ku(t,i)}}async function Ku(t,e,n){if(!Sl(e))throw e;t.du.add(1),await xl(t),t.mu.set("Offline"),n||(n=()=>ox(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Qh(t)})}function fx(t,e){return e().catch(n=>Ku(t,n,e))}async function Jh(t){const e=X(t),n=Xi(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;$2(e);)try{const s=await S2(e.localStore,i);if(s===null){e.lu.length===0&&n.$o();break}i=s.batchId,U2(e,s)}catch(s){await Ku(e,s)}px(e)&&gx(e)}function $2(t){return Qs(t)&&t.lu.length<10}function U2(t,e){t.lu.push(e);const n=Xi(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function px(t){return Qs(t)&&!Xi(t).xo()&&t.lu.length>0}function gx(t){Xi(t).start()}async function B2(t){Xi(t).tu()}async function z2(t){const e=Xi(t);for(const n of t.lu)e.Yo(n.mutations)}async function V2(t,e,n){const i=t.lu.shift(),s=ay.from(i,e,n);await fx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Jh(t)}async function j2(t,e){e&&Xi(t).Jo&&await async function(n,i){if(s=i.code,LL(s)&&s!==A.ABORTED){const r=n.lu.shift();Xi(n).Oo(),await fx(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Jh(n)}var s}(t,e),px(t)&&gx(t)}async function E_(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const i=Qs(n);n.du.add(3),await xl(n),i&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Qh(n)}async function H2(t,e){const n=X(t);e?(n.du.delete(2),await Qh(n)):e||(n.du.add(2),await xl(n),n.mu.set("Unknown"))}function uo(t){return t.yu||(t.yu=function(e,n,i){const s=X(e);return s.nu(),new P2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Jr:M2.bind(null,t),Zr:L2.bind(null,t),zo:F2.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),gy(t)?py(t):t.mu.set("Unknown")):(await t.yu.stop(),dx(t))})),t.yu}function Xi(t){return t.pu||(t.pu=function(e,n,i){const s=X(e);return s.nu(),new R2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Jr:B2.bind(null,t),Zr:j2.bind(null,t),Xo:z2.bind(null,t),Zo:V2.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Jh(t)):(await t.pu.stop(),t.lu.length>0&&(U("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new my(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Sl(t))return new j(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e?(n,i)=>e(n,i)||V.comparator(n.key,i.key):(n,i)=>V.comparator(n.key,i.key),this.keyedMap=Fo(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Tr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Tr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Iu=new Ge(V.comparator)}track(e){const n=e.doc.key,i=this.Iu.get(n);i?e.type!==0&&i.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&i.type!==1?this.Iu=this.Iu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Iu=this.Iu.remove(n):e.type===1&&i.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):K():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,i)=>{e.push(i)}),e}}class jr{constructor(e,n,i,s,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jr(e,n,Tr.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Eu=void 0,this.listeners=[]}}class q2{constructor(){this.queries=new co(e=>Lk(e),Wh),this.onlineState="Unknown",this.Au=new Set}}async function K2(t,e){const n=X(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new W2),s)try{r.Eu=await n.onListen(i)}catch(o){const a=yy(o,`Initialization of query '${Yp(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Ru(n.onlineState),r.Eu&&e.vu(r.Eu)&&vy(n)}async function G2(t,e){const n=X(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function Y2(t,e){const n=X(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.vu(s)&&(i=!0);o.Eu=s}}i&&vy(n)}function X2(t,e,n){const i=X(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function vy(t){t.Au.forEach(e=>{e.next()})}class Q2{constructor(e,n,i){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new jr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.xu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.key=e}}class yx{constructor(e){this.key=e}}class J2{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Q(),this.mutatedKeys=Q(),this.Ku=Fk(e),this.Gu=new Tr(this.Ku)}get Qu(){return this.Lu}zu(e,n){const i=n?n.ju:new k_,s=n?n.Gu:this.Gu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=qh(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),v=!0):this.Wu(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.Ku(f,l)>0||c&&this.Ku(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Gu:o,ju:i,Mi:a,mutatedKeys:r}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const r=e.ju.Tu();r.sort((c,u)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(h)-f(d)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(i);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,r.length!==0||l?{snapshot:new jr(this.query,e.Gu,s,r,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new k_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Q(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const n=[];return e.forEach(i=>{this.Uu.has(i)||n.push(new yx(i))}),this.Uu.forEach(i=>{e.has(i)||n.push(new mx(i))}),n}Xu(e){this.Lu=e.Wi,this.Uu=Q();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return jr.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class Z2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class eF{constructor(e){this.key=e,this.ec=!1}}class tF{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new co(a=>Lk(a),Wh),this.ic=new Map,this.rc=new Set,this.oc=new Ge(V.comparator),this.uc=new Map,this.cc=new uy,this.ac={},this.hc=new Map,this.lc=Vr.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function nF(t,e){const n=dF(t);let i,s;const r=n.sc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.tc();else{const o=await E2(n.localStore,li(e));n.isPrimaryClient&&cx(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await iF(n,e,i,a==="current",o.resumeToken)}return s}async function iF(t,e,n,i,s){t.dc=(h,d,f)=>async function(p,g,v,y){let m=g.view.zu(v);m.Mi&&(m=await w_(p.localStore,g.query,!1).then(({documents:S})=>g.view.zu(S,m)));const _=y&&y.targetChanges.get(g.targetId),b=g.view.applyChanges(m,p.isPrimaryClient,_);return C_(p,g.targetId,b.Yu),b.snapshot}(t,h,d,f);const r=await w_(t.localStore,e,!0),o=new J2(e,r.Wi),a=o.zu(r.documents),l=kl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);C_(t,n,c.Yu);const u=new Z2(e,n,o);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function sF(t,e){const n=X(t),i=n.sc.get(e),s=n.ic.get(i.targetId);if(s.length>1)return n.ic.set(i.targetId,s.filter(r=>!Wh(r,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Zp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),ux(n.remoteStore,i.targetId),eg(n,i.targetId)}).catch(bl)):(eg(n,i.targetId),await Zp(n.localStore,i.targetId,!0))}async function rF(t,e,n){const i=fF(t);try{const s=await function(r,o){const a=X(r),l=qe.now(),c=o.reduce((d,f)=>d.add(f.key),Q());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=ci(),p=Q();return a.Ki.getEntries(d,c).next(g=>{f=g,f.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(g=>{u=g;const v=[];for(const y of o){const m=RL(y,u.get(y.key).overlayedDocument);m!=null&&v.push(new Xs(y.key,m,Dk(m.value.mapValue),Nn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:Uk(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.ac[r.currentUser.toKey()];l||(l=new Ge(oe)),l=l.insert(o,a),r.ac[r.currentUser.toKey()]=l}(i,s.batchId,n),await Cl(i,s.changes),await Jh(i.remoteStore)}catch(s){const r=yy(s,"Failed to persist write");n.reject(r)}}async function vx(t,e){const n=X(t);try{const i=await w2(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.uc.get(r);o&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ec=!0:s.modifiedDocuments.size>0?be(o.ec):s.removedDocuments.size>0&&(be(o.ec),o.ec=!1))}),await Cl(n,i,e)}catch(i){await bl(i)}}function x_(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.sc.forEach((r,o)=>{const a=o.view.Ru(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=X(r);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Ru(o)&&(l=!0)}),l&&vy(a)}(i.eventManager,e),s.length&&i.nc.zo(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oF(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.uc.get(e),r=s&&s.key;if(r){let o=new Ge(V.comparator);o=o.insert(r,pt.newNoDocument(r,G.min()));const a=Q().add(r),l=new Yh(G.min(),new Map,new Ke(oe),o,a);await vx(i,l),i.oc=i.oc.remove(r),i.uc.delete(e),_y(i)}else await Zp(i.localStore,e,!1).then(()=>eg(i,e,n)).catch(bl)}async function aF(t,e){const n=X(t),i=e.batch.batchId;try{const s=await _2(n.localStore,e);wx(n,i,null),_x(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(n,s)}catch(s){await bl(s)}}async function lF(t,e,n){const i=X(t);try{const s=await function(r,o){const a=X(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(be(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);wx(i,e,n),_x(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Cl(i,s)}catch(s){await bl(s)}}function _x(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function wx(t,e,n){const i=X(t);let s=i.ac[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.ac[i.currentUser.toKey()]=s}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ic.get(e))t.sc.delete(i),n&&t.nc.wc(i,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(i=>{t.cc.containsKey(i)||bx(t,i)})}function bx(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(ux(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),_y(t))}function C_(t,e,n){for(const i of n)i instanceof mx?(t.cc.addReference(i.key,e),cF(t,i)):i instanceof yx?(U("SyncEngine","Document no longer in limbo: "+i.key),t.cc.removeReference(i.key,e),t.cc.containsKey(i.key)||bx(t,i.key)):K()}function cF(t,e){const n=e.key,i=n.path.canonicalString();t.oc.get(n)||t.rc.has(i)||(U("SyncEngine","New document in limbo: "+n),t.rc.add(i),_y(t))}function _y(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new V(De.fromString(e)),i=t.lc.next();t.uc.set(i,new eF(n)),t.oc=t.oc.insert(n,i),cx(t.remoteStore,new Ts(li(ry(n.path)),i,2,ty.ct))}}async function Cl(t,e,n){const i=X(t),s=[],r=[],o=[];i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=dy.Di(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.nc.zo(s),await async function(a,l){const c=X(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>N.forEach(l,h=>N.forEach(h.Vi,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>N.forEach(h.Si,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Sl(u))throw u;U("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.Li.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);c.Li=c.Li.insert(h,p)}}}(i.localStore,r))}async function uF(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const i=await rx(n.localStore,e);n.currentUser=e,function(s,r){s.hc.forEach(o=>{o.forEach(a=>{a.reject(new j(A.CANCELLED,r))})}),s.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cl(n,i.Qi)}}function hF(t,e){const n=X(t),i=n.uc.get(e);if(i&&i.ec)return Q().add(i.key);{let s=Q();const r=n.ic.get(e);if(!r)return s;for(const o of r){const a=n.sc.get(o);s=s.unionWith(a.view.Qu)}return s}}function dF(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oF.bind(null,e),e.nc.zo=Y2.bind(null,e.eventManager),e.nc.wc=X2.bind(null,e.eventManager),e}function fF(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lF.bind(null,e),e}class T_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return v2(this.persistence,new m2,e.initialUser,this.serializer)}createPersistence(e){return new p2(hy.Fs,this.serializer)}createSharedClientState(e){return new x2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>x_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uF.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new q2}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new D2(s));var s;return function(r,o,a,l){return new N2(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>x_(this.syncEngine,a,0),o=S_.D()?new S_:new C2,new O2(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,c){const u=new tF(i,s,r,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=X(e);U("RemoteStore","RemoteStore shutting down."),n.du.add(5),await xl(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=dt.UNAUTHENTICATED,this.clientId=xk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{U("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(U("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=yy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function sf(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await rx(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vF(t);U("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>E_(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>E_(e.remoteStore,r)),t._onlineComponents=e}function yF(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function vF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yF(n))throw n;zu("Error using user provided cache. Falling back to memory cache: "+n),await sf(t,new T_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await sf(t,new T_);return t._offlineComponents}async function Sx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await I_(t,new pF))),t._onlineComponents}function _F(t){return Sx(t).then(e=>e.syncEngine)}async function wF(t){const e=await Sx(t),n=e.eventManager;return n.onListen=nF.bind(null,e.syncEngine),n.onUnlisten=sF.bind(null,e.syncEngine),n}function bF(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const c=new gF({next:h=>{r.enqueueAndForget(()=>G2(s,u));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new j(A.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new j(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new Q2(ry(o.path),c,{includeMetadataChanges:!0,xu:!0});return K2(s,u)}(await wF(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e,n){if(!n)throw new j(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EF(t,e,n,i){if(e===!0&&i===!0)throw new j(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P_(t){if(!V.isDocumentKey(t))throw new j(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wy(t);throw new j(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,EF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BM;switch(n.type){case"firstParty":return new HM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=D_.get(e);n&&(U("ComponentProvider","Removing Datastore"),D_.delete(e),n.terminate())}(this),Promise.resolve()}}function kF(t,e,n,i={}){var s;const r=(t=Hr(t,by))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==e&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=dt.MOCK_USER;else{o=zS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new j(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new dt(l)}t._authCredentials=new zM(new kk(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Sy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sy(this.firestore,e,this._query)}}class ja extends Sy{constructor(e,n,i){super(e,n,ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new V(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function rf(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=xk.A()),SF("doc","path",e),t instanceof by){const i=De.fromString(e,...n);return P_(i),new en(t,null,new V(i))}{if(!(t instanceof en||t instanceof ja))throw new j(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return P_(i),new en(t.firestore,t instanceof ja?t.converter:null,new V(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new ax(this,"async_queue_retry"),this.qc=()=>{const n=nf();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=nf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ji;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Sl(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{this.Mc=i,this.Fc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw ai("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Fc=!1,i))));return this.Nc=n,n}enqueueAfterDelay(e,n,i){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const s=my.createAndSchedule(this,e,n,i,r=>this.Qc(r));return this.$c.push(s),s}Uc(){this.Mc&&K()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Zh extends by{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new xF,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kx(this),this._firestoreClient.terminate()}}function CF(t,e){const n=typeof t=="object"?t:Em(),i=typeof t=="string"?t:e||"(default)",s=kh(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=US("firestore");r&&kF(s,...r)}return s}function Ex(t){return t._firestoreClient||kx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kx(t){var e,n,i;const s=t._freezeSettings(),r=function(o,a,l,c){return new iL(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new mF(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(bt.fromBase64String(e))}catch(n){throw new j(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wr(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=/^__.*__$/;class IF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}function Cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class xy{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Jc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Zc({path:i,ta:!1});return s.ea(e),s}na(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Zc({path:i,ta:!1});return s.Jc(),s}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Gu(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(Cx(this.Yc)&&TF.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class DF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Xh(e)}ua(e,n,i,s=!1){return new xy({Yc:e,methodName:n,oa:i,path:gt.emptyPath(),ta:!1,ra:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PF(t){const e=t._freezeSettings(),n=Xh(t._databaseId);return new DF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RF(t,e,n,i,s,r={}){const o=t.ua(r.merge||r.mergeFields?2:0,e,n,s);Px("Data must be an object, but it was:",o,i);const a=Ix(i,o);let l,c;if(r.merge)l=new cn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=NF(e,h,n);if(!o.contains(d))throw new j(A.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);OF(u,d)||u.push(d)}l=new cn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new IF(new Qt(a),l,c)}function Tx(t,e){if(Dx(t=Fe(t)))return Px("Unsupported field value:",e,t),Ix(t,e);if(t instanceof xx)return function(n,i){if(!Cx(i.Yc))throw i.ia(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=Tx(o,i.sa(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Fe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xL(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=qe.fromDate(n);return{timestampValue:qu(i.serializer,s)}}if(n instanceof qe){const s=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qu(i.serializer,s)}}if(n instanceof ky)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wr)return{bytesValue:Zk(i.serializer,n._byteString)};if(n instanceof en){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i.ia(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ia(`Unsupported field value: ${wy(n)}`)}(t,e)}function Ix(t,e){const n={};return Ck(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(i,s)=>{const r=Tx(s,e.Xc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Dx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof ky||t instanceof Wr||t instanceof en||t instanceof xx)}function Px(t,e,n){if(!Dx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=wy(n);throw i==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+i)}}function NF(t,e,n){if((e=Fe(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return Rx(t,e);throw Gu("Field path arguments must be of type string or ",t,!1,void 0,n)}const AF=new RegExp("[~\\*/\\[\\]]");function Rx(t,e,n){if(e.search(AF)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gu(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new j(A.INVALID_ARGUMENT,a+t+l)}function OF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ax("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MF extends Nx{data(){return super.data()}}function Ax(t,e){return typeof e=="string"?Rx(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}class LF{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const i={};return lo(e.fields,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new ky(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ik(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);be(sx(i));const s=new Ua(i.get(1),i.get(3)),r=new V(i.popFirst(5));return s.isEqual(n)||ai(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ox extends Nx{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new UF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ax("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class UF extends Ox{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){t=Hr(t,en);const e=Hr(t.firestore,Zh);return bF(Ex(e),t._key).then(n=>HF(e,t,n))}class zF extends LF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function VF(t,e,n){t=Hr(t,en);const i=Hr(t.firestore,Zh),s=FF(t.converter,e,n);return Mx(i,[RF(PF(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Nn.none())])}function jF(t){return Mx(Hr(t.firestore,Zh),[new oy(t._key,Nn.none())])}function Mx(t,e){return function(n,i){const s=new ji;return n.asyncQueue.enqueueAndForget(async()=>rF(await _F(n),i,s)),s.promise}(Ex(t),e)}function HF(t,e,n){const i=n.docs.get(e._key),s=new zF(t);return new Ox(t,s,e._key,i,new $F(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ao=n})(no),Fs(new Ki("firestore",(n,{instanceIdentifier:i,options:s})=>{const r=n.getProvider("app").getImmediate(),o=new Zh(new VM(n.getProvider("auth-internal")),new qM(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new j(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(a.options.projectId,l)}(r,i),r);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Dn(t_,"3.10.0",t),Dn(t_,"3.10.0","esm2017")})();var WF="firebase",qF="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(WF,qF,"app");const KF={apiKey:"AIzaSyBVemW4ae1rlgLLmzRWk3TkCxNaYizq4b8",authDomain:"cryptocurrency-tracker-a320a.firebaseapp.com",projectId:"cryptocurrency-tracker-a320a",storageBucket:"cryptocurrency-tracker-a320a.appspot.com",messagingSenderId:"468026540673",appId:"1:468026540673:web:026b3187f524608ae28380"},Lx=HS(KF),_n=FO(Lx),of=CF(Lx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebasestorage.googleapis.com",$x="storageBucket",GF=2*60*1e3,YF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends Fn{constructor(e,n,i=0){super(af(e),`Firebase Storage: ${n} (${af(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ae;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ae||(Ae={}));function af(t){return"storage/"+t}function Cy(){const t="An unknown error occurred, please check the error payload for server response.";return new Oe(Ae.UNKNOWN,t)}function XF(t){return new Oe(Ae.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QF(t){return new Oe(Ae.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(Ae.UNAUTHENTICATED,t)}function ZF(){return new Oe(Ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e$(t){return new Oe(Ae.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t$(){return new Oe(Ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n$(){return new Oe(Ae.CANCELED,"User canceled the upload/download.")}function i$(t){return new Oe(Ae.INVALID_URL,"Invalid URL '"+t+"'.")}function s$(t){return new Oe(Ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function r$(){return new Oe(Ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$x+"' property when initializing the app?")}function o$(){return new Oe(Ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a$(){return new Oe(Ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l$(t){return new Oe(Ae.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tg(t){return new Oe(Ae.INVALID_ARGUMENT,t)}function Ux(){return new Oe(Ae.APP_DELETED,"The Firebase app was deleted.")}function c$(t){return new Oe(Ae.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sa(t,e){return new Oe(Ae.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function So(t){throw new Oe(Ae.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Vt.makeFromUrl(e,n)}catch{return new Vt(e,"")}if(i.path==="")return i;throw s$(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${s}/o${d}`,"i"),p={bucket:1,path:3},g=n===Fx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${g}/${s}/${v}`,"i"),_=[{regex:a,indices:l,postModify:r},{regex:f,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<_.length;b++){const S=_[b],x=S.regex.exec(e);if(x){const E=x[S.indices.bucket];let k=x[S.indices.path];k||(k=""),i=new Vt(E,k),S.postModify(i);break}}if(i==null)throw i$(e);return i}}class u${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e,n){let i=1,s=null,r=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){s=setTimeout(()=>{s=null,t(f,l())},v)}function d(){r&&clearTimeout(r)}function f(v,...y){if(c){d();return}if(v){d(),u.call(null,v,...y);return}if(l()||o){d(),u.call(null,v,...y);return}i<64&&(i*=2);let _;a===1?(a=2,_=0):_=(i+Math.random())*1e3,h(_)}let p=!1;function g(v){p||(p=!0,d(),!c&&(s!==null?(v||(a=2),clearTimeout(s),h(0)):v||(a=1)))}return h(0),r=setTimeout(()=>{o=!0,g(!0)},n),g}function d$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){return t!==void 0}function p$(t){return typeof t=="object"&&!Array.isArray(t)}function Ty(t){return typeof t=="string"||t instanceof String}function N_(t){return Iy()&&t instanceof Blob}function Iy(){return typeof Blob<"u"&&!cR()}function A_(t,e,n,i){if(i<e)throw tg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw tg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Bx(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Is||(Is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,i,s,r,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new oc(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===Is.NO_ERROR,l=r.getStatus();if(!a||g$(l,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===Is.ABORT;i(!1,new oc(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new oc(c,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());f$(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=Cy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Ux():n$();o(l)}else{const l=t$();o(l)}};this.canceled_?n(!1,new oc(!1,null,!0)):this.backoffId_=h$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function y$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b$(t,e,n,i,s,r,o=!0){const a=Bx(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return _$(c,e),y$(c,n),v$(c,r),w$(c,i),new m$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E$(...t){const e=S$();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Iy())return new Blob(t);throw new Oe(Ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){if(typeof atob>"u")throw l$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lf{constructor(e,n){this.data=e,this.contentType=n||null}}function C$(t,e){switch(t){case xn.RAW:return new lf(zx(e));case xn.BASE64:case xn.BASE64URL:return new lf(Vx(t,e));case xn.DATA_URL:return new lf(I$(e),D$(e))}throw Cy()}function zx(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,o=t.charCodeAt(++n);i=65536|(r&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function T$(t){let e;try{e=decodeURIComponent(t)}catch{throw sa(xn.DATA_URL,"Malformed data URL.")}return zx(e)}function Vx(t,e){switch(t){case xn.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw sa(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case xn.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw sa(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x$(e)}catch(s){throw s.message.includes("polyfill")?s:sa(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class jx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sa(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=P$(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function I$(t){const e=new jx(t);return e.base64?Vx(xn.BASE64,e.rest):T$(e.rest)}function D$(t){return new jx(t).contentType}function P$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){let i=0,s="";N_(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(N_(this.data_)){const i=this.data_,s=k$(i,e,n);return s===null?null:new ki(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ki(i,!0)}}static getBlob(...e){if(Iy()){const n=e.map(i=>i instanceof ki?i.data_:i);return new ki(E$.apply(null,n))}else{const n=e.map(o=>Ty(o)?C$(xn.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[r++]=o[a]}),new ki(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){let e;try{e=JSON.parse(t)}catch{return null}return p$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function N$(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Wx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t,e){return e}class Et{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||A$}}let ac=null;function O$(t){return!Ty(t)||t.length<2?t:Wx(t)}function qx(){if(ac)return ac;const t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));function e(r,o){return O$(o)}const n=new Et("name");n.xform=e,t.push(n);function i(r,o){return o!==void 0?Number(o):o}const s=new Et("size");return s.xform=i,t.push(s),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),ac=t,ac}function M$(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new Vt(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function L$(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const o=n[r];i[o.local]=o.xform(i,e[o.server])}return M$(i,t),i}function Kx(t,e,n){const i=Hx(e);return i===null?null:L$(t,i,n)}function F$(t,e,n,i){const s=Hx(e);if(s===null||!Ty(s.downloadTokens))return null;const r=s.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),f=ed(d,n,i),p=Bx({alt:"media",token:c});return f+p})[0]}function $$(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class Dy{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){if(!t)throw Cy()}function U$(t,e){function n(i,s){const r=Kx(t,s,e);return Gx(r!==null),r}return n}function B$(t,e){function n(i,s){const r=Kx(t,s,e);return Gx(r!==null),F$(r,s,t.host,t._protocol)}return n}function Yx(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ZF():s=JF():n.getStatus()===402?s=QF(t.bucket):n.getStatus()===403?s=e$(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Xx(t){const e=Yx(t);function n(i,s){let r=e(i,s);return i.getStatus()===404&&(r=XF(t.path)),r.serverResponse=s.serverResponse,r}return n}function z$(t,e,n){const i=e.fullServerUrl(),s=ed(i,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,a=new Dy(s,r,B$(t,n),o);return a.errorHandler=Xx(e),a}function V$(t,e){const n=e.fullServerUrl(),i=ed(n,t.host,t._protocol),s="DELETE",r=t.maxOperationRetryTime;function o(l,c){}const a=new Dy(i,s,o,r);return a.successCodes=[200,204],a.errorHandler=Xx(e),a}function j$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H$(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=j$(null,e)),i}function W$(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=H$(e,i,s),u=$$(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=ki.getBlob(h,i,d);if(f===null)throw o$();const p={name:c.fullPath},g=ed(r,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,m=new Dy(g,v,U$(t,n),y);return m.urlParams=p,m.headers=o,m.body=f.uploadData(),m.errorHandler=Yx(e),m}class q${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw So("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw So("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw So("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw So("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw So("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K$ extends q${initXhr(){this.xhr_.responseType="text"}}function Py(){return new K$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this._service=e,n instanceof Vt?this._location=n:this._location=Vt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vs(e,n)}get root(){const e=new Vt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wx(this._location.path)}get storage(){return this._service}get parent(){const e=R$(this._location.path);if(e===null)return null;const n=new Vt(this._location.bucket,e);return new Vs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c$(e)}}function G$(t,e,n){t._throwIfRoot("uploadBytes");const i=W$(t.storage,t._location,qx(),new ki(e,!0),n);return t.storage.makeRequestWithTokens(i,Py).then(s=>({metadata:s,ref:t}))}function Y$(t){t._throwIfRoot("getDownloadURL");const e=z$(t.storage,t._location,qx());return t.storage.makeRequestWithTokens(e,Py).then(n=>{if(n===null)throw a$();return n})}function X$(t){t._throwIfRoot("deleteObject");const e=V$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Py)}function Q$(t,e){const n=N$(t._location.path,e),i=new Vt(t._location.bucket,n);return new Vs(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){return/^[A-Za-z]+:\/\//.test(t)}function Z$(t,e){return new Vs(t,e)}function Qx(t,e){if(t instanceof Ry){const n=t;if(n._bucket==null)throw r$();const i=new Vs(n,n._bucket);return e!=null?Qx(i,e):i}else return e!==void 0?Q$(t,e):t}function eU(t,e){if(e&&J$(e)){if(t instanceof Ry)return Z$(t,e);throw tg("To use ref(service, url), the first argument must be a Storage instance.")}else return Qx(t,e)}function O_(t,e){const n=e==null?void 0:e[$x];return n==null?null:Vt.makeFromBucketSpec(n,t)}function tU(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:zS(s,t.app.options.projectId))}class Ry{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=Fx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GF,this._maxUploadRetryTime=YF,this._requests=new Set,s!=null?this._bucket=Vt.makeFromBucketSpec(s,this._host):this._bucket=O_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vt.makeFromBucketSpec(this._url,e):this._bucket=O_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vs(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new u$(Ux());{const o=b$(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const M_="@firebase/storage",L_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="storage";function nU(t,e,n){return t=Fe(t),G$(t,e,n)}function iU(t){return t=Fe(t),Y$(t)}function sU(t){return t=Fe(t),X$(t)}function F_(t,e){return t=Fe(t),eU(t,e)}function $_(t=Em(),e){t=Fe(t);const i=kh(t,Jx).getImmediate({identifier:e}),s=US("storage");return s&&rU(i,...s),i}function rU(t,e,n,i={}){tU(t,e,n,i)}function oU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ry(n,i,s,e,no)}function aU(){Fs(new Ki(Jx,oU,"PUBLIC").setMultipleInstances(!0)),Dn(M_,L_,""),Dn(M_,L_,"esm2017")}aU();const Zx=T.createContext(),lU=t=>{const[e,n]=T.useState({}),[i,s]=T.useState(!1),[r,o]=T.useState(!1),[a,l]=T.useState(""),[c,u]=T.useState(!0),[h,d]=T.useReducer(D=>D+1,0),f=to();T.useEffect(()=>{const D=bA(_n,M=>{n(M)});return()=>{D()}},[]),T.useEffect(()=>{e&&e.email&&(e.displayName||Ql(_n.currentUser,{displayName:e.email.split("@")[0]}).then(()=>{d()}).catch(D=>{console.log(D.message)}))},[e]);const p=async D=>{await VF(rf(of,"users",e.email),{watchlist:D})},g=async()=>{const D=rf(of,"users",e.email),M=await BF(D);if(M.exists())return console.log("Document data:",M.data().watchlist),M.data().watchlist;console.log("No such document!")},v=D=>{document.getElementById(D).classList.add("wrongData")},y=D=>{document.getElementById(D).classList.remove("wrongData")},m=async()=>{if(e.photoURL){s(!0);const D=$_(),M=F_(D,e.photoURL);await sU(M).then(()=>{Ql(_n.currentUser,{photoURL:""}).then(()=>{console.log("Picture deleted"),d(),s(!1)}).catch(H=>{console.log(H.message),l("Couldn't delete the profile picture."),setTimeout(()=>l(""),5e3)})}).catch(H=>{console.log(H.message),l("Couldn't delete the profile picture."),setTimeout(()=>l(""),5e3)}),s(!1)}},_=async()=>{const D=_n.currentUser;EA(D).then(()=>{jF(rf(of,"users",D.email)),console.log("User Deleted!"),d()}).catch(M=>{M.message=="Firebase: Error (auth/requires-recent-login)."?(console.log(M.message),u(!1)):(l("Couldn't delete the account Please, try again later"),setTimeout(()=>l(""),5e3))})},b=D=>{if(D.target.files[0].size>2097152)console.log("File too big"),l("File too big! (max. 2MB)"),setTimeout(()=>l(""),5e3);else{s(!0);const M=$_(),H=F_(M,"e.target.files[0]");nU(H,D.target.files[0]).then(()=>{iU(H).then(pe=>{Ql(_n.currentUser,{photoURL:pe,providerData:"url"}).then(()=>{console.log("Profile picture updated"),d(),s(!1)}).catch(Xe=>{console.log(Xe.message),s(!1),l("Couldn't change the profile picture."),setTimeout(()=>l(""),5e3)})})})}},S=async D=>{D.preventDefault(),o(!0);const M=D.target.username.value;await Ql(_n.currentUser,{displayName:M}).then(()=>{console.log("Username updated"),d()}).catch(H=>{console.log(H.message),l("Couldn't change the username."),setTimeout(()=>l(""),5e3)}),o(!1),D.target.username.value=""},x=async()=>{try{await SA(_n),f("/login"),console.log("You are logged out!")}catch(D){console.log(D.message)}},E=(D,M)=>mA(_n,D,M),k=(D,M)=>yA(_n,D,M),P=D=>gA(_n,D);return w(Zx.Provider,{value:{user:e,createUser:E,login:k,resetPassword:P,setWrongInput:v,resetWrong:y,handleLogout:x,handleChangeImage:b,handleChangeUsername:S,deleteProfilePicture:m,loadingImage:i,deleteAccount:_,setResentLogin:u,resentLogin:c,loadingUsername:r,accountError:a,handleUsersWatchlist:p,getUserWatchlist:g},children:t.children})},rs=()=>T.useContext(Zx);function cU(t){const[e,n]=T.useState(!1);T.useState(!1);const[i,s]=T.useState(!1),{user:r,handleLogout:o}=rs(),a=c=>{n(u=>!u),t.setCurrency(c),localStorage.setItem("currency",JSON.stringify(c))},l=()=>{i?(document.getElementById("menuSettings").classList.add("animate__fadeOutRight"),document.getElementById("menuSettings").classList.remove("animate__fadeInRight"),setTimeout(()=>s(c=>!c),150)):s(c=>!c)};return C("section",{className:"navbar animate__animated animate__fadeInDown",children:[C("div",{className:"navLeftSide",children:[w("div",{className:"logoDiv",children:w("h1",{className:"logo animate__animated animate__fadeIn",style:{animationDelay:".4s"},children:w(de,{onClick:()=>{t.setActiveWatchlist(!1),i&&l()},to:"/",children:"Logo"})})}),w("ul",{className:"mainMenu hideMobile",children:w("li",{children:w(de,{to:"/",onClick:()=>{t.setActiveWatchlist(!1),i&&l()},className:"navCryptocurrencies animate__animated animate__fadeIn",style:{animationDelay:".5s"},children:"Cryptocurrencies"})})})]}),C("div",{className:"navRightSide ",children:[C("div",{className:"currenciesDiv hideMobile",children:[w("div",{className:"selectedCurrency animate__animated animate__fadeIn",style:{animationDelay:".9s"},children:C("div",{className:"currencyDiv currencyDivActive",onClick:()=>{n(c=>!c),i&&l()},children:[w("i",{className:`i${t.currency.name}`}),w("p",{children:t.currency.name})]})}),e&&!t.activeWatchlist&&C("div",{className:"animate__animated animate__fadeIn animate__faster currencyOptions",children:[C("div",{className:"currencyDiv",onClick:()=>a({name:"USD",symbol:"$",format:"en-US"}),children:[w("i",{className:"iUSD"}),w("p",{children:"USD"})]}),C("div",{className:"currencyDiv",onClick:()=>a({name:"EUR",symbol:"€",format:"en-DE"}),children:[w("i",{className:"iEUR"}),w("p",{children:"EUR"})]}),C("div",{className:"currencyDiv",onClick:()=>a({name:"CAD",symbol:"$",format:"en-US"}),children:[w("i",{className:"iCAD"}),w("p",{children:"CAD"})]}),C("div",{className:"currencyDiv",onClick:()=>a({name:"GBP",symbol:"£",format:"en-GB"}),children:[w("i",{className:"iGBP"}),w("p",{children:"GBP"})]})]})]}),w("div",{className:"divition animate__animated animate__fadeIn hideMobile",style:{animationDelay:"1.1s"}}),!r&&C("div",{className:"loginButtons hideMobile",children:[w(de,{onClick:()=>{i&&l()},to:"/login",className:"loginButton animate__animated animate__fadeIn",style:{animationDelay:"1.2s"},children:"Login"}),w(de,{onClick:()=>{i&&l()},to:"/signup",className:"signupButton animate__animated animate__fadeIn",style:{animationDelay:"1.4s"},children:"Sign Up"})]}),r&&w("div",{className:"loginButtons",children:C(de,{onClick:()=>{i&&l()},to:"/profile/user-info",className:"imgProfileLink animate__animated animate__fadeIn",style:{animationDelay:"1.2s"},children:[!r.photoURL&&w("i",{className:"fa-solid fa-user"}),r.photoURL&&w("img",{src:r.photoURL,alt:""})]})}),C("div",{className:"settings",children:[w("p",{className:"settingsButton animate__animated animate__fadeIn",style:{animationDelay:"1.6s"},onClick:l}),i&&w("div",{className:"backgroundMenuSettings",onClick:l}),i&&C("aside",{id:"menuSettings",className:"menuSettings animate__animated animate__fadeInRight animate__faster",children:[w("div",{className:"settingsTitleDiv",children:w("p",{children:w("strong",{children:"Settigns"})})}),w("hr",{}),w("div",{className:"profileDiv",children:C(de,{to:"/profile/user-info",onClick:l,className:"profile",children:["Profile",w("i",{className:"arrow right"})]})}),w("hr",{}),C("div",{className:"themeDiv",children:[w("p",{children:"Theme"}),C("div",{children:[w("input",{onChange:()=>{t.toggleTheme()},checked:t.theme=="dark"?"":"checked",type:"checkbox",className:"checkboxTheme",id:"checkboxTheme"}),w("label",{htmlFor:"checkboxTheme",className:"labelTheme",children:w("div",{className:"ballTheme"})})]})]}),C("div",{className:"currenciesDiv hideDesktop ",children:[w("p",{children:"Currency"}),w("div",{className:"selectedCurrency",children:C("div",{className:e?"currencyDiv currencyDivActive currenciesOpen":"currencyDiv currencyDivActive",onClick:()=>n(c=>!c),children:[w("i",{className:`i${t.currency.name}`}),w("p",{children:t.currency.name})]})}),e&&!t.activeWatchlist&&C("div",{className:"animate__animated animate__fadeIn animate__faster currencyOptions",children:[C("div",{className:"currencyDiv",onClick:()=>{l(),a({name:"USD",symbol:"$",format:"en-US"})},children:[w("i",{className:"iUSD"}),w("p",{children:"USD"})]}),C("div",{className:"currencyDiv",onClick:()=>{l(),a({name:"EUR",symbol:"€",format:"en-DE"})},children:[w("i",{className:"iEUR"}),w("p",{children:"EUR"})]}),C("div",{className:"currencyDiv",onClick:()=>{l(),a({name:"CAD",symbol:"$",format:"en-US"})},children:[w("i",{className:"iCAD"}),w("p",{children:"CAD"})]}),C("div",{className:"currencyDiv",onClick:()=>{l(),a({name:"GBP",symbol:"£",format:"en-GB"})},children:[w("i",{className:"iGBP"}),w("p",{children:"GBP"})]})]})]}),C(de,{to:"/",onClick:()=>{t.setActiveWatchlist(!0),l()},className:"whatchlistDiv",children:[C("div",{children:[w("i",{className:"fa-regular fa-star"}),w("p",{children:"Whatchlist"})]}),w("i",{className:"arrow right"})]}),w("hr",{}),r&&C("div",{onClick:()=>{o(),l()},className:"signoutDiv",children:[w("i",{className:"fa-solid fa-arrow-right-from-bracket"}),w("p",{children:"Log Out"})]}),!r&&C(de,{to:"/login",onClick:l,className:"loginDiv",children:[w("i",{className:"fa-solid fa-arrow-right-to-bracket"}),w("p",{children:"Login"})]})]})]})]})]})}function uU(t){function e(i){if(i<1e3)return i;if(i>=1e3&&i<1e6)return(i/1e3).toFixed(1)+"K";if(i>=1e6&&i<1e9)return(i/1e6).toFixed(1)+"M";if(i>=1e9&&i<1e12)return(i/1e9).toFixed(1)+"B";if(i>=1e12&&i<1e15)return(i/1e12).toFixed(1)+"T"}new Intl.NumberFormat(t.currency.format,{style:"currency",currency:t.currency.name=="CAD"?"USD":t.currency.name});const n=to();return C("tr",{onClick:()=>{t.coinsObjects.filter(i=>i.id==t.coin.id).length||t.setCoinsObjects(i=>[...i,t.coin]),n(`/coin/${t.coin.id}`)},className:"coinRow animate__animated animate__fadeIn",children:[w("td",{className:"coinNumberDiv",children:w("p",{children:t.coin.market_cap_rank})}),C("td",{className:"coinsNameDiv",children:[w("img",{src:t.coin.image,alt:"Coin Image"}),C("p",{children:[t.coin.id.charAt(0).toUpperCase()+t.coin.id.slice(1)," ",C("span",{className:"symbolCoin hideMobile",children:[" ",w("i",{className:"dot"})," ",t.coin.symbol.toUpperCase()]})]})]}),w("td",{className:"change1Div hideMobile",children:C("p",{className:t.coin.price_change_percentage_1h_in_currency>=0?"green":"red",children:[t.coin.price_change_percentage_1h_in_currency!=null?t.coin.price_change_percentage_1h_in_currency.toFixed(2):"0","%"]})}),w("td",{className:"change24Div",children:C("p",{className:t.coin.price_change_percentage_24h>=0?"green":"red",children:[t.coin.price_change_percentage_24h!=null?t.coin.price_change_percentage_24h.toFixed(2):"0","%"]})}),w("td",{className:"priceDiv",children:w("p",{children:t.currencyFormatter.format(t.coin.current_price)})}),w("td",{className:"marketCapDiv hideMobile",children:C("p",{children:[t.currency.symbol,e(t.coin.market_cap)]})}),w("td",{className:"volume24Div hideMobile",children:C("p",{children:[t.currency.symbol,e(t.coin.total_volume)]})})]})}function eC(t,e){return function(){return t.apply(e,arguments)}}const{toString:tC}=Object.prototype,{getPrototypeOf:Ny}=Object,Ay=(t=>e=>{const n=tC.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hi=t=>(t=t.toLowerCase(),e=>Ay(e)===t),td=t=>e=>typeof e===t,{isArray:ho}=Array,Ha=td("undefined");function hU(t){return t!==null&&!Ha(t)&&t.constructor!==null&&!Ha(t.constructor)&&Qi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nC=hi("ArrayBuffer");function dU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nC(t.buffer),e}const fU=td("string"),Qi=td("function"),iC=td("number"),Oy=t=>t!==null&&typeof t=="object",pU=t=>t===!0||t===!1,Bc=t=>{if(Ay(t)!=="object")return!1;const e=Ny(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gU=hi("Date"),mU=hi("File"),yU=hi("Blob"),vU=hi("FileList"),_U=t=>Oy(t)&&Qi(t.pipe),wU=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||tC.call(t)===e||Qi(t.toString)&&t.toString()===e)},bU=hi("URLSearchParams"),SU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),ho(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function sC(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const rC=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),oC=t=>!Ha(t)&&t!==rC;function ng(){const{caseless:t}=oC(this)&&this||{},e={},n=(i,s)=>{const r=t&&sC(e,s)||s;Bc(e[r])&&Bc(i)?e[r]=ng(e[r],i):Bc(i)?e[r]=ng({},i):ho(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Tl(arguments[i],n);return e}const EU=(t,e,n,{allOwnKeys:i}={})=>(Tl(e,(s,r)=>{n&&Qi(s)?t[r]=eC(s,n):t[r]=s},{allOwnKeys:i}),t),kU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xU=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},CU=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Ny(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},TU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},IU=t=>{if(!t)return null;if(ho(t))return t;let e=t.length;if(!iC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},DU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ny(Uint8Array)),PU=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},RU=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},NU=hi("HTMLFormElement"),AU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),U_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OU=hi("RegExp"),aC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Tl(n,(s,r)=>{e(s,r,t)!==!1&&(i[r]=s)}),Object.defineProperties(t,i)},MU=t=>{aC(t,(e,n)=>{if(Qi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Qi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LU=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return ho(t)?i(t):i(String(t).split(e)),n},FU=()=>{},$U=(t,e)=>(t=+t,Number.isFinite(t)?t:e),cf="abcdefghijklmnopqrstuvwxyz",B_="0123456789",lC={DIGIT:B_,ALPHA:cf,ALPHA_DIGIT:cf+cf.toUpperCase()+B_},UU=(t=16,e=lC.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function BU(t){return!!(t&&Qi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const zU=t=>{const e=new Array(10),n=(i,s)=>{if(Oy(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=ho(i)?[]:{};return Tl(i,(o,a)=>{const l=n(o,s+1);!Ha(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},I={isArray:ho,isArrayBuffer:nC,isBuffer:hU,isFormData:wU,isArrayBufferView:dU,isString:fU,isNumber:iC,isBoolean:pU,isObject:Oy,isPlainObject:Bc,isUndefined:Ha,isDate:gU,isFile:mU,isBlob:yU,isRegExp:OU,isFunction:Qi,isStream:_U,isURLSearchParams:bU,isTypedArray:DU,isFileList:vU,forEach:Tl,merge:ng,extend:EU,trim:SU,stripBOM:kU,inherits:xU,toFlatObject:CU,kindOf:Ay,kindOfTest:hi,endsWith:TU,toArray:IU,forEachEntry:PU,matchAll:RU,isHTMLForm:NU,hasOwnProperty:U_,hasOwnProp:U_,reduceDescriptors:aC,freezeMethods:MU,toObjectSet:LU,toCamelCase:AU,noop:FU,toFiniteNumber:$U,findKey:sC,global:rC,isContextDefined:oC,ALPHABET:lC,generateString:UU,isSpecCompliantForm:BU,toJSONObject:zU};function te(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}I.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cC=te.prototype,uC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uC[t]={value:t}});Object.defineProperties(te,uC);Object.defineProperty(cC,"isAxiosError",{value:!0});te.from=(t,e,n,i,s,r)=>{const o=Object.create(cC);return I.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),te.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const VU=null;function ig(t){return I.isPlainObject(t)||I.isArray(t)}function hC(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function z_(t,e,n){return t?t.concat(e).map(function(s,r){return s=hC(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function jU(t){return I.isArray(t)&&!t.some(ig)}const HU=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function nd(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!I.isUndefined(v[g])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(I.isDate(p))return p.toISOString();if(!l&&I.isBlob(p))throw new te("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(p)||I.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(I.endsWith(g,"{}"))g=i?g:g.slice(0,-2),p=JSON.stringify(p);else if(I.isArray(p)&&jU(p)||(I.isFileList(p)||I.endsWith(g,"[]"))&&(y=I.toArray(p)))return g=hC(g),y.forEach(function(_,b){!(I.isUndefined(_)||_===null)&&e.append(o===!0?z_([g],b,r):o===null?g:g+"[]",c(_))}),!1}return ig(p)?!0:(e.append(z_(v,g,r),c(p)),!1)}const h=[],d=Object.assign(HU,{defaultVisitor:u,convertValue:c,isVisitable:ig});function f(p,g){if(!I.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),I.forEach(p,function(y,m){(!(I.isUndefined(y)||y===null)&&s.call(e,y,I.isString(m)?m.trim():m,g,d))===!0&&f(y,g?g.concat(m):[m])}),h.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return f(t),e}function V_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function My(t,e){this._pairs=[],t&&nd(t,this,e)}const dC=My.prototype;dC.append=function(e,n){this._pairs.push([e,n])};dC.toString=function(e){const n=e?function(i){return e.call(this,i,V_)}:V_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function WU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fC(t,e,n){if(!e)return t;const i=n&&n.encode||WU,s=n&&n.serialize;let r;if(s?r=s(e,n):r=I.isURLSearchParams(e)?e.toString():new My(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class qU{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const j_=qU,pC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KU=typeof URLSearchParams<"u"?URLSearchParams:My,GU=typeof FormData<"u"?FormData:null,YU=typeof Blob<"u"?Blob:null,XU=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),QU=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Cn={isBrowser:!0,classes:{URLSearchParams:KU,FormData:GU,Blob:YU},isStandardBrowserEnv:XU,isStandardBrowserWebWorkerEnv:QU,protocols:["http","https","file","blob","url","data"]};function JU(t,e){return nd(t,new Cn.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return Cn.isNode&&I.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function ZU(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eB(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function gC(t){function e(n,i,s,r){let o=n[r++];const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&I.isArray(s)?s.length:o,l?(I.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!I.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&I.isArray(s[o])&&(s[o]=eB(s[o])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(i,s)=>{e(ZU(i),s,n,0)}),n}return null}const tB={"Content-Type":void 0};function nB(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const id={transitional:pC,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=I.isObject(e);if(r&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s&&s?JSON.stringify(gC(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return JU(e,this.formSerializer).toString();if((a=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),nB(e)):e}],transformResponse:[function(e){const n=this.transitional||id.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&I.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};I.forEach(["delete","get","head"],function(e){id.headers[e]={}});I.forEach(["post","put","patch"],function(e){id.headers[e]=I.merge(tB)});const Ly=id,iB=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sB=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&iB[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},H_=Symbol("internals");function Eo(t){return t&&String(t).trim().toLowerCase()}function zc(t){return t===!1||t==null?t:I.isArray(t)?t.map(zc):String(t)}function rB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const oB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uf(t,e,n,i,s){if(I.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function aB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function lB(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class sd{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,c){const u=Eo(l);if(!u)throw new Error("header name must be a non-empty string");const h=I.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=zc(a))}const o=(a,l)=>I.forEach(a,(c,u)=>r(c,u,l));return I.isPlainObject(e)||e instanceof this.constructor?o(e,n):I.isString(e)&&(e=e.trim())&&!oB(e)?o(sB(e),n):e!=null&&r(n,e,i),this}get(e,n){if(e=Eo(e),e){const i=I.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return rB(s);if(I.isFunction(n))return n.call(this,s,i);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Eo(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||uf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=Eo(o),o){const a=I.findKey(i,o);a&&(!n||uf(i,i[a],a,n))&&(delete i[a],s=!0)}}return I.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||uf(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return I.forEach(this,(s,r)=>{const o=I.findKey(i,r);if(o){n[o]=zc(s),delete n[r];return}const a=e?aB(r):String(r).trim();a!==r&&delete n[r],n[a]=zc(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&I.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[H_]=this[H_]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Eo(o);i[a]||(lB(s,o),i[a]=!0)}return I.isArray(e)?e.forEach(r):r(e),this}}sd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.freezeMethods(sd.prototype);I.freezeMethods(sd);const ei=sd;function hf(t,e){const n=this||Ly,i=e||n,s=ei.from(i.headers);let r=i.data;return I.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function mC(t){return!!(t&&t.__CANCEL__)}function Il(t,e,n){te.call(this,t??"canceled",te.ERR_CANCELED,e,n),this.name="CanceledError"}I.inherits(Il,te,{__CANCEL__:!0});function cB(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const uB=Cn.isStandardBrowserEnv?function(){return{write:function(n,i,s,r,o,a){const l=[];l.push(n+"="+encodeURIComponent(i)),I.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),I.isString(r)&&l.push("path="+r),I.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dB(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function yC(t,e){return t&&!hB(e)?dB(t,e):e}const fB=Cn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let o=r;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){const a=I.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function pB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gB(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),n[s]=l,i[s]=c;let h=r,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function W_(t,e){let n=0;const i=gB(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-n,l=i(a),c=r<=o;n=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const mB=typeof XMLHttpRequest<"u",yB=mB&&function(t){return new Promise(function(n,i){let s=t.data;const r=ei.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}I.isFormData(s)&&(Cn.isStandardBrowserEnv||Cn.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(f+":"+p))}const u=yC(t.baseURL,t.url);c.open(t.method.toUpperCase(),fC(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const f=ei.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};cB(function(y){n(y),l()},function(y){i(y),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(i(new te("Request aborted",te.ECONNABORTED,t,c)),c=null)},c.onerror=function(){i(new te("Network Error",te.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||pC;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),i(new te(p,g.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,t,c)),c=null},Cn.isStandardBrowserEnv){const f=(t.withCredentials||fB(u))&&t.xsrfCookieName&&uB.read(t.xsrfCookieName);f&&r.set(t.xsrfHeaderName,f)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&I.forEach(r.toJSON(),function(p,g){c.setRequestHeader(g,p)}),I.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",W_(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",W_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{c&&(i(!f||f.type?new Il(null,t,c):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=pB(u);if(d&&Cn.protocols.indexOf(d)===-1){i(new te("Unsupported protocol "+d+":",te.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Vc={http:VU,xhr:yB};I.forEach(Vc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vB={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let n,i;for(let s=0;s<e&&(n=t[s],!(i=I.isString(n)?Vc[n.toLowerCase()]:n));s++);if(!i)throw i===!1?new te(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(I.hasOwnProp(Vc,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!I.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Vc};function df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Il(null,t)}function q_(t){return df(t),t.headers=ei.from(t.headers),t.data=hf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vB.getAdapter(t.adapter||Ly.adapter)(t).then(function(i){return df(t),i.data=hf.call(t,t.transformResponse,i),i.headers=ei.from(i.headers),i},function(i){return mC(i)||(df(t),i&&i.response&&(i.response.data=hf.call(t,t.transformResponse,i.response),i.response.headers=ei.from(i.response.headers))),Promise.reject(i)})}const K_=t=>t instanceof ei?t.toJSON():t;function qr(t,e){e=e||{};const n={};function i(c,u,h){return I.isPlainObject(c)&&I.isPlainObject(u)?I.merge.call({caseless:h},c,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function s(c,u,h){if(I.isUndefined(u)){if(!I.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function r(c,u){if(!I.isUndefined(u))return i(void 0,u)}function o(c,u){if(I.isUndefined(u)){if(!I.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in e)return i(c,u);if(h in t)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(K_(c),K_(u),!0)};return I.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const h=l[u]||s,d=h(t[u],e[u],u);I.isUndefined(d)&&h!==a||(n[u]=d)}),n}const vC="1.3.5",Fy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fy[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const G_={};Fy.transitional=function(e,n,i){function s(r,o){return"[Axios v"+vC+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new te(s(o," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!G_[o]&&(G_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};function _B(t,e,n){if(typeof t!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new te("option "+r+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+r,te.ERR_BAD_OPTION)}}const sg={assertOptions:_B,validators:Fy},pi=sg.validators;class Yu{constructor(e){this.defaults=e,this.interceptors={request:new j_,response:new j_}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&sg.assertOptions(i,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:sg.assertOptions(s,{encode:pi.function,serialize:pi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=r&&I.merge(r.common,r[n.method]),o&&I.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=ei.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,d;if(!l){const p=[q_.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),d=p.length,u=Promise.resolve(n);h<d;)u=u.then(p[h++],p[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const p=a[h++],g=a[h++];try{f=p(f)}catch(v){g.call(this,v);break}}try{u=q_.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=qr(this.defaults,e);const n=yC(e.baseURL,e.url);return fC(n,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){Yu.prototype[e]=function(n,i){return this.request(qr(i||{},{method:e,url:n,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(qr(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Yu.prototype[e]=n(),Yu.prototype[e+"Form"]=n(!0)});const jc=Yu;class $y{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Il(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new $y(function(s){e=s}),cancel:e}}}const wB=$y;function bB(t){return function(n){return t.apply(null,n)}}function SB(t){return I.isObject(t)&&t.isAxiosError===!0}const rg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rg).forEach(([t,e])=>{rg[e]=t});const EB=rg;function _C(t){const e=new jc(t),n=eC(jc.prototype.request,e);return I.extend(n,jc.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return _C(qr(t,s))},n}const Ye=_C(Ly);Ye.Axios=jc;Ye.CanceledError=Il;Ye.CancelToken=wB;Ye.isCancel=mC;Ye.VERSION=vC;Ye.toFormData=nd;Ye.AxiosError=te;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=bB;Ye.isAxiosError=SB;Ye.mergeConfig=qr;Ye.AxiosHeaders=ei;Ye.formToJSON=t=>gC(I.isHTMLForm(t)?new FormData(t):t);Ye.HttpStatusCode=EB;Ye.default=Ye;const og=Ye;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Dl(t){return t+.5|0}const Ii=(t,e,n)=>Math.max(Math.min(t,n),e);function $o(t){return Ii(Dl(t*2.55),0,255)}function Hi(t){return Ii(Dl(t*255),0,255)}function Wn(t){return Ii(Dl(t/2.55)/100,0,1)}function Y_(t){return Ii(Dl(t*100),0,100)}const Gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ag=[..."0123456789ABCDEF"],kB=t=>ag[t&15],xB=t=>ag[(t&240)>>4]+ag[t&15],lc=t=>(t&240)>>4===(t&15),CB=t=>lc(t.r)&&lc(t.g)&&lc(t.b)&&lc(t.a);function TB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Gt[t[1]]*17,g:255&Gt[t[2]]*17,b:255&Gt[t[3]]*17,a:e===5?Gt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Gt[t[1]]<<4|Gt[t[2]],g:Gt[t[3]]<<4|Gt[t[4]],b:Gt[t[5]]<<4|Gt[t[6]],a:e===9?Gt[t[7]]<<4|Gt[t[8]]:255})),n}const IB=(t,e)=>t<255?e(t):"";function DB(t){var e=CB(t)?kB:xB;return t?"#"+e(t.r)+e(t.g)+e(t.b)+IB(t.a,e):void 0}const PB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wC(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function RB(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function NB(t,e,n){const i=wC(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function AB(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Uy(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=AB(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function By(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Hi)}function zy(t,e,n){return By(wC,t,e,n)}function OB(t,e,n){return By(NB,t,e,n)}function MB(t,e,n){return By(RB,t,e,n)}function bC(t){return(t%360+360)%360}function LB(t){const e=PB.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?$o(+e[5]):Hi(+e[5]));const s=bC(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=OB(s,r,o):e[1]==="hsv"?i=MB(s,r,o):i=zy(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function FB(t,e){var n=Uy(t);n[0]=bC(n[0]+e),n=zy(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $B(t){if(!t)return;const e=Uy(t),n=e[0],i=Y_(e[1]),s=Y_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Wn(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const X_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Q_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UB(){const t={},e=Object.keys(Q_),n=Object.keys(X_);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,X_[r]);r=parseInt(Q_[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let cc;function BB(t){cc||(cc=UB(),cc.transparent=[0,0,0,0]);const e=cc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const zB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VB(t){const e=zB.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?$o(o):Ii(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?$o(i):Ii(i,0,255)),s=255&(e[4]?$o(s):Ii(s,0,255)),r=255&(e[6]?$o(r):Ii(r,0,255)),{r:i,g:s,b:r,a:n}}}function jB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ff=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,er=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function HB(t,e,n){const i=er(Wn(t.r)),s=er(Wn(t.g)),r=er(Wn(t.b));return{r:Hi(ff(i+n*(er(Wn(e.r))-i))),g:Hi(ff(s+n*(er(Wn(e.g))-s))),b:Hi(ff(r+n*(er(Wn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function uc(t,e,n){if(t){let i=Uy(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=zy(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function SC(t,e){return t&&Object.assign(e||{},t)}function J_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Hi(t[3]))):(e=SC(t,{r:0,g:0,b:0,a:1}),e.a=Hi(e.a)),e}function WB(t){return t.charAt(0)==="r"?VB(t):LB(t)}class Wa{constructor(e){if(e instanceof Wa)return e;const n=typeof e;let i;n==="object"?i=J_(e):n==="string"&&(i=TB(e)||BB(e)||WB(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=SC(this._rgb);return e&&(e.a=Wn(e.a)),e}set rgb(e){this._rgb=J_(e)}rgbString(){return this._valid?jB(this._rgb):void 0}hexString(){return this._valid?DB(this._rgb):void 0}hslString(){return this._valid?$B(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=HB(this._rgb,e._rgb,n)),this}clone(){return new Wa(this.rgb)}alpha(e){return this._rgb.a=Hi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Dl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return uc(this._rgb,2,e),this}darken(e){return uc(this._rgb,2,-e),this}saturate(e){return uc(this._rgb,1,e),this}desaturate(e){return uc(this._rgb,1,-e),this}rotate(e){return FB(this._rgb,e),this}}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Un(){}const qB=(()=>{let t=0;return()=>t++})();function ie(t){return t===null||typeof t>"u"}function ve(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $t(t,e){return Pe(t)?t:e}function Y(t,e){return typeof t>"u"?e:t}const KB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,EC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function he(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ae(t,e,n,i){let s,r,o;if(ve(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(J(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Xu(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Qu(t){if(ve(t))return t.map(Qu);if(J(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Qu(t[n[s]]);return e}return t}function kC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function GB(t,e,n,i){if(!kC(t))return;const s=e[t],r=n[t];J(s)&&J(r)?qa(s,r,i):e[t]=Qu(r)}function qa(t,e,n){const i=ve(e)?e:[e],s=i.length;if(!J(t))return t;n=n||{};const r=n.merger||GB;let o;for(let a=0;a<s;++a){if(o=i[a],!J(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function ra(t,e){return qa(t,e,{merger:YB})}function YB(t,e,n){if(!kC(t))return;const i=e[t],s=n[t];J(i)&&J(s)?ra(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qu(s))}const Z_={"":t=>t,x:t=>t.x,y:t=>t.y};function XB(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function QB(t){const e=XB(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ji(t,e){return(Z_[e]||(Z_[e]=QB(e)))(t)}function Vy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const sn=t=>typeof t<"u",Zi=t=>typeof t=="function",ew=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function JB(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ke=Math.PI,we=2*ke,ZB=we+ke,Ju=Number.POSITIVE_INFINITY,ez=ke/180,Re=ke/2,as=ke/4,tw=ke*2/3,Di=Math.log10,On=Math.sign;function oa(t,e,n){return Math.abs(t-e)<n}function nw(t){const e=Math.round(t);t=oa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Di(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function tz(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Kr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function nz(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xC(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function un(t){return t*(ke/180)}function jy(t){return t*(180/ke)}function iw(t){if(!Pe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function CC(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ke&&(r+=we),{angle:r,distance:s}}function lg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function iz(t,e){return(t-e+ZB)%we-ke}function Bt(t){return(t%we+we)%we}function Ka(t,e,n,i){const s=Bt(t),r=Bt(e),o=Bt(n),a=Bt(r-s),l=Bt(o-s),c=Bt(s-r),u=Bt(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Ze(t,e,n){return Math.max(e,Math.min(n,t))}function sz(t){return Ze(t,-32768,32767)}function Qn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Hy(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Jn=(t,e,n,i)=>Hy(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),rz=(t,e,n)=>Hy(t,n,i=>t[i][e]>=n);function oz(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const TC=["push","pop","shift","splice","unshift"];function az(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),TC.forEach(n=>{const i="_onData"+Vy(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function sw(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(TC.forEach(r=>{delete t[r]}),delete t._chartjs)}function IC(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const DC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function PC(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,DC.call(window,()=>{i=!1,t.apply(e,n)}))}}function lz(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Wy=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,cz=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function RC(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=Ze(Math.min(Jn(a,o.axis,c).lo,n?i:Jn(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=Ze(Math.max(Jn(a,o.axis,u,!0).hi+1,n?0:Jn(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function NC(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const hc=t=>t===0||t===1,rw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*we/n)),ow=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*we/n)+1,aa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Re)+1,easeOutSine:t=>Math.sin(t*Re),easeInOutSine:t=>-.5*(Math.cos(ke*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>hc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hc(t)?t:rw(t,.075,.3),easeOutElastic:t=>hc(t)?t:ow(t,.075,.3),easeInOutElastic(t){return hc(t)?t:t<.5?.5*rw(t*2,.1125,.45):.5+.5*ow(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-aa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?aa.easeInBounce(t*2)*.5:aa.easeOutBounce(t*2-1)*.5+.5};function AC(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function aw(t){return AC(t)?t:new Wa(t)}function pf(t){return AC(t)?t:new Wa(t).saturate(.5).darken(.1).hexString()}const uz=["x","y","borderWidth","radius","tension"],hz=["color","borderColor","backgroundColor"];function dz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:hz},numbers:{type:"number",properties:uz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lw=new Map;function pz(t,e){e=e||{};const n=t+JSON.stringify(e);let i=lw.get(n);return i||(i=new Intl.NumberFormat(t,e),lw.set(n,i)),i}function Pl(t,e,n){return pz(e,n).format(t)}const OC={values(t){return ve(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=gz(t,n)}const o=Di(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Pl(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Di(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?OC.numeric.call(this,t,e,n):""}};function gz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var rd={formatters:OC};function mz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const js=Object.create(null),cg=Object.create(null);function la(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function gf(t,e,n){return typeof e=="string"?qa(la(t,e),n):qa(la(t,""),e)}class yz{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>pf(s.backgroundColor),this.hoverBorderColor=(i,s)=>pf(s.borderColor),this.hoverColor=(i,s)=>pf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return gf(this,e,n)}get(e){return la(this,e)}describe(e,n){return gf(cg,e,n)}override(e,n){return gf(js,e,n)}route(e,n,i,s){const r=la(this,e),o=la(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return J(l)?Object.assign({},c,l):Y(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Le=new yz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dz,fz,mz]);function vz(t){return!t||ie(t.size)||ie(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Zu(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function _z(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&ve(h)!==!0)o=Zu(t,s,r,o,h);else if(ve(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ve(d)&&(o=Zu(t,s,r,o,d));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function ls(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function cw(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function ug(t,e,n,i){MC(t,e,n,i,null)}function MC(t,e,n,i,s){let r,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let v=(p||0)*ez;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,g,0,0,we):t.arc(n,i,g,0,we),t.closePath();break;case"triangle":u=s?s/2:g,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=tw,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=tw,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+as)*l,h=Math.cos(v+as)*(s?s/2-c:l),a=Math.sin(v+as)*l,d=Math.sin(v+as)*(s?s/2-c:l),t.arc(n-h,i-a,c,v-ke,v-Re),t.arc(n+d,i-o,c,v-Re,v),t.arc(n+h,i+a,c,v,v+Re),t.arc(n-d,i+o,c,v+Re,v+ke),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=as;case"rectRot":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=as;case"cross":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=as,h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(v)*g,a=Math.sin(v)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:g),i+Math.sin(v)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ga(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function od(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ad(t){t.restore()}function wz(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function bz(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Hs(t,e,n,i,s,r={}){const o=ve(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,Sz(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&kz(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ie(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),Ez(t,n,i,c,r),i+=s.lineHeight;t.restore()}function Sz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ie(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ez(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function kz(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ya(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Re,ke,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ke,Re,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Re,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Re,!0),t.lineTo(n+o.topLeft,i)}const xz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tz(t,e){const n=(""+t).match(xz);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Iz=t=>+t||0;function qy(t,e){const n={},i=J(e),s=i?Object.keys(e):e,r=J(t)?i?o=>Y(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=Iz(r(o));return n}function LC(t){return qy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ds(t){return qy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function St(t){const e=LC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function We(t,e){t=t||{},e=e||Le.font;let n=Y(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Y(t.style,e.style);i&&!(""+i).match(Cz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Y(t.family,e.family),lineHeight:Tz(Y(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Y(t.weight,e.weight),string:""};return s.string=vz(s),s}function Uo(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&ve(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function Dz(t,e,n){const{min:i,max:s}=t,r=EC(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function os(t,e){return Object.assign(Object.create(t),e)}function Ky(t,e=[""],n=t,i,s=()=>t[0]){sn(i)||(i=BC("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:o=>Ky([o,...t],e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return $C(o,a,()=>Fz(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return hw(o).includes(a)},ownKeys(o){return hw(o)},set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function Gr(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:FC(t,i),setContext:r=>Gr(t,r,n,i),override:r=>Gr(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return $C(r,o,()=>Rz(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function FC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Zi(n)?n:()=>n,isIndexable:Zi(i)?i:()=>i}}const Pz=(t,e)=>t?t+Vy(e):e,Gy=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $C(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function Rz(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Zi(a)&&o.isScriptable(e)&&(a=Nz(e,a,t,n)),ve(a)&&a.length&&(a=Az(e,a,t,o.isIndexable)),Gy(e,a)&&(a=Gr(a,s,r&&r[e],o)),a}function Nz(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||i),a.delete(t),Gy(t,e)&&(e=Yy(s._scopes,s,t,e)),e}function Az(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(sn(r.index)&&i(t))e=e[r.index%e.length];else if(J(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Yy(c,s,t,u);e.push(Gr(h,r,o&&o[t],a))}}return e}function UC(t,e,n){return Zi(t)?t(e,n):t}const Oz=(t,e)=>t===!0?e:typeof t=="string"?Ji(e,t):void 0;function Mz(t,e,n,i,s){for(const r of e){const o=Oz(n,r);if(o){t.add(o);const a=UC(o._fallback,n,s);if(sn(a)&&a!==n&&a!==i)return a}else if(o===!1&&sn(i)&&n!==i)return null}return!1}function Yy(t,e,n,i){const s=e._rootScopes,r=UC(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=uw(a,o,n,r||n,i);return l===null||sn(r)&&r!==n&&(l=uw(a,o,r,l,i),l===null)?!1:Ky(Array.from(a),[""],s,r,()=>Lz(e,n,i))}function uw(t,e,n,i,s){for(;n;)n=Mz(t,e,n,i,s);return n}function Lz(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return ve(s)&&J(n)?n:s||{}}function Fz(t,e,n,i){let s;for(const r of e)if(s=BC(Pz(r,t),n),sn(s))return Gy(t,s)?Yy(n,i,t,s):s}function BC(t,e){for(const n of e){if(!n)continue;const i=n[t];if(sn(i))return i}}function hw(t){let e=t._keys;return e||(e=t._keys=$z(t._scopes)),e}function $z(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function zC(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(Ji(u,r),c)};return o}const Uz=Number.EPSILON||1e-14,Yr=(t,e)=>e<t.length&&!t[e].skip&&t[e],VC=t=>t==="x"?"y":"x";function Bz(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=lg(r,s),l=lg(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function zz(t,e,n){const i=t.length;let s,r,o,a,l,c=Yr(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Yr(t,u+1),!(!l||!c)){if(oa(e[u],0,Uz)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function Vz(t,e,n="x"){const i=VC(n),s=t.length;let r,o,a,l=Yr(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Yr(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function jz(t,e="x"){const n=VC(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Yr(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Yr(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?On(s[o-1])!==On(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}zz(t,s,r),Vz(t,r,e)}function dc(t,e,n){return Math.max(Math.min(t,n),e)}function Hz(t,e){let n,i,s,r,o,a=Ga(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Ga(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=dc(s.cp1x,e.left,e.right),s.cp1y=dc(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=dc(s.cp2x,e.left,e.right),s.cp2y=dc(s.cp2y,e.top,e.bottom)))}function Wz(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")jz(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=Bz(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Hz(t,n)}function jC(){return typeof window<"u"&&typeof document<"u"}function Xy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function eh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ld=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function qz(t,e){return ld(t).getPropertyValue(e)}const Kz=["top","right","bottom","left"];function Ps(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Kz[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Gz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Yz(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(Gz(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ps(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=ld(n),r=s.boxSizing==="border-box",o=Ps(s,"padding"),a=Ps(s,"border","width"),{x:l,y:c,box:u}=Yz(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function Xz(t,e,n){let i,s;if(e===void 0||n===void 0){const r=Xy(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ld(r),l=Ps(a,"border","width"),c=Ps(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=eh(a.maxWidth,r,"clientWidth"),s=eh(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ju,maxHeight:s||Ju}}const fc=t=>Math.round(t*10)/10;function Qz(t,e,n,i){const s=ld(t),r=Ps(s,"margin"),o=eh(s.maxWidth,t,"clientWidth")||Ju,a=eh(s.maxHeight,t,"clientHeight")||Ju,l=Xz(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=Ps(s,"border","width"),f=Ps(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=fc(Math.min(c,o,l.maxWidth)),u=fc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=fc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=fc(Math.floor(u*i))),{width:c,height:u}}function dw(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Jz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function fw(t,e){const n=qz(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Zz(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function eV(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=gs(t,s,n),a=gs(s,r,n),l=gs(r,e,n),c=gs(o,a,n),u=gs(a,l,n);return gs(c,u,n)}const tV=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},nV=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ir(t,e,n){return t?tV(e,n):nV()}function HC(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function WC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qC(t){return t==="angle"?{between:Ka,compare:iz,normalize:Bt}:{between:Qn,compare:(e,n)=>e-n,normalize:e=>e}}function pw({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function iV(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=qC(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function KC(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=qC(i),{start:u,end:h,loop:d,style:f}=iV(t,e,n),p=[];let g=!1,v=null,y,m,_;const b=()=>l(s,_,y)&&a(s,_)!==0,S=()=>a(r,y)===0||l(r,_,y),x=()=>g||b(),E=()=>!g||S();for(let k=u,P=u;k<=h;++k)m=e[k%o],!m.skip&&(y=c(m[i]),y!==_&&(g=l(y,s,r),v===null&&x()&&(v=a(y,s)===0?k:P),v!==null&&E()&&(p.push(pw({start:v,end:k,loop:d,count:o,style:f})),v=null),P=k,_=y));return v!==null&&p.push(pw({start:v,end:h,loop:d,count:o,style:f})),p}function GC(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=KC(i[s],t.points,e);r.length&&n.push(...r)}return n}function sV(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function rV(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function oV(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=sV(n,s,r,i);if(i===!0)return gw(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return gw(t,rV(n,o,l,c),n,e)}function gw(t,e,n,i){return!i||!i.setContext||!n?e:aV(t,e,n,i)}function aV(t,e,n,i){const s=t._chart.getContext(),r=mw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,d=h;function f(p,g,v,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],v;for(d=h+1;d<=p.end;d++){const y=n[d%l];v=mw(i.setContext(os(s,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),lV(v,u)&&f(h,d-1,p.loop,u),g=y,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function mw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function lV(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class cV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=DC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zn=new cV;const yw="transparent",uV={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=aw(t||yw),s=i.valid&&aw(e||yw);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class hV{constructor(e,n,i,s){const r=n[i];s=Uo([e.to,s,r,e.from]);const o=Uo([e.from,r,s]);this._active=!0,this._fn=e.fn||uV[e.type||typeof o],this._easing=aa[e.easing]||aa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Uo([e.to,n,s,e.from]),this._from=Uo([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class YC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(Le.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!J(r))return;const o={};for(const a of n)o[a]=r[a];(ve(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=fV(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&dV(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new hV(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return zn.add(this._chart,i),!0}}function dV(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function fV(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vw(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function pV(t,e,n){if(n===!1)return!1;const i=vw(t,n),s=vw(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function gV(t){let e,n,i,s;return J(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function XC(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function _w(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],Pe(c)&&(r||e===0||On(e)===On(c))&&(e+=c)}return e}}function mV(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function ww(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function yV(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function vV(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function _V(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function bw(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Sw(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=yV(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:v}=p,y=p._stacks||(p._stacks={});d=y[c]=_V(s,u,g),d[a]=v,d._top=bw(d,o,!0,i.type),d._bottom=bw(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[a]=v}}function mf(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function wV(t,e){return os(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bV(t,e,n){return os(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ko(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const yf=t=>t==="reset"||t==="none",Ew=(t,e)=>e?t:Object.assign({},t),SV=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:XC(n,!0),values:null};class fn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ww(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ko(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=Y(i.xAxisID,mf(e,"x")),o=n.yAxisID=Y(i.yAxisID,mf(e,"y")),a=n.rAxisID=Y(i.rAxisID,mf(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sw(this._data,this),e._stacked&&ko(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(J(n))this._data=mV(n);else if(i!==n){if(i){sw(i,this);const s=this._cachedMeta;ko(s),s._parsed=[]}n&&Object.isExtensible(n)&&az(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=ww(n.vScale,n),n.stack!==i.stack&&(s=!0,ko(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&Sw(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{ve(s[e])?d=this.parseArrayData(i,s,e,n):J(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&Sw(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(Ji(f,a),d),y:o.parse(Ji(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:XC(s,!0),values:n._stacks[e.axis]._visualValues};return _w(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=_w(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=SV(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=vV(a);let d,f;function p(){f=s[d];const g=f[a.axis];return!Pe(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Pe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=gV(Y(this.options.clip,pV(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=bV(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=wV(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&sn(i);if(a)return Ew(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Le.elements[e]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Ew(g,l))),g}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new YC(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||yf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){yf(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!yf(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&ko(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(fn,"defaults",{}),F(fn,"datasetElementType",null),F(fn,"dataElementType",null);function EV(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=IC(i.sort((s,r)=>s-r))}return t._cache.$bar}function kV(t){const e=t.iScale,n=EV(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(sn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function xV(t,e,n,i){const s=n.barThickness;let r,o;return ie(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function CV(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function TV(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function QC(t,e,n,i){return ve(t)?TV(t,e,n,i):e[n.axis]=n.parse(t,i),e}function kw(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(QC(d,h,r,c));return l}function vf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function IV(t,e,n){return t!==0?On(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function DV(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function PV(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=DV(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[xw(u,o,a,l)]=!0,s=c)),r[xw(s,o,a,l)]=!0,t.borderSkipped=r}function xw(t,e,n,i){return i?(t=RV(t,e,n),t=Cw(t,n,e)):t=Cw(t,e,n),t}function RV(t,e,n){return t===e?n:t===n?e:t}function Cw(t,e,n){return t==="start"?e:t==="end"?n:t}function NV(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Hc extends fn{parsePrimitiveData(e,n,i,s){return kw(e,n,i,s)}parseArrayData(e,n,i,s){return kw(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+s;d<f;++d)g=n[d],p={},p[r.axis]=r.parse(Ji(g,c),d),h.push(QC(Ji(g,u),p,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=vf(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=r||ie(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||vf(p._custom)||o===y._top||o===y._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));const _=m.options||e[f].options;PV(m,_,y,o),NV(m,_,u.ratio),this.updateElement(e[f],f,m,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(ie(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||kV(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=vf(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&On(h)!==On(c.barEnd)&&(d=0),d+=h);const v=!ie(r)&&!u?r:d;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=y,g=p-y,Math.abs(g)<o){g=IV(g,n,a)*o,h===a&&(y-=g/2);const m=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),b=Math.min(m,_),S=Math.max(m,_);y=Math.max(Math.min(y,S),b),p=y+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=On(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=Y(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?CV(e,n,s,c):xV(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}F(Hc,"id","bar"),F(Hc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Hc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wc extends fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Y(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Y(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!r&&this.getParsed(d),g={},v=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(g.options.radius=0)),this.updateElement(f,d,g,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Y(i&&i._custom,r),s}}F(Wc,"id","bubble"),F(Wc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Wc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function AV(t,e,n){let i=1,s=1,r=0,o=0;if(e<we){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(_,b,S)=>Ka(_,a,l,!0)?1:Math.max(b,b*n,S,S*n),p=(_,b,S)=>Ka(_,a,l,!0)?-1:Math.min(b,b*n,S,S*n),g=f(0,c,h),v=f(Re,u,d),y=p(ke,c,h),m=p(ke+Re,u,d);i=(g-y)/2,s=(v-m)/2,r=-(g+y)/2,o=-(v+m)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ss extends fn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(J(i[e])){const{key:l="value"}=this._parsing;r=c=>+Ji(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return un(this.options.rotation-90)}_getCircumference(){return un(this.options.circumference)}_getRotationExtents(){let e=we,n=-we;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(KB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=AV(h,u,l),v=(i.width-o)/d,y=(i.height-o)/f,m=Math.max(Math.min(v,y)/2,0),_=EC(this.options.radius,m),b=Math.max(_*l,0),S=(_-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*_,this.offsetY=g*_,s.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/we)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,r);for(m=n;m<n+i;++m){const _=this._circumference(m,r),b=e[m],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+_,circumference:_,outerRadius:p,innerRadius:f};v&&(S.options=g||this.resolveDataElementOptions(m,b.active?"active":s)),y+=_,this.updateElement(b,m,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?we*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Pl(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Y(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(Ss,"id","doughnut"),F(Ss,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(Ss,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),F(Ss,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class ca extends fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=RC(n,s,o);this._drawStart=a,this._drawCount=l,NC(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,v=Kr(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",m=n+i,_=e.length;let b=n>0&&this.getParsed(n-1);for(let S=0;S<_;++S){const x=e[S],E=y?x:{};if(S<n||S>=m){E.skip=!0;continue}const k=this.getParsed(S),P=ie(k[f]),D=E[d]=o.getPixelForValue(k[d],S),M=E[f]=r||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[f],S);E.skip=isNaN(D)||isNaN(M)||P,E.stop=S>0&&Math.abs(k[d]-b[d])>v,g&&(E.parsed=k,E.raw=c.data[S]),h&&(E.options=u||this.resolveDataElementOptions(S,x.active?"active":s)),y||this.updateElement(x,S,E,s),b=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}F(ca,"id","line"),F(ca,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(ca,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ua extends fn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Pl(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return zC.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*ke;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const v=e[p];let y=f,m=f+this._computeAngle(p,s,g),_=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,r&&(l.animateScale&&(_=0),l.animateRotate&&(y=m=d));const b={x:u,y:h,innerRadius:0,outerRadius:_,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,v.active?"active":s)};this.updateElement(v,p,b,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?un(this.resolveDataElementOptions(e,n).angle||i):0}}F(ua,"id","polarArea"),F(ua,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class hg extends Ss{}F(hg,"id","pie"),F(hg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qc extends fn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return zC.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}F(qc,"id","radar"),F(qc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(qc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Kc extends fn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=RC(n,i,s);if(this._drawStart=r,this._drawCount=o,NC(n)&&(r=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,y=Kr(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let _=n>0&&this.getParsed(n-1);for(let b=n;b<n+i;++b){const S=e[b],x=this.getParsed(b),E=m?S:{},k=ie(x[p]),P=E[f]=o.getPixelForValue(x[f],b),D=E[p]=r||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],b);E.skip=isNaN(P)||isNaN(D)||k,E.stop=b>0&&Math.abs(x[f]-_[f])>y,v&&(E.parsed=x,E.raw=c.data[b]),d&&(E.options=h||this.resolveDataElementOptions(b,S.active?"active":s)),m||this.updateElement(S,b,E,s),_=x}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}F(Kc,"id","scatter"),F(Kc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(Kc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var OV=Object.freeze({__proto__:null,BarController:Hc,BubbleController:Wc,DoughnutController:Ss,LineController:ca,PolarAreaController:ua,PieController:hg,RadarController:qc,ScatterController:Kc});function cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qy{static override(e){Object.assign(Qy.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return cs()}parse(){return cs()}format(){return cs()}add(){return cs()}diff(){return cs()}startOf(){return cs()}endOf(){return cs()}}var MV={_date:Qy};function LV(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?rz:Jn;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,n-u),d=l(r,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Rl(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=LV(r[a],e,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function FV(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _f(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Rl(t,n,e,function(a,l,c){!s&&!Ga(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function $V(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=CC(o,{x:e.x,y:e.y});Ka(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Rl(t,n,e,r),s}function UV(t,e,n,i,s,r){let o=[];const a=FV(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return Rl(t,n,e,c),o}function wf(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?$V(t,e,n,s):UV(t,e,n,i,s,r)}function Tw(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Rl(t,n,e,(l,c,u)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var BV={evaluateInteractionItems:Rl,modes:{index(t,e,n,i){const s=ps(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_f(t,s,r,i,o):wf(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=ps(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_f(t,s,r,i,o):wf(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=ps(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return _f(t,s,r,i,o)},nearest(t,e,n,i){const s=ps(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return wf(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=ps(e,t);return Tw(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=ps(e,t);return Tw(t,s,"y",n.intersect,i)}}};const JC=["left","top","right","bottom"];function xo(t,e){return t.filter(n=>n.pos===e)}function Iw(t,e){return t.filter(n=>JC.indexOf(n.pos)===-1&&n.box.axis===e)}function Co(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function zV(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function VV(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!JC.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function jV(t,e){const n=VV(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function HV(t){const e=zV(t),n=Co(e.filter(c=>c.box.fullSize),!0),i=Co(xo(e,"left"),!0),s=Co(xo(e,"right")),r=Co(xo(e,"top"),!0),o=Co(xo(e,"bottom")),a=Iw(e,"x"),l=Iw(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:xo(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Dw(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ZC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WV(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!J(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&ZC(o,r.getPadding());const a=Math.max(0,e.outerWidth-Dw(o,t,"left","right")),l=Math.max(0,e.outerHeight-Dw(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function qV(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function KV(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Bo(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,KV(a.horizontal,e));const{same:h,other:d}=WV(e,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&Bo(s,e,n,i)||u}function pc(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Pw(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;sn(c.start)&&(o=c.start),l.fullSize?pc(l,s.left,o,n.outerWidth-s.right-s.left,d):pc(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;sn(c.start)&&(r=c.start),l.fullSize?pc(l,r,s.top,d,n.outerHeight-s.bottom-s.top):pc(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=St(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=HV(t.boxes),l=a.vertical,c=a.horizontal;ae(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);ZC(d,St(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=jV(l.concat(c),h);Bo(a.fullSize,f,h,p),Bo(l,f,h,p),Bo(c,f,h,p)&&Bo(l,f,h,p),qV(f),Pw(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Pw(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ae(a.chartArea,g=>{const v=g.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class eT{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class GV extends eT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Gc="$chartjs",YV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rw=t=>t===null||t==="";function XV(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Gc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Rw(s)){const r=fw(t,"width");r!==void 0&&(t.width=r)}if(Rw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=fw(t,"height");r!==void 0&&(t.height=r)}return t}const tT=Jz?{passive:!0}:!1;function QV(t,e,n){t.addEventListener(e,n,tT)}function JV(t,e,n){t.canvas.removeEventListener(e,n,tT)}function ZV(t,e){const n=YV[t.type]||t.type,{x:i,y:s}=ps(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function th(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ej(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||th(a.addedNodes,i),o=o&&!th(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function tj(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||th(a.removedNodes,i),o=o&&!th(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Xa=new Map;let Nw=0;function nT(){const t=window.devicePixelRatio;t!==Nw&&(Nw=t,Xa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function nj(t,e){Xa.size||window.addEventListener("resize",nT),Xa.set(t,e)}function ij(t){Xa.delete(t),Xa.size||window.removeEventListener("resize",nT)}function sj(t,e,n){const i=t.canvas,s=i&&Xy(i);if(!s)return;const r=PC((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),nj(t,r),o}function bf(t,e,n){n&&n.disconnect(),e==="resize"&&ij(t)}function rj(t,e,n){const i=t.canvas,s=PC(r=>{t.ctx!==null&&n(ZV(r,t))},t);return QV(i,e,s),s}class oj extends eT{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(XV(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Gc])return!1;const i=n[Gc].initial;["height","width"].forEach(r=>{const o=i[r];ie(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Gc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:ej,detach:tj,resize:sj}[n]||rj;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:bf,detach:bf,resize:bf}[n]||JV)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return Qz(e,n,i,s)}isAttached(e){const n=Xy(e);return!!(n&&n.isConnected)}}function aj(t){return!jC()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?GV:oj}class mn{constructor(){F(this,"active",!1)}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Kr(this.x)&&Kr(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}F(mn,"defaults",{}),F(mn,"defaultRoutes");function lj(t,e){const n=t.options.ticks,i=cj(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?hj(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return dj(e,c,r,o/s),c;const u=uj(r,e,s);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(gc(e,c,u,ie(f)?0:a-f,a),h=0,d=o-1;h<d;h++)gc(e,c,u,r[h],r[h+1]);return gc(e,c,u,l,ie(f)?e.length:l+f),c}return gc(e,c,u),c}function cj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function uj(t,e,n){const i=fj(t),s=e.length/n;if(!i)return Math.max(s,1);const r=tz(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function hj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function dj(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function gc(t,e,n,i,s){const r=Y(i,0),o=Math.min(Y(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function fj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const pj=t=>t==="left"?"right":t==="right"?"left":t,Aw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ow=(t,e)=>Math.min(e||t,t);function Mw(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function gj(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function mj(t,e){ae(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function To(t){return t.drawTicks?t.tickLength:0}function Lw(t,e){if(!t.display)return 0;const n=We(t.font,e),i=St(t.padding);return(ve(t.text)?t.text.length:1)*n.lineHeight+i.height}function yj(t,e){return os(t,{scale:e,type:"scale"})}function vj(t,e,n){return os(t,{tick:n,index:e,type:"tick"})}function _j(t,e,n){let i=Wy(t);return(n&&e!=="right"||!n&&e==="right")&&(i=pj(i)),i}function wj(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-s,v=a-r;if(t.isHorizontal()){if(f=ht(i,r,a),J(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=Aw(t,n,e);d=a-r}else{if(J(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=Aw(t,n,e);p=ht(i,o,s),h=n==="left"?-Re:Re}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Js extends mn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=$t(e,Number.POSITIVE_INFINITY),n=$t(n,Number.NEGATIVE_INFINITY),i=$t(i,Number.POSITIVE_INFINITY),s=$t(s,Number.NEGATIVE_INFINITY),{min:$t(e,i),max:$t(n,s),minDefined:Pe(e),maxDefined:Pe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:$t(n,$t(i,n)),max:$t(i,$t(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Dz(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Mw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=lj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),he(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=he(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Ow(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Ze(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-To(e.grid)-n.padding-Lw(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=jy(Math.min(Math.asin(Ze((u.highest.height+6)/a,-1,1)),Math.asin(Ze(l/c,-1,1))-Math.asin(Ze(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Lw(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=To(r)+l):(e.height=this.maxHeight,e.width=To(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=un(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const y=i.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=i.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ie(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Mw(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Ow(n,i));let c=0,u=0,h,d,f,p,g,v,y,m,_,b,S;for(h=0;h<n;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),s.font=v=g.string,y=r[v]=r[v]||{data:{},gc:[]},m=g.lineHeight,_=b=0,!ie(p)&&!ve(p))_=Zu(s,y.data,y.gc,_,p),b=m;else if(ve(p))for(d=0,f=p.length;d<f;++d)S=p[d],!ie(S)&&!ve(S)&&(_=Zu(s,y.data,y.gc,_,S),b+=m);o.push(_),a.push(b),c=Math.max(_,c),u=Math.max(b,u)}mj(r,n);const x=o.indexOf(c),E=a.indexOf(u),k=P=>({width:o[P]||0,height:a[P]||0});return{first:k(0),last:k(n-1),widest:k(x),highest:k(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return sz(this._alignToPixels?ls(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=vj(this.getContext(),e,i))}return this.$context||(this.$context=yj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=un(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=To(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,y=function(ce){return ls(i,ce,g)};let m,_,b,S,x,E,k,P,D,M,H,pe;if(o==="top")m=y(this.bottom),E=this.bottom-d,P=m-v,M=y(e.top)+v,pe=e.bottom;else if(o==="bottom")m=y(this.top),M=e.top,pe=y(e.bottom)-v,E=m+v,P=this.top+d;else if(o==="left")m=y(this.right),x=this.right-d,k=m-v,D=y(e.left)+v,H=e.right;else if(o==="right")m=y(this.left),D=e.left,H=y(e.right)-v,x=m+v,k=this.left+d;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(J(o)){const ce=Object.keys(o)[0],ge=o[ce];m=y(this.chart.scales[ce].getPixelForValue(ge))}M=e.top,pe=e.bottom,E=m+v,P=E+d}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(J(o)){const ce=Object.keys(o)[0],ge=o[ce];m=y(this.chart.scales[ce].getPixelForValue(ge))}x=m-v,k=x-d,D=e.left,H=e.right}const Xe=Y(s.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/Xe));for(_=0;_<h;_+=re){const ce=this.getContext(_),ge=r.setContext(ce),O=a.setContext(ce),B=ge.lineWidth,W=ge.color,ue=O.dash||[],me=O.dashOffset,yn=ge.tickWidth,Lt=ge.tickColor,$n=ge.tickBorderDash||[],Ft=ge.tickBorderDashOffset;b=gj(this,_,l),b!==void 0&&(S=ls(i,b,B),c?x=k=D=H=S:E=P=M=pe=S,f.push({tx1:x,ty1:E,tx2:k,ty2:P,x1:D,y1:M,x2:H,y2:pe,width:B,color:W,borderDash:ue,borderDashOffset:me,tickWidth:yn,tickColor:Lt,tickBorderDash:$n,tickBorderDashOffset:Ft}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=To(i.grid),f=d+u,p=h?-u:f,g=-un(this.labelRotation),v=[];let y,m,_,b,S,x,E,k,P,D,M,H,pe="middle";if(s==="top")x=this.bottom-p,E=this._getXAxisLabelAlignment();else if(s==="bottom")x=this.top+p,E=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(d);E=re.textAlign,S=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(d);E=re.textAlign,S=re.x}else if(n==="x"){if(s==="center")x=(e.top+e.bottom)/2+f;else if(J(s)){const re=Object.keys(s)[0],ce=s[re];x=this.chart.scales[re].getPixelForValue(ce)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if(J(s)){const re=Object.keys(s)[0],ce=s[re];S=this.chart.scales[re].getPixelForValue(ce)}E=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?pe="top":l==="end"&&(pe="bottom"));const Xe=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){_=a[y],b=_.label;const re=r.setContext(this.getContext(y));k=this.getPixelForTick(y)+r.labelOffset,P=this._resolveTickFontOptions(y),D=P.lineHeight,M=ve(b)?b.length:1;const ce=M/2,ge=re.color,O=re.textStrokeColor,B=re.textStrokeWidth;let W=E;o?(S=k,E==="inner"&&(y===m-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?c==="near"||g!==0?H=-M*D+D/2:c==="center"?H=-Xe.highest.height/2-ce*D+D:H=-Xe.highest.height+D/2:c==="near"||g!==0?H=D/2:c==="center"?H=Xe.highest.height/2-ce*D:H=Xe.highest.height-M*D,h&&(H*=-1),g!==0&&!re.showLabelBackdrop&&(S+=D/2*Math.sin(g))):(x=k,H=(1-M)*D/2);let ue;if(re.showLabelBackdrop){const me=St(re.backdropPadding),yn=Xe.heights[y],Lt=Xe.widths[y];let $n=H-me.top,Ft=0-me.left;switch(pe){case"middle":$n-=yn/2;break;case"bottom":$n-=yn;break}switch(E){case"center":Ft-=Lt/2;break;case"right":Ft-=Lt;break}ue={left:Ft,top:$n,width:Lt+me.width,height:yn+me.height,color:re.backdropColor}}v.push({label:b,font:P,textOffset:H,options:{rotation:g,color:ge,strokeColor:O,strokeWidth:B,textAlign:W,textBaseline:pe,translation:[S,x],backdrop:ue}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-un(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ls(e,this.left,o)-o/2,u=ls(e,this.right,a)+a/2,h=d=l):(h=ls(e,this.top,o)-o/2,d=ls(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&od(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Hs(i,c,0,u,l,a)}s&&ad(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=We(i.font),o=St(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,ve(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=wj(this,l,n,a);Hs(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:_j(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Y(e.grid&&e.grid.z,-1),s=Y(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Js.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return We(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Ej(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,bj(e,o,i),this.override&&Le.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Le[s]&&(delete Le[s][i],this.override&&delete js[i])}}function bj(t,e,n){const i=qa(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,i),t.defaultRoutes&&Sj(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function Sj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Le.route(r,s,l,a)})}function Ej(t){return"id"in t&&"defaults"in t}class kj{constructor(){this.controllers=new mc(fn,"datasets",!0),this.elements=new mc(mn,"elements"),this.plugins=new mc(Object,"plugins"),this.scales=new mc(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ae(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=Vy(e);he(i["before"+s],[],i),n[e](i),he(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Sn=new kj;class xj{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(he(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Y(i.options&&i.options.plugins,{}),r=Cj(i);return s===!1&&!n?[]:Ij(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Cj(t){const e={},n=[],i=Object.keys(Sn.plugins.items);for(let r=0;r<i.length;r++)n.push(Sn.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Tj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Ij(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=Tj(i[l],s);c!==null&&r.push({plugin:a,options:Dj(t.config,{plugin:a,local:n[l]},c,o)})}return r}function Dj(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dg(t,e){const n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Pj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Rj(t,e){return t===e?"_index_":"_value_"}function Nj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function nh(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||Nj(e.position)||t.length>1&&nh(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function Aj(t,e){const n=js[t.type]||{scales:{}},i=e.scales||{},s=dg(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nh(o,a),c=Rj(l,s),u=n.scales||{};r[o]=ra(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||dg(a,e),u=(js[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=Pj(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),ra(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ra(a,[Le.scales[a.type],Le.scale])}),r}function iT(t){const e=t.options||(t.options={});e.plugins=Y(e.plugins,{}),e.scales=Aj(t,e)}function sT(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Oj(t){return t=t||{},t.data=sT(t.data),iT(t),t}const Fw=new Map,rT=new Set;function yc(t,e){let n=Fw.get(t);return n||(n=e(),Fw.set(t,n),rT.add(n)),n}const Io=(t,e,n)=>{const i=Ji(e,n);i!==void 0&&t.add(i)};class Mj{constructor(e){this._config=Oj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return yc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return yc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return yc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Io(l,e,h))),u.forEach(h=>Io(l,s,h)),u.forEach(h=>Io(l,js[r]||{},h)),u.forEach(h=>Io(l,Le,h)),u.forEach(h=>Io(l,cg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),rT.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,js[n]||{},Le.datasets[n]||{},{type:n},Le,cg]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=$w(this._resolverCache,e,s);let l=o;if(Fj(o,n)){r.$shared=!1,i=Zi(i)?i():i;const c=this.createResolver(e,i,a);l=Gr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=$w(this._resolverCache,e,i);return J(n)?Gr(r,n,void 0,s):r}}function $w(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Ky(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const Lj=t=>J(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Zi(t[n]),!1);function Fj(t,e){const{isScriptable:n,isIndexable:i}=FC(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Zi(a)||Lj(a))||o&&ve(a))return!0}return!1}var $j="4.2.1";const Uj=["top","bottom","left","right","chartArea"];function Uw(t,e){return t==="top"||t==="bottom"||Uj.indexOf(t)===-1&&e==="x"}function Bw(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function zw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),he(n&&n.onComplete,[t],e)}function Bj(t){const e=t.chart,n=e.options.animation;he(n&&n.onProgress,[t],e)}function oT(t){return jC()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Yc={},Vw=t=>{const e=oT(t);return Object.values(Yc).filter(n=>n.canvas===e).pop()};function zj(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function Vj(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function jj(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var gi;let cd=(gi=class{static register(...e){Sn.add(...e),jw()}static unregister(...e){Sn.remove(...e),jw()}constructor(e,n){const i=this.config=new Mj(n),s=oT(e),r=Vw(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||aj(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=qB(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lz(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Yc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}zn.listen(this,"complete",zw),zn.listen(this,"progress",Bj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return ie(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cw(this.canvas,this.ctx),this}stop(){return zn.stop(this),this}resize(e,n){zn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,dw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),he(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ae(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=nh(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ae(r,o=>{const a=o.options,l=a.id,c=nh(l,a),u=Y(a.type,o.dtype);(a.position===void 0||Uw(a.position,c)!==Uw(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Sn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),ae(s,(o,a)=>{o||delete i[a]}),ae(i,o=>{mt.configure(this,o,o.options),mt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Bw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||dg(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Sn.getController(a),{datasetElementType:c,dataElementType:u}=Le.datasets[a];Object.assign(l,{dataElementType:Sn.getElement(u),datasetElementType:c&&Sn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ae(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ae(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Bw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ae(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ew(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;zj(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!ew(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ae(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Zi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zn.has(this)?this.attached&&!zn.running(this)&&zn.start(this):(this.draw(),zw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=jj(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&od(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&ad(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Ga(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=BV.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=os(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);sn(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),zn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ae(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ae(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ae(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Xu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=JB(e),c=Vj(e,this._lastEvent,i,l);i&&(this._lastEvent=null,he(r.onHover,[e,a,this],this),l&&he(r.onClick,[e,a,this],this));const u=!Xu(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},F(gi,"defaults",Le),F(gi,"instances",Yc),F(gi,"overrides",js),F(gi,"registry",Sn),F(gi,"version",$j),F(gi,"getChart",Vw),gi);function jw(){return ae(cd.instances,t=>t._plugins.invalidate())}function Hj(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+Re,i-Re),t.closePath(),t.clip()}function Wj(t){return qy(t,["outerStart","outerEnd","innerStart","innerEnd"])}function qj(t,e,n,i){const s=Wj(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Ze(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ze(s.innerStart,0,o),innerEnd:Ze(s.innerEnd,0,o)}}function tr(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function ih(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const re=u>0?u-i:0,ce=h>0?h-i:0,ge=(re+ce)/2,O=ge!==0?p*ge/(ge+i):p;f=(p-O)/2}const g=Math.max(.001,p*h-n/ke)/h,v=(p-g)/2,y=l+v+f,m=s-v-f,{outerStart:_,outerEnd:b,innerStart:S,innerEnd:x}=qj(e,d,h,m-y),E=h-_,k=h-b,P=y+_/E,D=m-b/k,M=d+S,H=d+x,pe=y+S/M,Xe=m-x/H;if(t.beginPath(),r){const re=(P+D)/2;if(t.arc(o,a,h,P,re),t.arc(o,a,h,re,D),b>0){const B=tr(k,D,o,a);t.arc(B.x,B.y,b,D,m+Re)}const ce=tr(H,m,o,a);if(t.lineTo(ce.x,ce.y),x>0){const B=tr(H,Xe,o,a);t.arc(B.x,B.y,x,m+Re,Xe+Math.PI)}const ge=(m-x/d+(y+S/d))/2;if(t.arc(o,a,d,m-x/d,ge,!0),t.arc(o,a,d,ge,y+S/d,!0),S>0){const B=tr(M,pe,o,a);t.arc(B.x,B.y,S,pe+Math.PI,y-Re)}const O=tr(E,y,o,a);if(t.lineTo(O.x,O.y),_>0){const B=tr(E,P,o,a);t.arc(B.x,B.y,_,y-Re,P)}}else{t.moveTo(o,a);const re=Math.cos(P)*h+o,ce=Math.sin(P)*h+a;t.lineTo(re,ce);const ge=Math.cos(D)*h+o,O=Math.sin(D)*h+a;t.lineTo(ge,O)}t.closePath()}function Kj(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ih(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%we||we))}return ih(t,e,n,i,l,s),t.fill(),l}function Gj(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=l.borderAlign==="inner";if(!c)return;h?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(r){ih(t,e,n,i,d,s);for(let f=0;f<r;++f)t.stroke();isNaN(a)||(d=o+(a%we||we))}h&&Hj(t,e,d),r||(ih(t,e,n,i,d,s),t.stroke())}class Xc extends mn{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=CC(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=Y(h,l-a)>=we||Ka(r,a,l),g=Qn(o,c+d,u+d);return p&&g}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(s+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>we?Math.floor(i/we):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(ke,i||0)),c=s*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Kj(e,this,c,r,o),Gj(e,this,c,r,o),e.restore()}}F(Xc,"id","arc"),F(Xc,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(Xc,"defaultRoutes",{backgroundColor:"backgroundColor"});function aT(t,e,n=e){t.lineCap=Y(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Y(n.borderDash,e.borderDash)),t.lineDashOffset=Y(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Y(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Y(n.borderWidth,e.borderWidth),t.strokeStyle=Y(n.borderColor,e.borderColor)}function Yj(t,e,n){t.lineTo(n.x,n.y)}function Xj(t){return t.stepped?wz:t.tension||t.cubicInterpolationMode==="monotone"?bz:Yj}function lT(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Qj(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=lT(s,n,i),u=Xj(r);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=s[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,r.stepped),g=p);return l&&(p=s[(a+(d?c:0))%o],u(t,g,p,d,r.stepped)),!!l}function Jj(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=lT(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,v,y;const m=b=>(o+(c?a-b:b))%r,_=()=>{g!==v&&(t.lineTo(u,v),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=s[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[m(d)],f.skip)continue;const b=f.x,S=f.y,x=b|0;x===p?(S<g?g=S:S>v&&(v=S),u=(h*u+b)/++h):(_(),t.lineTo(b,S),p=x,h=0,g=v=S),y=S}_()}function fg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Jj:Qj}function Zj(t){return t.stepped?Zz:t.tension||t.cubicInterpolationMode==="monotone"?eV:gs}function e3(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),aT(t,e.options),t.stroke(s)}function t3(t,e,n,i){const{segments:s,options:r}=e,o=fg(e);for(const a of s)aT(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const n3=typeof Path2D=="function";function i3(t,e,n,i){n3&&!e.options.segment?e3(t,e,n,i):t3(t,e,n,i)}class Pi extends mn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Wz(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oV(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=GC(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=Zj(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((s-f[n])/(p[n]-f[n])),v=l(f,p,g,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return fg(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=fg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),i3(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(Pi,"id","line"),F(Pi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Pi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Pi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Hw(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Qc extends mn{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return Hw(this,e,"x",n)}inYRange(e,n){return Hw(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Ga(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,ug(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}F(Qc,"id","point"),F(Qc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Qc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cT(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Ri(t,e,n,i){return t?0:Ze(e,n,i)}function s3(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=LC(i);return{t:Ri(s.top,r.top,0,n),r:Ri(s.right,r.right,0,e),b:Ri(s.bottom,r.bottom,0,n),l:Ri(s.left,r.left,0,e)}}function r3(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Ds(s),o=Math.min(e,n),a=t.borderSkipped,l=i||J(s);return{topLeft:Ri(!l||a.top||a.left,r.topLeft,0,o),topRight:Ri(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ri(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ri(!l||a.bottom||a.right,r.bottomRight,0,o)}}function o3(t){const e=cT(t),n=e.right-e.left,i=e.bottom-e.top,s=s3(t,n/2,i/2),r=r3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Sf(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&cT(t,i);return a&&(s||Qn(e,a.left,a.right))&&(r||Qn(n,a.top,a.bottom))}function a3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function l3(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ef(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Jc extends mn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=o3(this),a=a3(o.radius)?Ya:l3;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Ef(o,n,r)),e.clip(),a(e,Ef(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Ef(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Sf(this,e,n,i)}inXRange(e,n){return Sf(this,e,null,n)}inYRange(e,n){return Sf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}F(Jc,"id","bar"),F(Jc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Jc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var c3=Object.freeze({__proto__:null,ArcElement:Xc,LineElement:Pi,PointElement:Qc,BarElement:Jc});const pg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ww=pg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function uT(t){return pg[t%pg.length]}function hT(t){return Ww[t%Ww.length]}function u3(t,e){return t.borderColor=uT(e),t.backgroundColor=hT(e),++e}function h3(t,e){return t.backgroundColor=t.data.map(()=>uT(e++)),e}function d3(t,e){return t.backgroundColor=t.data.map(()=>hT(e++)),e}function f3(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof Ss?e=h3(n,e):s instanceof ua?e=d3(n,e):s&&(e=u3(n,e))}}function qw(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function p3(t){return t&&(t.borderColor||t.backgroundColor)}var g3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s;if(!n.forceOverride&&(qw(i)||p3(s)||r&&qw(r)))return;const o=f3(t);i.forEach(o)}};function m3(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<r-2;h++){let v=0,y=0,m;const _=Math.floor((h+1)*a)+1+e,b=Math.min(Math.floor((h+2)*a)+1,n)+e,S=b-_;for(m=_;m<b;m++)v+=t[m].x,y+=t[m].y;v/=S,y/=S;const x=Math.floor(h*a)+1+e,E=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:k,y:P}=t[u];for(f=p=-1,m=x;m<E;m++)p=.5*Math.abs((k-v)*(t[m].y-P)-(k-t[m].x)*(y-P)),p>f&&(f=p,d=t[m],g=m);o[l++]=d,u=g}return o[l++]=t[c],o}function y3(t,e,n,i){let s=0,r=0,o,a,l,c,u,h,d,f,p,g;const v=[],y=e+n-1,m=t[e].x,b=t[y].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/b*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),s=(r*s+a.x)/++r;else{const x=o-1;if(!ie(h)&&!ie(d)){const E=Math.min(h,d),k=Math.max(h,d);E!==f&&E!==x&&v.push({...t[E],x:s}),k!==f&&k!==x&&v.push({...t[k],x:s})}o>0&&x!==f&&v.push(t[x]),v.push(a),u=S,r=0,p=g=c,h=d=f=o}}return v}function dT(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Kw(t){t.data.datasets.forEach(e=>{dT(e)})}function v3(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Ze(Jn(e,r.axis,o).lo,0,n-1)),c?s=Ze(Jn(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var _3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Kw(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(Uo([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=v3(l,c);const f=n.threshold||4*i;if(d<=f){dT(s);return}ie(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=m3(c,h,d,i,n);break;case"min-max":p=y3(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){Kw(t)}};function w3(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Jy(l,c,s);const u=gg(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=GC(e,u);for(const d of h){const f=gg(n,r[d.start],r[d.end],d.loop),p=KC(a,s,f);for(const g of p)o.push({source:g,target:d,start:{[n]:Gw(u,f,"start",Math.max)},end:{[n]:Gw(u,f,"end",Math.min)}})}}return o}function gg(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Bt(s),r=Bt(r)),{property:t,start:s,end:r}}function b3(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Jy(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Jy(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Gw(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function fT(t,e){let n=[],i=!1;return ve(t)?(i=!0,n=t):n=b3(t,e),n.length?new Pi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Yw(t){return t&&t.fill!==!1}function S3(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Pe(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function E3(t,e,n){const i=T3(t);if(J(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pe(s)&&Math.floor(s)===s?k3(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function k3(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function x3(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:J(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function C3(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:J(t)?i=t.value:i=e.getBaseValue(),i}function T3(t){const e=t.options,n=e.fill;let i=Y(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function I3(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=D3(e,n);a.push(fT({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)P3(s,o[u],a)}return new Pi({points:s,options:{}})}function D3(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function P3(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=R3(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function R3(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(Qn(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class pT{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:we},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function N3(t){const{chart:e,fill:n,line:i}=t;if(Pe(n))return A3(e,n);if(n==="stack")return I3(t);if(n==="shape")return!0;const s=O3(t);return s instanceof pT?s:fT(s,i)}function A3(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function O3(t){return(t.scale||{}).getPointPositionForValue?L3(t):M3(t)}function M3(t){const{scale:e={},fill:n}=t,i=x3(n,e);if(Pe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function L3(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=C3(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new pT({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function kf(t,e,n){const i=N3(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(od(t,n),F3(t,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),ad(t))}function F3(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(Xw(t,i,o.top),Qw(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),Xw(t,i,o.bottom)),Qw(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function Xw(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Jy(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Qw(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=w3(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,$3(t,o,f&&gg(s,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():Jw(t,i,h,s);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&v,g||Jw(t,i,u,s)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function $3(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function Jw(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var U3={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Pi&&(l={visible:t.isDatasetVisible(o),index:o,fill:E3(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=S3(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&kf(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Yw(r)&&kf(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Yw(i)||n.drawTime!=="beforeDatasetDraw"||kf(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zw=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},B3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class e1 extends mn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=he(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=We(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Zw(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const v=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:m,itemHeight:_}=z3(i,n,r,v,s);y>0&&f+_+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[y]={left:p,top:f,col:g,width:m,height:_},d=Math.max(d,m),f+=_+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ir(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ht(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ht(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=ht(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ht(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;od(e,this),this._draw(),ad(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Le.color,l=Ir(e.rtl,this.left,this.width),c=We(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=Zw(o,h),y=function(x,E,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const P=Y(k.lineWidth,1);if(s.fillStyle=Y(k.fillStyle,a),s.lineCap=Y(k.lineCap,"butt"),s.lineDashOffset=Y(k.lineDashOffset,0),s.lineJoin=Y(k.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=Y(k.strokeStyle,a),s.setLineDash(Y(k.lineDash,[])),o.usePointStyle){const D={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},M=l.xPlus(x,p/2),H=E+d;MC(s,D,M,H,o.pointStyleWidth&&p)}else{const D=E+Math.max((h-g)/2,0),M=l.leftForLtr(x,p),H=Ds(k.borderRadius);s.beginPath(),Object.values(H).some(pe=>pe!==0)?Ya(s,{x:M,y:D,w:p,h:g,radius:H}):s.rect(M,D,p,g),s.fill(),P!==0&&s.stroke()}s.restore()},m=function(x,E,k){Hs(s,k.text,x,E+v/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?f={x:ht(r,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:ht(r,this.top+b+u,this.bottom-n[0].height),line:0},HC(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((x,E)=>{s.strokeStyle=x.fontColor,s.fillStyle=x.fontColor;const k=s.measureText(x.text).width,P=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),D=p+d+k;let M=f.x,H=f.y;l.setWidth(this.width),_?E>0&&M+D+u>this.right&&(H=f.y+=S,f.line++,M=f.x=ht(r,this.left+u,this.right-i[f.line])):E>0&&H+S>this.bottom&&(M=f.x=M+n[f.line].width+u,f.line++,H=f.y=ht(r,this.top+b+u,this.bottom-n[f.line].height));const pe=l.x(M);if(y(pe,H,x),M=cz(P,M+p+d,_?M+D:this.right,e.rtl),m(l.x(M),H,x),_)f.x+=D+u;else if(typeof x.text!="string"){const Xe=c.lineHeight;f.y+=gT(x,Xe)}else f.y+=S}),WC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=We(n.font),s=St(n.padding);if(!n.display)return;const r=Ir(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ht(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+ht(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=ht(a,h,h+d);o.textAlign=r.textAlign(Wy(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Hs(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=We(e.font),i=St(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Qn(e,this.left,this.right)&&Qn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Qn(e,s.left,s.left+s.width)&&Qn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!H3(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=B3(s,i);s&&!r&&he(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&he(n.onHover,[e,i,this],this)}else i&&he(n.onClick,[e,i,this],this)}}function z3(t,e,n,i,s){const r=V3(i,t,e,n),o=j3(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function V3(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function j3(t,e,n){let i=t;return typeof e.text!="string"&&(i=gT(e,n)),i}function gT(t,e){const n=t.text?t.text.length+.5:0;return e*n}function H3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var W3={id:"legend",_element:e1,start(t,e,n){const i=t.legend=new e1({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=St(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Zy extends mn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ve(i.text)?i.text.length:1;this._padding=St(i.padding);const r=s*We(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ht(a,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=ht(a,s,n),l=ke*-.5):(u=r-e,h=ht(a,n,s),l=ke*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=We(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Hs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Wy(n.align),textBaseline:"middle",translation:[o,a]})}}function q3(t,e){const n=new Zy({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var K3={id:"title",_element:Zy,start(t,e,n){q3(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vc=new WeakMap;var G3={id:"subtitle",start(t,e,n){const i=new Zy({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i),vc.set(t,i)},stop(t){mt.removeBox(t,vc.get(t)),vc.delete(t)},beforeUpdate(t,e,n){const i=vc.get(t);mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zo={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=lg(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function wn(t,e){return e&&(ve(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Y3(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function t1(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=We(e.bodyFont),c=We(e.titleFont),u=We(e.footerFont),h=r.length,d=s.length,f=i.length,p=St(e.padding);let g=p.height,v=0,y=i.reduce((b,S)=>b+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*b+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const _=function(b){v=Math.max(v,n.measureText(b).width+m)};return n.save(),n.font=c.string,ae(t.title,_),n.font=l.string,ae(t.beforeBody.concat(t.afterBody),_),m=e.displayColors?o+2+e.boxPadding:0,ae(i,b=>{ae(b.before,_),ae(b.lines,_),ae(b.after,_)}),m=0,n.font=u.string,ae(t.footer,_),n.restore(),v+=p.width,{width:v,height:g}}function X3(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Q3(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function J3(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),Q3(c,t,e,n)&&(c="center"),c}function n1(t,e,n){const i=n.yAlign||e.yAlign||X3(t,n);return{xAlign:n.xAlign||e.xAlign||J3(t,e,n,i),yAlign:i}}function Z3(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function eH(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function i1(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ds(o);let p=Z3(e,a);const g=eH(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:Ze(p,0,i.width-e.width),y:Ze(g,0,i.height-e.height)}}function _c(t,e,n){const i=St(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function s1(t){return wn([],Vn(t))}function tH(t,e,n){return os(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function r1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const mT={beforeTitle:Un,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Un,beforeBody:Un,beforeLabel:Un,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ie(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Un,afterBody:Un,beforeFooter:Un,footer:Un,afterFooter:Un};function Dt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?mT[e].call(n,i):s}class mg extends mn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new YC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=tH(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Dt(i,"beforeTitle",this,e),r=Dt(i,"title",this,e),o=Dt(i,"afterTitle",this,e);let a=[];return a=wn(a,Vn(s)),a=wn(a,Vn(r)),a=wn(a,Vn(o)),a}getBeforeBody(e,n){return s1(Dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return ae(e,r=>{const o={before:[],lines:[],after:[]},a=r1(i,r);wn(o.before,Vn(Dt(a,"beforeLabel",this,r))),wn(o.lines,Dt(a,"label",this,r)),wn(o.after,Vn(Dt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return s1(Dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Dt(i,"beforeFooter",this,e),r=Dt(i,"footer",this,e),o=Dt(i,"afterFooter",this,e);let a=[];return a=wn(a,Vn(s)),a=wn(a,Vn(r)),a=wn(a,Vn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Y3(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),ae(a,u=>{const h=r1(e.callbacks,u);s.push(Dt(h,"labelColor",this,u)),r.push(Dt(h,"labelPointStyle",this,u)),o.push(Dt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=zo[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=t1(this,i),c=Object.assign({},a,l),u=n1(this.chart,i,c),h=i1(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ds(a),{x:d,y:f}=e,{width:p,height:g}=n;let v,y,m,_,b,S;return r==="center"?(b=f+g/2,s==="left"?(v=d,y=v-o,_=b+o,S=b-o):(v=d+p,y=v+o,_=b-o,S=b+o),m=v):(s==="left"?y=d+Math.max(l,u)+o:s==="right"?y=d+p-Math.max(c,h)-o:y=this.caretX,r==="top"?(_=f,b=_-o,v=y-o,m=y+o):(_=f+g,b=_+o,v=y+o,m=y-o),S=_),{x1:v,x2:y,x3:m,y1:_,y2:b,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Ir(i.rtl,this.x,this.width);for(e.x=_c(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=We(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=r,h=We(r.bodyFont),d=_c(this,"left",r),f=s.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(r.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=s.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ug(e,v,y,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ug(e,v,y,m)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=s.leftForLtr(f,c-u),y=s.leftForLtr(s.xPlus(f,1),c-u-2),m=Ds(o.borderRadius);Object.values(m).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Ya(e,{x:v,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ya(e,{x:y,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=We(i.bodyFont);let d=h.lineHeight,f=0;const p=Ir(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(e.x+f),e.y+d/2),e.y+=d+r},v=p.textAlign(o);let y,m,_,b,S,x,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=_c(this,v,i),n.fillStyle=i.bodyColor,ae(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,x=s.length;b<x;++b){for(y=s[b],m=this.labelTextColors[b],n.fillStyle=m,ae(y.before,g),_=y.lines,a&&_.length&&(this._drawColorBox(n,e,b,p,i),d=Math.max(h.lineHeight,l)),S=0,E=_.length;S<E;++S)g(_[S]),d=h.lineHeight;ae(y.after,g)}f=0,d=h.lineHeight,ae(this.afterBody,g),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Ir(i.rtl,this.x,this.width);for(e.x=_c(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=We(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Ds(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=zo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=t1(this,e),l=Object.assign({},o,this._size),c=n1(n,e,l),u=i1(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=St(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),HC(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),WC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Xu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Xu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=zo[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}F(mg,"positioners",zo);var nH={id:"tooltip",_element:mg,positioners:zo,afterInit(t,e,n){n&&(t.tooltip=new mg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iH=Object.freeze({__proto__:null,Colors:g3,Decimation:_3,Filler:U3,Legend:W3,SubTitle:G3,Title:K3,Tooltip:nH});const sH=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function rH(t,e,n,i){const s=t.indexOf(e);if(s===-1)return sH(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const oH=(t,e)=>t===null?null:Ze(Math.round(t),0,e);function o1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class yg extends Js{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ie(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:rH(i,e,Y(n,e),this._addedLabels),oH(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return o1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}F(yg,"id","category"),F(yg,"defaults",{ticks:{callback:o1}});function aH(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,p=u-1,{min:g,max:v}=e,y=!ie(o),m=!ie(a),_=!ie(c),b=(v-g)/(h+1);let S=nw((v-g)/p/f)*f,x,E,k,P;if(S<1e-14&&!y&&!m)return[{value:g},{value:v}];P=Math.ceil(v/S)-Math.floor(g/S),P>p&&(S=nw(P*S/p/f)*f),ie(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),s==="ticks"?(E=Math.floor(g/S)*S,k=Math.ceil(v/S)*S):(E=g,k=v),y&&m&&r&&nz((a-o)/r,S/1e3)?(P=Math.round(Math.min((a-o)/S,u)),S=(a-o)/P,E=o,k=a):_?(E=y?o:E,k=m?a:k,P=c-1,S=(k-E)/P):(P=(k-E)/S,oa(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const D=Math.max(iw(S),iw(E));x=Math.pow(10,ie(l)?D:l),E=Math.round(E*x)/x,k=Math.round(k*x)/x;let M=0;for(y&&(d&&E!==o?(n.push({value:o}),E<o&&M++,oa(Math.round((E+M*S)*x)/x,o,a1(o,b,t))&&M++):E<o&&M++);M<P;++M)n.push({value:Math.round((E+M*S)*x)/x});return m&&d&&k!==a?n.length&&oa(n[n.length-1].value,a,a1(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!m||k===a)&&n.push({value:k}),n}function a1(t,e,{horizontal:n,minRotation:i}){const s=un(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class sh extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ie(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=On(s),c=On(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=aH(s,r);return e.bounds==="ticks"&&xC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Pl(e,this.chart.options.locale,this.options.ticks.format)}}class vg extends sh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?e:0,this.max=Pe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=un(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}F(vg,"id","linear"),F(vg,"defaults",{ticks:{callback:rd.formatters.numeric}});const Qa=t=>Math.floor(Di(t)),us=(t,e)=>Math.pow(10,Qa(t)+e);function l1(t){return t/Math.pow(10,Qa(t))===1}function c1(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function lH(t,e){const n=e-t;let i=Qa(n);for(;c1(t,e,i)>10;)i++;for(;c1(t,e,i)<10;)i--;return Math.min(i,Qa(t))}function cH(t,{min:e,max:n}){e=$t(t.min,e);const i=[],s=Qa(e);let r=lH(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=$t(t.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)i.push({value:d,major:l1(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=$t(t.max,d);return i.push({value:f,major:l1(f),significand:h}),i}class _g extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=sh.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?Math.max(0,e):null,this.max=Pe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=e===us(this.min,0)?us(this.min,-1):us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(us(i,-1)),o(us(s,1)))),i<=0&&r(us(s,-1)),s<=0&&o(us(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=cH(n,this);return e.bounds==="ticks"&&xC(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Pl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Di(e),this._valueRange=Di(this.max)-Di(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Di(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}F(_g,"id","logarithmic"),F(_g,"defaults",{ticks:{callback:rd.formatters.logarithmic,major:{enabled:!0}}});function wg(t){const e=t.ticks;if(e.display&&t.display){const n=St(e.backdropPadding);return Y(e.font&&e.font.size,Le.font.size)+n.height}return 0}function uH(t,e,n){return n=ve(n)?n:[n],{w:_z(t,e.string,n),h:n.length*e.lineHeight}}function u1(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function hH(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ke/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),h=We(c.font),d=uH(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=Bt(t.getIndexAngle(l)+a),p=Math.round(jy(f)),g=u1(p,u.x,d.w,0,180),v=u1(p,u.y,d.h,90,270);dH(n,e,f,g,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=fH(t,i,s)}function dH(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function fH(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,o=wg(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?ke/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(jy(Bt(u.angle+Re))),d=e[c],f=mH(u.y,d.h,h),p=pH(h),g=gH(u.x,d.w,p);i.push({x:u.x,y:f,textAlign:p,left:g,top:f,right:g+d.w,bottom:f+d.h})}return i}function pH(t){return t===0||t===180?"center":t<180?"left":"right"}function gH(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function mH(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function yH(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=i.setContext(t.getPointLabelContext(s)),o=We(r.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[s],{backdropColor:p}=r;if(!ie(p)){const g=Ds(r.borderRadius),v=St(r.backdropPadding);n.fillStyle=p;const y=u-v.left,m=h-v.top,_=d-u+v.width,b=f-h+v.height;Object.values(g).some(S=>S!==0)?(n.beginPath(),Ya(n,{x:y,y:m,w:_,h:b,radius:g}),n.fill()):n.fillRect(y,m,_,b)}Hs(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function yT(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,we);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function vH(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),yT(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function _H(t,e,n){return os(t,{label:n,index:e,type:"pointLabel"})}class Vo extends sh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=St(wg(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Pe(e)&&!isNaN(e)?e:0,this.max=Pe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wg(this.options))}generateTickLabels(e){sh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=he(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?hH(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=we/(this._pointLabels.length||1),i=this.options.startAngle||0;return Bt(e*n+un(i))}getDistanceFromCenterForValue(e){if(ie(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ie(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return _H(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Re+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),yT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&yH(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=s.setContext(d),p=r.setContext(d);vH(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=We(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=St(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Hs(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}F(Vo,"id","radialLinear"),F(Vo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),F(Vo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(Vo,"descriptors",{angleLines:{_fallback:"grid"}});const ud={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rt=Object.keys(ud);function wH(t,e){return t-e}function h1(t,e){if(ie(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Pe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Kr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function d1(t,e,n,i){const s=Rt.length;for(let r=Rt.indexOf(t);r<s-1;++r){const o=ud[Rt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Rt[r]}return Rt[s-1]}function bH(t,e,n,i,s){for(let r=Rt.length-1;r>=Rt.indexOf(n);r--){const o=Rt[r];if(ud[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Rt[n?Rt.indexOf(n):0]}function SH(t){for(let e=Rt.indexOf(t)+1,n=Rt.length;e<n;++e)if(ud[Rt[e]].common)return Rt[e]}function f1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Hy(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function EH(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function p1(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:EH(t,i,s,n)}class Ja extends Js{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new MV._date(e.adapters.date);s.init(n),ra(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:h1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Pe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Pe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=oz(s,r,o);return this._unit=n.unit||(i.autoSkip?d1(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):bH(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:SH(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),p1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ze(n,0,o),i=Ze(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||d1(r.minUnit,n,i,this._getLabelCapacity(n)),a=Y(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Kr(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)f1(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&f1(u,d,p),Object.keys(u).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return he(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=un(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,p1(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(h1(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return IC(e.sort(wH))}}F(Ja,"id","time"),F(Ja,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wc(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Jn(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Jn(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class bg extends Ja{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=wc(n,this.min),this._tableRange=wc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(wc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return wc(this._table,i*this._tableRange+this._minPos,!0)}}F(bg,"id","timeseries"),F(bg,"defaults",Ja.defaults);var kH=Object.freeze({__proto__:null,CategoryScale:yg,LinearScale:vg,LogarithmicScale:_g,RadialLinearScale:Vo,TimeScale:Ja,TimeSeriesScale:bg});const xH=[OV,c3,iH,kH],vT="label";function g1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function CH(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function _T(t,e){t.labels=e}function wT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vT;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function TH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vT;const n={labels:[],datasets:[]};return _T(n,t.labels),wT(n,t.datasets,e),n}function IH(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=T.useRef(null),p=T.useRef(),g=()=>{f.current&&(p.current=new cd(f.current,{type:o,data:TH(a,r),options:l&&{...l},plugins:c}),g1(e,p.current))},v=()=>{g1(e,null),p.current&&(p.current.destroy(),p.current=null)};return T.useEffect(()=>{!s&&p.current&&l&&CH(p.current,l)},[s,l]),T.useEffect(()=>{!s&&p.current&&_T(p.current.config.data,a.labels)},[s,a.labels]),T.useEffect(()=>{!s&&p.current&&a.datasets&&wT(p.current.config.data,a.datasets,r)},[s,a.datasets]),T.useEffect(()=>{p.current&&(s?(v(),setTimeout(g)):p.current.update(h))},[s,l,a.labels,a.datasets,h]),T.useEffect(()=>{p.current&&(v(),setTimeout(g))},[o]),T.useEffect(()=>(g(),()=>v()),[]),Cg.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const DH=T.forwardRef(IH);function PH(t,e){return cd.register(e),T.forwardRef((n,i)=>Cg.createElement(DH,Object.assign({},n,{ref:i,type:t})))}const RH=PH("line",ca);cd.register(...xH);const NH=[{label:"24H",value:1},{label:"1W",value:7},{label:"1M",value:30},{label:"3M",value:90},{label:"6M",value:182},{label:"1Y",value:365},{label:"ALL",value:"max"}];function AH(t){const[e,n]=T.useState(1),i=wm(),[s,r]=T.useState(i.id),[o,a]=T.useState(),[l,c]=T.useState(),[u,h]=T.useState("prices"),[d,f]=T.useState(),{user:p,handleUsersWatchlist:g,getUserWatchlist:v}=rs();p&&console.log(p.email);const y=`https://api.coingecko.com/api/v3/coins/${s}?tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false`,m=`https://api.coingecko.com/api/v3/coins/${s}/market_chart?vs_currency=${t.currency.name.toLowerCase()}&days=${e}`;T.useEffect(()=>{async function E(){const k=await og.get(y);a(k.data),t.objectsWatchlist.filter(P=>P.id==i.id.toLowerCase()).length?f(!0):f(!1)}E()},[]),T.useEffect(()=>{async function E(){const k=await og.get(m);c(k.data)}E()},[t.currency,e]);const _=async()=>{if(d){f(!1);const E=t.objectsWatchlist.filter(k=>k.id!=i.id.toLowerCase());if(p){await g(E);const k=await v();console.log(k),t.setObjectsWatchlist(k)}else t.setObjectsWatchlist(E);localStorage.setItem("objectsWatchlist",JSON.stringify(E))}else if(f(!0),localStorage.setItem("objectsWatchlist",JSON.stringify([...t.objectsWatchlist,...t.coinsObjects.filter(E=>E.id.toLowerCase()==i.id.toLowerCase())])),p){await g([...t.objectsWatchlist,...t.coinsObjects.filter(k=>k.id.toLowerCase()==i.id.toLowerCase())]);const E=await v();console.log(E),t.setObjectsWatchlist(E)}else t.setObjectsWatchlist(E=>[...E,...t.coinsObjects.filter(k=>k.id.toLowerCase()==i.id.toLowerCase())])},b=E=>{let k=document.getElementById("market_caps"),P=document.getElementById("prices");E=="market_cap"?(k.classList.add("activeFormat"),P.classList.remove("activeFormat")):(P.classList.add("activeFormat"),k.classList.remove("activeFormat"))},S={cyan:t.theme=="dark"?"rgb(7, 185, 170)":"rgb(255, 147, 50)",gradient:t.theme=="dark"?"rgba(7, 185, 170, 0.703)":"rgba(255, 146, 50, 0.8)",gradientEnd:t.theme=="dark"?"rgba(0, 0, 0, 0)":"rgba(255, 255, 255, 0)"},x=E=>{const k=E.createLinearGradient(0,0,0,550);return k.addColorStop(0,S.gradient),k.addColorStop(.2,S.gradient),k.addColorStop(1,S.gradientEnd),k};return C("main",{children:[o?C("section",{className:"mainInfoSection",children:[C("div",{className:"coinInfoDiv",children:[w("div",{children:C("p",{className:"rank",children:["Rank #",o.market_cap_rank]})}),C("div",{className:"coinNameDiv",children:[w("img",{src:o.image.small,alt:"Coin Image"}),C("h1",{children:[o.name," Price ",C("span",{className:"symbol",children:[" ",w("i",{className:"dot"}),o.symbol.toUpperCase()]})]})]}),C("div",{className:"coinPriceDiv",children:[w("p",{className:"price",children:t.currencyFormatter.format(o.market_data.current_price[t.currency.name.toLowerCase()])}),C("p",{className:o.market_data.price_change_percentage_24h.toFixed(1)>=0?"pricePercentage green":"pricePercentage red",children:[" ",o.market_data.price_change_percentage_24h.toFixed(2),"%"]})]}),C("div",{className:"coinBtcPriceDiv",children:[C("p",{className:"priceBTC",children:[o.market_data.current_price.btc," BTC"]}),C("p",{className:o.market_data.price_change_percentage_24h>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_24h_in_currency.btc.toFixed(5),"%"]})]})]}),w("div",{className:"coinActionsDiv",children:C("div",{className:"watchlistCheckDiv",children:[w("input",{id:"starInput",type:"checkbox"}),C("label",{htmlFor:"starInput",className:"hideMobile",onClick:_,children:[w("i",{id:"watchlistStar",className:d?"fa-solid fa-star":"fa-regular fa-star"})," WatchList"]}),w("label",{htmlFor:"starInput",className:"hideDesktop",onClick:_,children:w("i",{id:"watchlistStar",className:d?"fa-solid fa-star":"fa-regular fa-star"})})]})})]}):w("div",{className:"loadingPageDiv"}),o&&C("section",{className:"chartSection",children:[C("div",{className:"chartOptionsDiv",children:[C("h2",{children:[o.name," Price Chart ",C("span",{className:"symbol",children:[" ",w("i",{className:"dot"}),"(",o.symbol.toUpperCase(),")"]})," "]}),C("div",{className:"formatChartDiv",children:[w("p",{id:"prices",className:"formatChartItem activeFormat",onClick:()=>{h("prices"),b("prices")},children:"Price"}),w("p",{id:"market_caps",className:"formatChartItem",onClick:()=>{h("market_caps"),b("market_cap")},children:"Market Cap"})]})]}),w("div",{className:"chartDiv",children:l?w(RH,{id:"canvas",className:"chart",data:{labels:l[u].map(E=>{let k=new Date(E[0]),P=`${k.getHours()}:00`;return e===1?P:e==="max"?k.toLocaleDateString("en-us",{year:"numeric",month:"short"}):k.toLocaleDateString("en-us",{month:"short",day:"numeric"})}),datasets:[{label:[u]=="prices"?"Price: ":"Market Cap: ",data:l[u].map(E=>E[1]),borderColor:[S.cyan],fill:!0,backgroundColor:E=>{const k=E.chart.ctx;return x(k)}}]},options:{scales:{x:{ticks:{padding:35,autoSkipPadding:30,autoSkip:!0,maxRotation:0,minRotation:0},grid:{display:!1}},y:{grid:{display:!1},ticks:{padding:10}}},elements:{point:{radius:1}},layout:{padding:{top:30,left:8,right:20,bottom:-20}},plugins:{legend:{display:!1}}}}):w("div",{className:"loadingPageDiv",children:w("h1",{})})}),w("div",{className:"daysButtonsDiv",children:NH.map(E=>w("button",{className:E.value==e?"dayActive":"",onClick:()=>n(E.value),children:E.label}))})]}),o&&C("section",{className:"extraInfoSection",children:[o.market_data.price_change_percentage_1h_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"1H"}),C("p",{className:o.market_data.price_change_percentage_1h_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_1h_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})}),o.market_data.price_change_percentage_24h_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"24H"}),C("p",{className:o.market_data.price_change_percentage_24h_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_24h_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})}),o.market_data.price_change_percentage_7d_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"7D"}),C("p",{className:o.market_data.price_change_percentage_7d_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_7d_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})}),o.market_data.price_change_percentage_14d_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"14D"}),C("p",{className:o.market_data.price_change_percentage_14d_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_14d_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})}),o.market_data.price_change_percentage_30d_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"30D"}),C("p",{className:o.market_data.price_change_percentage_30d_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_30d_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})}),o.market_data.price_change_percentage_1y_in_currency[t.currency.name.toLowerCase()]&&w("div",{children:C("div",{children:[w("p",{children:"1Y"}),C("p",{className:o.market_data.price_change_percentage_1y_in_currency[t.currency.name.toLowerCase()]>=0?"pricePercentage green":"pricePercentage red",children:[o.market_data.price_change_percentage_1y_in_currency[t.currency.name.toLowerCase()].toFixed(4),"%"]})]})})]}),o&&w("section",{className:"aboutSection",children:o.description.en.split(". ")[0]&&C("div",{className:"aboutDiv",children:[C("h3",{children:["About ",o.name]}),o.description.en.split(". ")[0]&&w("div",{dangerouslySetInnerHTML:{__html:o.description.en.split(". ")[0]+". "+o.description.en.split(". ")[1]+"."}}),o.description.en.split(". ")[3]&&w("div",{dangerouslySetInnerHTML:{__html:o.description.en.split(". ")[2]+". "+o.description.en.split(". ")[3]+"."}})]})})]})}function OH(t){const[e,n]=T.useState([]),[i,s]=T.useState(!1),[r,o]=T.useState(!1),[a,l]=T.useState(!1),[c,u]=T.useState(!1),[h,d]=T.useState(!1),[f,p]=T.useState(!1),[g,v]=T.useState(!1);T.useEffect(()=>{t.activeWatchlist?n(t.objectsWatchlist.filter(m=>m.id.toLowerCase().includes(t.search.toLowerCase())&&m.market_cap)):n(t.coins.filter(m=>m.id.includes(t.search.toLowerCase())&&m.market_cap))},[t.coins,t.search,t.activeWatchlist]);const y=(m,_,b)=>{n(_?S=>S.sort((x,E)=>x[m]>E[m]?1:x[m]<E[m]?-1:0):S=>S.sort((x,E)=>x[m]<E[m]?1:x[m]>E[m]?-1:0)),b(S=>!S)};return w("section",{className:"coinsContainer",children:C("table",{className:"coinsDiv",children:[w("thead",{children:C("tr",{className:"coinsLabels",children:[w("th",{className:"coinNumberDiv",children:C("p",{onClick:()=>y("market_cap_rank",i,s),children:[w("span",{})," #"]})}),w("th",{className:"coinsNameDiv",children:C("p",{onClick:()=>y("id",r,o),children:[w("span",{})," Coin"]})}),w("th",{className:"change1Div hideMobile",children:C("p",{onClick:()=>y("price_change_percentage_1h_in_currency",a,l),children:[w("span",{})," Change (1h)"]})}),w("th",{className:"change24Div",children:C("p",{onClick:()=>y("price_change_percentage_24h",c,u),children:[w("span",{})," Change (24h)"]})}),w("th",{className:"priceDiv",children:C("p",{onClick:()=>y("current_price",h,d),children:[w("span",{})," Price"]})}),w("th",{className:"marketCapDiv hideMobile",children:C("p",{onClick:()=>y("market_cap",f,p),children:[w("span",{})," Market Cap"]})}),w("th",{className:"volume24Div hideMobile",children:C("p",{onClick:()=>y("total_volume",g,v),children:[w("span",{})," Volume (24h)"]})})]})}),C("tbody",{className:"coins",children:[e.length==0&&w("tr",{className:"noMatchesDiv",children:C("td",{children:[" ",w("p",{children:" No Search Matches 😢"})]})}),e.map(m=>w(uU,{coin:m,currency:t.currency,currencyFormatter:t.currencyFormatter,coinsObjects:t.coinsObjects,setCoinsObjects:t.setCoinsObjects},m.id))]})]})})}function MH(t){const e="https://api.coingecko.com/api/v3/global",[n,i]=T.useState(),[s,r]=T.useState(),[o,a]=T.useState(),[l,c]=T.useState(),[u,h]=T.useState(!1);return T.useEffect(()=>{async function d(){const f=await og.get(e);i(t.currencyFormatter.format(parseInt(f.data.data.total_market_cap[t.currency.name.toLowerCase()])).replace(".00","")),a(t.currencyFormatter.format(parseInt(f.data.data.total_volume[t.currency.name.toLowerCase()])).replace(".00","")),c(f.data.data.market_cap_percentage.btc.toFixed(1)),r(f.data.data.market_cap_change_percentage_24h_usd.toFixed(1))}d()},[t.currency]),w("section",{children:C("div",{className:u?"loadingMarketData marketData":"marketData",children:[C("div",{className:s>=0?"lightgreen totalMarketCap":"red totalMarketCap",children:[w("p",{className:"labelMaketData",children:"Market Cap"}),C("div",{className:"dataMarketDataDiv",children:[w("p",{className:"dataMarketData",children:n}),C("p",{className:s>=0?"percentageMarketData green":"percentageMarketData red",children:[s,"%"]})]})]}),C("div",{style:u?{}:{backgroundColor:"var(--grey-background-color)"},className:"totalVolume",children:[w("p",{className:"labelMaketData",children:"Volume 24h"}),w("p",{className:"dataMarketData",children:o})]}),C("div",{style:u?{}:{backgroundColor:"var(--grey-background-color)"},className:"totalBtcDom",children:[w("p",{className:"labelMaketData",children:"BTC Dominance"}),C("p",{className:"dataMarketData",children:[l,"%"]})]})]})})}function LH(t){const e=()=>{document.documentElement.scrollTop=0};return C("section",{className:"changePageDiv",children:[C("div",{className:"prevPageDiv hideMobile",children:[w("i",{className:"arrow left"}),w(de,{to:`/page_${t.pageNumber-1<2?1:t.pageNumber-1}`,onClick:()=>{t.setPageNumber(t.pageNumber-1<2?1:t.pageNumber-1),e()},children:"Prev"})]}),C("div",{className:"changePageNumbers",children:[t.pageNumber!=1&&w(de,{className:"changePage",to:"/page_1",onClick:()=>{t.setPageNumber(1),e()},children:"1"}),t.pageNumber>3&&w("p",{className:"treeDots",children:"..."}),t.pageNumber>3&&w(de,{className:"changePage",to:`/page_${t.pageNumber-2}`,onClick:()=>{t.setPageNumber(t.pageNumber-2),e()},children:t.pageNumber-2}),t.pageNumber>2&&w(de,{className:"changePage",to:`/page_${t.pageNumber-1}`,onClick:()=>{t.setPageNumber(t.pageNumber-1),e()},children:t.pageNumber-1}),w("p",{className:"actualPage",children:t.pageNumber}),t.pageNumber<19&&w(de,{className:"changePage",to:`/page_${t.pageNumber+1}`,onClick:()=>{t.setPageNumber(t.pageNumber+1),e()},children:t.pageNumber+1}),t.pageNumber<18&&w(de,{className:"changePage",to:`/page_${t.pageNumber+2}`,onClick:()=>{t.setPageNumber(t.pageNumber+2),e()},children:t.pageNumber+2}),t.pageNumber<17&&w("p",{className:"treeDots",children:"..."}),t.pageNumber!=20&&w(de,{className:"changePage",to:"/page_20",onClick:()=>{t.setPageNumber(20),e()},children:"20"})]}),C("div",{className:"nextPageDiv hideMobile",children:[w(de,{to:`/page_${t.pageNumber+1>19?20:t.pageNumber+1}`,onClick:()=>{t.setPageNumber(t.pageNumber+1>19?20:t.pageNumber+1),e()},children:"Next"}),w("i",{className:"arrow right"})]})]})}function m1(t){const[e,n]=T.useState(""),[i,s]=T.useState(!1),r=wm();T.useEffect(()=>{if(r.page){const l=parseInt(r.page.replace("page_",""));t.setPageNumber(Number.isInteger(l)?l:1)}},[]),T.useEffect(()=>{t.activeWatchlist?o("whatchlist"):o("cryptocurrencies")},[t.activeWatchlist]);const o=l=>{let c=document.getElementById("cryptocurrencies"),u=document.getElementById("whatchlist");l=="cryptocurrencies"?(c.classList.add("active"),u.classList.remove("active"),t.setActiveWatchlist(!1)):(u.classList.add("active"),c.classList.remove("active"),t.setActiveWatchlist(!0))},a=l=>{n(l.target.value),l.target.value.length>0?s(!0):s(!1)};return C("main",{children:[w("section",{className:"mainTitle",children:w("h1",{children:"Cryptocurrency Tracker"})}),w(MH,{currency:t.currency,currencyFormatter:t.currencyFormatter}),w("section",{className:"coinsTabsSection",children:C("div",{className:"coinsTabs",children:[C("div",{className:"coinsMenu",children:[w("p",{id:"cryptocurrencies",onClick:()=>t.setActiveWatchlist(!1),className:"coinsMenuItem active",children:"Cryptocurrencies"}),w("p",{id:"whatchlist",onClick:()=>t.setActiveWatchlist(!0),className:"coinsMenuItem",children:"Whatchlist"})]}),w("div",{className:"searchDiv hideMobile",children:C("form",{children:[w("input",{id:"searchCoin",type:"text",className:i?"searchHidden":"",onChange:a}),C("div",{className:"searchDecoration",children:[w("label",{className:"searchCoinLabel",htmlFor:"searchCoin"}),w("i",{className:"searchIcon"})]})]})})]})}),w(OH,{search:e,objectsWatchlist:t.objectsWatchlist,coinsObjects:t.coinsObjects,setCoinsObjects:t.setCoinsObjects,coins:t.coins,setCoins:t.setCoins,activeWatchlist:t.activeWatchlist,currency:t.currency,currencyFormatter:t.currencyFormatter}),!t.activeWatchlist&&w(LH,{pageNumber:t.pageNumber,setPageNumber:t.setPageNumber})]})}function FH(){const[t,e]=T.useState(""),[n,i]=T.useState(""),[s,r]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(!1),{createUser:u,setWrongInput:h,resetWrong:d}=rs(),f=to();return w("main",{children:C("section",{className:"signUpSection",children:[C("div",{children:[w("div",{className:"titleFormDiv",children:w("h2",{className:"titleForm",children:"Sign Up"})}),C("form",{onSubmit:async g=>{if(g.preventDefault(),a(""),n!==s)return h("passwordConfirm"),a("Passwords do not match");try{c(!0),await u(t,n),f("/profile/user-info")}catch(v){v.message=="Firebase: Error (auth/email-already-in-use)."?(a("Email already in use"),h("email")):v.message=="Firebase: Password should be at least 6 characters (auth/weak-password)."?(a("Short password"),h("password")):a("Failed to create an account")}c(!1)},className:"formSignUp formRegister",children:[o&&w("p",{className:"errorMessage",children:o}),C("div",{className:"emailDiv",children:[w("label",{htmlFor:"email",children:"Email"}),w("input",{onClick:()=>d("email"),onChange:g=>e(g.target.value),type:"email",name:"email",id:"email",required:!0})]}),C("div",{className:"passwordDiv",children:[w("label",{htmlFor:"password",children:"Password"}),w("input",{onClick:()=>d("password"),onChange:g=>i(g.target.value),type:"password",name:"password",id:"password",required:!0})]}),C("div",{className:"passwordConfirmDiv",children:[w("label",{htmlFor:"passwordConfirm",children:"Password Confirmation"}),w("input",{onClick:()=>d("passwordConfirm"),onChange:g=>r(g.target.value),type:"password",name:"passwordConfirm",id:"passwordConfirm",required:!0})]}),!l&&w("button",{type:"submit",className:"submitButton",children:"Sign Up"})]})]}),w("div",{className:"changeLogin",children:C("p",{children:["Already have an account? ",w(de,{to:"/login",children:" Login "})]})})]})})}function $H(t){const[e,n]=T.useState(""),[i,s]=T.useState(""),[r,o]=T.useState(""),[a,l]=T.useState(!1),c=to(),{login:u,setWrongInput:h,resetWrong:d,getUserWatchlist:f}=rs();return w("main",{children:C("section",{className:"signUpSection",children:[C("div",{children:[w("div",{className:"titleFormDiv",children:w("h2",{className:"titleForm",children:"Login"})}),C("form",{onSubmit:async g=>{g.preventDefault(),o("");try{l(!0),await u(e,i),c("/profile")}catch(v){v.message=="Firebase: Error (auth/user-not-found)."?(o("User not found"),h("email")):v.message=="Firebase: Error (auth/wrong-password)."?(o("Incorrect password"),h("password")):v.message.includes("temporarily disabled")?o("Account temporarily disabled. Try again later"):o("Failed to login"),console.log(v.message)}l(!1)},className:"formLogin formRegister",children:[r&&w("p",{className:"errorMessage",children:r}),C("div",{className:"emailDiv",children:[w("label",{htmlFor:"email",children:"Email"}),w("input",{onClick:()=>d("email"),onChange:g=>n(g.target.value),type:"email",name:"email",id:"email",required:!0})]}),C("div",{className:"passwordDiv",children:[w("label",{htmlFor:"password",children:"Password"}),w("input",{onClick:()=>d("password"),onChange:g=>s(g.target.value),type:"password",name:"password",id:"password",required:!0})]}),!a&&w("button",{type:"submit",className:"submitButton",children:"Login"}),w("div",{className:"forgotPasswordDiv",children:w(de,{to:"/forgot-password",children:"Forgot Password?"})})]})]}),w("div",{className:"changeSignIn",children:C("p",{children:["Don't have an account? ",w(de,{to:"/signup",children:" Sign Up "})]})})]})})}function UH(){const[t,e]=T.useState(""),[n,i]=T.useState(""),[s,r]=T.useState(""),[o,a]=T.useState(!1),{resetPassword:l}=rs();return w("main",{children:C("section",{className:"signUpSection",children:[C("div",{children:[w("div",{className:"titleFormDiv",children:w("h2",{children:"Password Reset"})}),C("form",{onSubmit:async u=>{u.preventDefault(),r(""),i("");try{a(!0),await l(t),r("Check your inbox for further instructions! 😄")}catch(h){i("Failed to reset password"),console.log(h.message)}a(!1)},className:"formResetPassword formRegister",children:[s&&w("p",{className:"successMessage",children:s}),n&&w("p",{className:"errorMessage",children:n}),C("div",{className:"emailDiv",children:[w("label",{htmlFor:"email",children:"Email"}),w("input",{onChange:u=>e(u.target.value),type:"email",name:"email",id:"email",required:!0})]}),!o&&w("button",{className:"resetPasswordButton",type:"submit",children:"Reset Password"}),w("div",{className:"resetPasswordLogIn",children:w(de,{to:"/login",children:" Login "})})]})]}),w("div",{className:"changeSignIn",children:C("p",{children:["Don't have an account? ",w(de,{to:"/signup",children:" Sign Up "})]})})]})})}function y1(t){const{user:e,handleLogout:n,handleChangeImage:i,handleChangeUsername:s,deleteProfilePicture:r,loadingImage:o,deleteAccount:a,setResentLogin:l,resentLogin:c,loadingUsername:u,accountError:h,getUserWatchlist:d}=rs(),[f,p]=T.useState(!1),g=wm(),[v,y]=T.useState();T.useEffect(()=>{y(g.page?g.page:"user-info")},[g.page]),T.useEffect(()=>{async function _(){const b=await d();b&&t.setObjectsWatchlist(b)}_()},[]),T.useEffect(()=>{h&&setTimeout(()=>{document.getElementById("errorAccountDiv").classList.add("animate__fadeOutRight"),document.getElementById("errorAccountDiv").classList.remove("animate__fadeInRight")},4850)},[h]);const m=()=>{p(_=>!_)};return w("main",{children:e&&w("section",{className:"profileSection",children:C("div",{className:"profilePageDiv",children:[C("div",{className:"leftSide",children:[w("h1",{children:"Profile Page"}),C(de,{className:v=="user-info"?"activePageProfile":"",to:"/profile/user-info",children:[w("i",{className:"fa-solid fa-user"})," User Info"]}),C(de,{className:v=="settigns"?"activePageProfile":"",to:"/profile/settigns",children:[w("i",{className:"fa-solid fa-wrench"})," Settigns"]}),C(de,{to:"/",onClick:()=>{t.setActiveWatchlist(!0)},children:[w("i",{className:"fa-solid fa-star"})," Watchlist"]}),C(de,{to:"/",onClick:()=>{n()},children:[w("i",{className:"fa-solid fa-right-from-bracket"})," Log out"]})]}),C("div",{className:"rightSide",children:[v=="user-info"&&C("div",{children:[w("h2",{children:"User Info"}),C("div",{className:"profileInfoDiv",children:[C("div",{children:[o&&w("div",{className:"photoProfileDiv ",children:w("div",{src:"",className:"profileImage imageSkeleton",alt:""})}),!o&&e.photoURL&&w("div",{className:"photoProfileDiv",children:w("img",{src:e.photoURL,className:"profileImage",alt:""})}),!o&&!e.photoURL&&w("div",{className:"photoProfileDiv",children:w("i",{className:"fa-solid fa-user"})}),w("label",{htmlFor:"changePic",children:w("i",{className:"changePic fa-solid fa-camera"})}),w("input",{id:"changePic",onChange:i,type:"file"})]}),C("div",{children:[u&&w("div",{className:"usernameP usernameLoading"}),!u&&w("p",{className:"usernameP",children:e.displayName}),w("p",{className:"emailP",children:e.email})]})]}),w("div",{children:C("form",{className:"changeUsernameForm",onSubmit:s,action:"",children:[C("div",{children:[w("label",{htmlFor:"username",children:"Change Username"}),w("input",{type:"text",id:"username",maxLength:"35",name:"username"})]}),w("button",{type:"submit",children:"Save"})]})}),w("div",{className:"deletePictureDiv",children:C("button",{onClick:r,children:[w("i",{className:"fa-solid fa-trash"})," Delete Profile Picture"]})})]}),v=="settigns"&&C("div",{children:[w("h2",{children:"Settings"}),C("div",{className:"settingDelete",children:[w("p",{children:"Delete Account"}),w("button",{onClick:m,children:"Delete"}),f&&w("div",{className:"deleteConfirmation",children:C("div",{children:[w("p",{children:w("i",{className:"fa-solid fa-triangle-exclamation"})}),w("p",{className:"titleDeleteConfirm",children:"Do you really want to delete your account?"}),w("p",{className:"desctitleDeleteConfirm",children:"You won’t be able to recover your account in the future."}),C("div",{children:[w("button",{className:"deleteButton",onClick:()=>{m(),a()},children:"Delete"}),w("button",{className:"cancelButton",onClick:m,children:"Cancel"})]})]})}),!c&&w("div",{className:"requireResentLogin",children:C("div",{children:[w("p",{children:w("i",{className:"fa-solid fa-bell"})}),w("p",{className:"titleDeleteConfirm",children:"You have been logged in for a while"}),w("p",{className:"desctitleDeleteConfirm",children:"For security reasons, to delete your account you must have logged in recently."}),w("p",{className:"desctitleDeleteConfirm",children:"Please, login again."}),C("div",{children:[w("button",{className:"resentLoginButton",onClick:()=>{l(!0),n()},children:"Login"}),w("button",{className:"cancelButton",onClick:()=>l(!0),children:"Cancel"})]})]})})]})]})]}),h&&C("aside",{id:"errorAccountDiv",className:"errorAccountDiv animate__animated animate__fadeInRight animate__faster",children:[w("p",{children:w("i",{className:"fa-solid fa-triangle-exclamation"})}),w("div",{children:C("p",{className:"errorAccount",children:[h," "]})})]})]})})})}function BH(){return w("section",{children:w("div",{className:"signatureDiv animate__animated animate__fadeInUp",children:C("p",{children:["© 2023 | Made with ",w("i",{className:"fa-solid fa-heart"})," by",w(de,{to:"https://emilianomorales.com",target:"_blank",children:" Emiliano Morales"})]})})})}function zH(t){return T.useEffect(()=>{setTimeout(()=>{document.getElementById("loader").classList.add("load")},1600)},[]),w("section",{id:"loader",className:"hideMobile",children:C("div",{className:"div-loader",children:[w("div",{className:"loader",children:w("img",{src:t.theme=="dark"?"/src/resourses/logo-big.svg":"/src/resourses/logo-big-light.svg",alt:""})}),w("div",{className:"section-load"})]})})}function v1({children:t}){const{user:e}=rs();return e?t:w(OS,{to:"/login"})}function xf({children:t}){const{user:e}=rs();return e?w(OS,{to:"/profile"}):t}function VH(){const t=localStorage.getItem("currency")!=null?JSON.parse(localStorage.getItem("currency")):{name:"USD",symbol:"$"},e=localStorage.getItem("theme")!=null?localStorage.getItem("theme"):"dark",n=localStorage.getItem("objectsWatchlist")!=null?JSON.parse(localStorage.getItem("objectsWatchlist")):[],[i,s]=T.useState(e),[r,o]=T.useState(t),[a,l]=T.useState("English"),[c,u]=T.useState(!1),[h,d]=T.useState([]),[f,p]=T.useState([]),[g,v]=T.useState(n),[y,m]=T.useState(1);console.log(g);const _=`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${r.name}&order=market_cap_desc&per_page=100&page=${y}&sparkline=false&price_change_percentage=1h%2C7d&locale=en`;T.useEffect(()=>{fetch(_).then(P=>P.json()).then(P=>{d(P)}).catch(P=>{console.log(P)})},[r,y]),T.useEffect(()=>{x(i)},[]);const b=()=>{document.querySelector("body").setAttribute("data-theme","dark")},S=()=>{document.querySelector("body").setAttribute("data-theme","light")},x=P=>{P=="light"?S():b()},E=()=>{const P=i=="light"?"dark":"light";localStorage.setItem("theme",P),s(P),x(P)},k=new Intl.NumberFormat(r.format,{style:"currency",currency:r.name=="CAD"?"USD":r.name});return C("div",{className:"App",children:[C(lU,{children:[w(cU,{activeWatchlist:c,setActiveWatchlist:u,currency:r,setCurrency:o,language:a,setLanguage:l,theme:i,showTheme:x,toggleTheme:E}),w(zH,{theme:i}),C(HP,{children:[w(Bn,{index:!0,element:w(m1,{pageNumber:y,setPageNumber:m,activeWatchlist:c,setActiveWatchlist:u,currencyFormatter:k,currency:r,coins:h,setCoins:d,coinsObjects:f,setCoinsObjects:p,objectsWatchlist:g})}),w(Bn,{path:":page",element:w(m1,{pageNumber:y,setPageNumber:m,activeWatchlist:c,setActiveWatchlist:u,currencyFormatter:k,currency:r,coins:h,setCoins:d,coinsObjects:f,setCoinsObjects:p,objectsWatchlist:g})}),w(Bn,{path:"/coin/:id",element:w(AH,{currency:r,currencyFormatter:k,theme:i,coins:h,coinsObjects:f,objectsWatchlist:g,setObjectsWatchlist:v})}),w(Bn,{path:"/signup",element:w(xf,{children:w(FH,{})})}),w(Bn,{path:"/login",element:w(xf,{children:w($H,{setObjectsWatchlist:v})})}),w(Bn,{path:"/forgot-password",element:w(xf,{children:w(UH,{})})}),w(Bn,{path:"/profile",element:w(v1,{children:w(y1,{setObjectsWatchlist:v,setActiveWatchlist:u})})}),w(Bn,{path:"/profile/:page/*",element:w(v1,{children:w(y1,{setObjectsWatchlist:v,setActiveWatchlist:u})})})]})]}),w(BH,{})]})}Tf.createRoot(document.getElementById("root")).render(w(YP,{children:w(VH,{})}));
